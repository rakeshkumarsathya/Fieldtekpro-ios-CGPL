//
//  MyOrdersViewController.m
//  Fieldtekpro
//
//  Created by Enstrapp on 07/08/15.
//  Copyright (c) 2015 Enstrapp IT Solutions. All rights reserved.
//

#import "MyOrdersViewController.h"
#import "MyOrdersTableViewCell.h"
#import "DataBase.h"

#import "ConnectionManager.h"
#import "NullChecker.h"
 #import "FilterSortTableViewCell.h"
#import "OperationTableViewCell.h"
#import "MeasureMentDocumentTableViewCell.h"


#define isiPhone5  ([[UIScreen mainScreen] bounds].size.height == 568)?TRUE:FALSE
#define isiPhone6 ( [[UIScreen mainScreen] bounds].size.height == 667)?TRUE:FALSE
#define IS_IPHONE_6_PLUS ([[UIScreen mainScreen] bounds].size.height == 736.0)?TRUE:FALSE
#define IS_IPAD ([[UIScreen mainScreen] bounds].size.height == 1024.0)?TRUE:FALSE

#define UIColorFromRGB(r, g, b)  [UIColor colorWithRed:((r) / 255.0) green:((g) / 255.0) blue:((b) / 255.0) alpha:1.0]

#define ID_INDEX 0
#define NAME_INDEX 1

@interface MyOrdersViewController ()<UITextFieldDelegate>
{
    
    NSMutableArray *structuredFilterSortedArray;
    
    NSString *orderNoString;
    NSString *startDate,*endDate;
    int headerIndexPathRow,textfieldTag;
    
    NSUInteger selectedIndex;
    
    BOOL allCheckBoxSeelcted;
    NSMutableArray *mapDataMainArray;

}

@property (weak, nonatomic) IBOutlet UITableView *MyOrdersTableView,*filterSortTableView;

@end

@implementation MyOrdersViewController
@synthesize MyOrdersTableView;

static dispatch_once_t onceToken;

+ (id)sharedInstance
{
    static MyOrdersViewController *sharedInstance = nil;
    dispatch_once(&onceToken, ^{
        sharedInstance = [[self alloc] init];
    });
    return sharedInstance;
}

- (void)viewDidLoad {
    
    [super viewDidLoad];
    
    defaults=[NSUserDefaults standardUserDefaults];
    
    self.dropDownArray = [NSMutableArray new];
    self.orderHeaderDetails = [[NSMutableDictionary alloc] init];

    
    self.operationDetailsArray=[NSMutableArray new];
    self.mesurementDocumentArray=[NSMutableArray new];
    
    self.selectedMeasureDocsCheckBoxArray=[NSMutableArray new];
 
    self.attachmentArray=[NSMutableArray new];
    
     [measurementDocTableView registerNib:[UINib nibWithNibName:@"MeasureMentDocumentTableViewCell_Iphone5" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"Cell"];
    

    resultString = @"normal";

    [normalBtn setImage:[UIImage imageNamed:@"radioselection.png"] forState:UIControlStateNormal];
    [alarmBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
    [criticalBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];

 
    [[DataBase sharedInstance] deleteOrderTransactions];
    [[DataBase sharedInstance] deleteMeasurementDocuments];
    
    [self setBorderlayerContentViewforView:mPointView];
    [self setBorderlayerContentViewforView:mreadingView];
    [self setBorderlayerContentViewforView:mvaluationView];
    [self setBorderlayerContentViewforView:mresultView];
    [self setBorderlayerContentViewforView:mDateView];
    [self setBorderlayerContentViewforView:mTimeView];
    [self setBorderlayerContentViewforView:mNotesView];
    
     normalFlag = NO;
     alarmFlag = NO;
     criticalFlag = NO;

    
    if (isiPhone5) {
        
        addMDocScrollview.contentInset=UIEdgeInsetsMake(0.0,0.0,600,0.0);
     }
    else{
        
        addMDocScrollview.contentInset=UIEdgeInsetsMake(0.0,0.0,500,0.0);
     }

 
    remainingWorkFlag= YES;
    noremainingWork=@"X";
    //    [remainWorkCheckBoxBtn setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
 
    [self setRightView:mPointTextField withImage:@"dropdown"];
    [self setRightView:mvaluationTextField withImage:@"dropdown"];

 
    measurementTaskCheckBoxFlag = YES;
    measurementTaskCheckString=@" ";
    
    finalFlag=YES;
    aueruid=@"X";
    finalCheckString = @"X";
    //    [finalCheckBoxBtn setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
 
    confirmButton.hidden = YES;
    cancelButton.hidden = YES;
 
    self.selectedCheckBoxImageArray = [NSMutableArray new];
    
 
    myOrderHeaderLabel.text=@"Order";
    confirmationTextview.layer.cornerRadius = 8.0f;
    confirmationTextview.layer.masksToBounds = YES;
    confirmationTextview.layer.borderColor = [[UIColor darkGrayColor] CGColor];
    confirmationTextview.layer.borderWidth = 1.0f;
    
    NSDateFormatter *dateformatter=[[NSDateFormatter alloc]init];
    [dateformatter setDateFormat:@"MMM dd, yyyy"];
    startDateTextField.text = [dateformatter stringFromDate:[NSDate date]];
    endDatetTextfield.text = [dateformatter stringFromDate:[NSDate date]];
    
    //Initializing memory for picker table view drop down.
    [self uiPickerTableViewForDropDownSelection];
    
    if ([[defaults objectForKey:@"Work Safety"] isEqualToString:@"X"])
    {
        createButton.hidden=YES;
        cancelButton.hidden=YES;
        confirmButton.hidden=YES;
        myOrderHeaderLabel.text=@"Work Safety";
    }
   
    filterBackgroundClicked.hidden=YES;
 
    self.OrderListArray = [NSMutableArray new];
    
    inputsDictionary = [NSMutableDictionary new];
    
    structuredFilterSortedArray = [NSMutableArray new];
    selectedFilterSortCheckBoxArray= [NSMutableArray new];
    self.selectedOperationsArray=[NSMutableArray new];
    
    NSMutableArray *tempOrderTypeArray=[NSMutableArray new];
    
    NSArray *tempOrderTypeMaster = [[DataBase sharedInstance] getOrderTypesinSingleArray];
    
    if ([tempOrderTypeMaster count]) {
        
        [tempOrderTypeArray addObject:[NSMutableArray arrayWithObjects:@"ALL",@"", nil]];
    }
    
    for (int i = 0; i<[tempOrderTypeMaster count]; i++) {
        
        [tempOrderTypeArray addObject:[NSMutableArray arrayWithObjects:[tempOrderTypeMaster objectAtIndex:i],@"", nil]];
    }
    
    NSMutableArray *tempPrioritiesArray=[NSMutableArray new];
    
    NSArray *tempOrderPriorityMaster = [[DataBase sharedInstance] getOrderPriorityinSingleArray];
    
    if ([tempOrderPriorityMaster count]) {
        
        [tempPrioritiesArray addObject:[NSMutableArray arrayWithObjects:@"ALL",@"", nil]];
    }
    
    for (int i = 0; i<[tempOrderPriorityMaster count]; i++) {
        
        [tempPrioritiesArray addObject:[NSMutableArray arrayWithObjects:[tempOrderPriorityMaster objectAtIndex:i],@"", nil]];
    }
    
    NSMutableArray *dateArray=[NSMutableArray new];
    
    [dateArray addObject:[NSMutableArray arrayWithObjects:@"Start Date",@"X",nil]];
    
    [dateArray addObject:[NSMutableArray arrayWithObjects:@"From Date",@"",nil]];//for input field
    [dateArray addObject:[NSMutableArray arrayWithObjects:@"To Date",@"",nil]];//for input field
    
    NSMutableArray *tempFilterArray=[NSMutableArray new];
    
    [tempFilterArray addObject:[NSMutableArray arrayWithObjects:@"ALL",@"",nil]];
    [tempFilterArray addObject:[NSMutableArray arrayWithObjects:@"CRTD",@"",nil]];
    [tempFilterArray addObject:[NSMutableArray arrayWithObjects:@"REL",@"",nil]];
    [tempFilterArray addObject:[NSMutableArray arrayWithObjects:@"ISSU",@"",nil]];
    [tempFilterArray addObject:[NSMutableArray arrayWithObjects:@"CANC",@"",nil]];
    
    NSMutableArray *tempAttachmentArray=[NSMutableArray new];
    [tempAttachmentArray addObject:[NSMutableArray arrayWithObjects:@"Yes",@"",nil]];
    
    [structuredFilterSortedArray addObject:[NSMutableArray arrayWithObjects:tempOrderTypeArray,tempPrioritiesArray,dateArray,tempFilterArray,tempAttachmentArray, nil]];
    
    NSMutableArray *tempSortDescriptionTexts=[NSMutableArray new];
    [tempSortDescriptionTexts addObject:[NSMutableArray arrayWithObjects:@"SORT A-Z",@"", nil]];
    [tempSortDescriptionTexts addObject:[NSMutableArray arrayWithObjects:@"SORT Z-A",@"", nil]];
    
    NSMutableArray *tempSortStatusTexts=[NSMutableArray new];
    [tempSortStatusTexts addObject:[NSMutableArray arrayWithObjects:@"CRITICAL TO lOW",@"",nil]];
    [tempSortStatusTexts addObject:[NSMutableArray arrayWithObjects:@"LOW TO CRITICAL",@"", nil]];
    
    NSMutableArray *tempSortMalFuncStartDate=[NSMutableArray new];
    [tempSortMalFuncStartDate addObject:[NSMutableArray arrayWithObjects:@"Ascending 1-9",@"", nil]];
    [tempSortMalFuncStartDate addObject:[NSMutableArray arrayWithObjects:@"Descending 9-1",@"", nil]];
    
    
    NSMutableArray *tempSortOrderNumber=[NSMutableArray new];
    [tempSortOrderNumber addObject:[NSMutableArray arrayWithObjects:@"Ascending 1-9",@"", nil]];
    [tempSortOrderNumber addObject:[NSMutableArray arrayWithObjects:@"Descending 9-1",@"", nil]];
    
    [structuredFilterSortedArray addObject:[NSMutableArray arrayWithObjects:tempSortDescriptionTexts,tempSortStatusTexts,tempSortMalFuncStartDate,tempSortOrderNumber, nil]];
    
    orderNoSortSelected = YES;
    statusSortSelected = NO;
    shortTextSortSelected = NO;
    prioritySortSelected = NO;
    malFuncStartDateSortSelected = NO;
    
    monitorEquipFlag=NO;
    
    releaseButton.hidden=YES;
    
    selectedCheckBoxArray = [NSMutableArray new];
    
    self.selectedOperationsCheckBoxArray = [NSMutableArray new];
    
    CALayer *layer = [myOrdersHeaderView layer];
    [layer setMasksToBounds:YES];
    [layer setCornerRadius:8.0];
    
    
    NSString *str_UserNameDep = [defaults objectForKey:@"userName"];
    decryptedUserName = [str_UserNameDep AES128DecryptWithKey:@""];
    
    // decryptedUserName = [defaults objectForKey:@"userName"];
    
 
    [operationsTableView registerNib:[UINib nibWithNibName:@"OperationTableViewCell-iPhone" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"OperationCell"];
    
    searchBtn.imageEdgeInsets = UIEdgeInsetsMake(-0,10, 10, 0);
    searchBtn.titleEdgeInsets = UIEdgeInsetsMake(30, -40, 0, 0);
    
    filterBtn.imageEdgeInsets = UIEdgeInsetsMake(-0,15, 10, 0);
    filterBtn.titleEdgeInsets = UIEdgeInsetsMake(30,-30, 0, 0);
    
    sortBtn.imageEdgeInsets = UIEdgeInsetsMake(-10,10,5, 15);
    sortBtn.titleEdgeInsets = UIEdgeInsetsMake(30,-15, 0, 0);
    
    refreshBtn.imageEdgeInsets = UIEdgeInsetsMake(-10,20, 10, 0);
    refreshBtn.titleEdgeInsets = UIEdgeInsetsMake(30, -20, 0, 0);
    
 
    // Do any additional setup after loading the view from its nib.
}

-(void)viewWillAppear:(BOOL)animated{
    
    [super viewWillAppear:animated];
    
    if (self.inspectionEquipmentId.length) {
        
        [self monitorOrdersViewController];
    }
    
    else{
        
        [self searchMyOrdersFromSqlite:nil];
     }
 
}

-(void)setRightView:(UITextField *)textField withImage:(NSString *)imageview
{
    arrow = [[UIImageView alloc] initWithImage:[UIImage imageNamed:[NSString stringWithFormat:@"%@",imageview]]];
    
    arrow.frame = CGRectMake(0.0, 0.0, arrow.image.size.width+10.0, arrow.image.size.height);
    arrow.contentMode = UIViewContentModeCenter;
    
    textField.rightView = arrow;
    textField.rightViewMode = UITextFieldViewModeAlways;
}

-(void)setBorderlayerContentViewforView:(UIView *)contentView
{
    contentView.layer.cornerRadius = 2.0f;
    contentView.layer.masksToBounds = YES;
    contentView.layer.borderColor = [[UIColor darkGrayColor] CGColor];
    contentView.layer.borderWidth = 1.0f;
}

 
#pragma mark-
#pragma mark- Validator Methods


-(void)showAlertMessageWithTitle:(NSString*)title message:(NSString*)message cancelButtonTitle:(NSString *)cancelBtnTitle withactionType:(NSString *)actionString forMethod:(NSString *)methodNameString
{
    
    UIAlertController * alert=[UIAlertController alertControllerWithTitle:title
                                                                  message:message
                                                           preferredStyle:UIAlertControllerStyleAlert];
    
    if ([actionString isEqualToString:@"Multiple"]) {
        
        UIAlertAction* yesButton = [UIAlertAction actionWithTitle:@"Yes"
                                                            style:UIAlertActionStyleDefault
                                                          handler:^(UIAlertAction * action)
                                    {
                                        if ([methodNameString isEqualToString:@"Refresh"])
                                        {
                                            
                                             hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
                                             hud.mode = MBProgressHUDAnimationFade;
                                             hud.label.text = @"Data refresh in progress...";
 
                                            [self getLoadSettings];
                                         }
                                         else if ([methodNameString isEqualToString:@"Release"]){
                                            
                                            [self releaseOrder];
                                            
                                        }
                                        
                                        else if ([methodNameString isEqualToString:@"Confirm Alert"]){
                                            
                                            [self confirmOrderAlert];
                                            
                                        }
                                        else if ([methodNameString isEqualToString:@"Confirm"]){
                                            
                                            [self confirmOrder];
                                            
                                        }
                                        
                                        else if ([methodNameString isEqualToString:@"Attachments"]) {
                                                
                                                if (![[[self.attachmentArray objectAtIndex:attachmentCurrentIndex] objectAtIndex:7] isEqualToString:@""])
                                                {
                                                    
 
                                                }
                                                else{
                                                    
                                                    if([[ConnectionManager defaultManager] isReachable])
                                                    {
                                                        
                                                        NSMutableDictionary *endPointDictionary = [NSMutableDictionary new];
                                                        [endPointDictionary setObject:@"AT" forKey:@"ACTIVITY"];
                                                        [endPointDictionary setObject:@"AT" forKey:@"DOCTYPE"];
                                                        [endPointDictionary setObject:@"REST" forKey:@"ENDPOINT"];
                                                        
                                                        NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:endPointDictionary];
                                                        NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
                                                        [self.getDocumentsHeaderDetails setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
                                                        
                                                        hud = [MBProgressHUD showHUDAddedTo:MyOrdersTableView animated:YES];
                                                        hud.mode = MBProgressHUDAnimationFade;
                                                        hud.label.text = @"Downloading in progress...";
                                                        
                                            [Request makeWebServiceRequest:GET_DOCUMENTS parameters:self.getDocumentsHeaderDetails delegate:self];
                                                        
                                                        //[self downloadAttachments];
                                                    }
                                                    else
                                                    {
                                                        
                                                    }
                                                }
                                            }
                                        
                                          // call method whatever u need
                                    }];
        
        UIAlertAction* noButton = [UIAlertAction actionWithTitle:cancelBtnTitle
                                                           style:UIAlertActionStyleDefault
                                                         handler:^(UIAlertAction * action)
                                   {
                                       /** What we write here???????? **/
                                       NSLog(@"you pressed No, thanks button");
                                       // call method whatever u need
                                       [alert dismissViewControllerAnimated:YES completion:nil];
                                       
                                        if ([methodNameString isEqualToString:@"Confirm Response"]){
 
                                            [self responseAlertController];
                                           
                                       }
 
                                   }];
        
        [alert addAction:noButton];
        [alert addAction:yesButton];
        
        [self presentViewController:alert animated:YES completion:nil];
    }
    
    else{
        
        UIAlertAction* okButton = [UIAlertAction actionWithTitle:cancelBtnTitle
                                                           style:UIAlertActionStyleDefault
                                                         handler:^(UIAlertAction * action)
                                   {
                                       
                                       [alert dismissViewControllerAnimated:YES completion:nil];
                                       
                                   }];
        
        [alert addAction:okButton];
        
        [self presentViewController:alert animated:YES completion:nil];
        
    }
}


-(IBAction)takeaPictureBtn:(id)sender{
    
    [self performSelector:@selector(showCamera) withObject:nil afterDelay:0.1];
    
}

-(void)showCamera{
    
    UIImagePickerController * imagePicker = [[UIImagePickerController alloc] init];
     imagePicker.delegate = self;
    imagePicker.modalPresentationStyle = UIModalPresentationCurrentContext;
    imagePicker.sourceType = UIImagePickerControllerSourceTypeCamera;
    imagePicker.allowsEditing =YES;
    [self.view.window.rootViewController presentViewController:imagePicker animated:YES completion:nil];
}

-(IBAction)chooseDocumentClicked:(id)sender{
    
    [self showDocumentPickerInMode:UIDocumentPickerModeOpen];
    
}

-(IBAction)choosefromGalleryBtn:(id)sender{
    
    [self.selectedCheckBoxImageArray removeAllObjects];
    
    ELCImagePickerController *elcPicker = [[ELCImagePickerController alloc] initImagePicker];
    
    elcPicker.maximumImagesCount = 100; //Set the maximum number of images to select to 100
    elcPicker.returnsOriginalImage = YES; //Only return the fullScreenImage, not the fullResolutionImage
    elcPicker.returnsImage = YES; //Return UIimage if YES. If NO, only return asset location information
    elcPicker.onOrder = YES; //For multiple image selection, display and return order of selected images
    elcPicker.mediaTypes = @[(NSString *)kUTTypeImage, (NSString *)kUTTypeMovie];
    //Supports image and movie types
    
    elcPicker.imagePickerDelegate = self;
 
    [self presentViewController:elcPicker animated:YES completion:nil];
}

#pragma mark-
#pragma mark- ImagePickerControllerDelegate from Camera.

- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {
    
     [self.navigationController dismissViewControllerAnimated: YES completion: nil];
    
    arr_images=[[NSMutableArray alloc]initWithCapacity:5];
    arr_imagesDocType=[[NSMutableArray alloc]initWithCapacity:5];
    
    UIImage *image = (UIImage *)[info objectForKey:UIImagePickerControllerOriginalImage];
    NSData *imageData = UIImageJPEGRepresentation(image, .8);
    [[DataBase sharedInstance] setImagecaputreTag:1];
    NSString *filePath = [[[DataBase sharedInstance] getImageDirectory] stringByAppendingPathComponent:[[DataBase sharedInstance] createUniqueIdfortable:@""]];
    [imageData writeToFile:filePath atomically:YES];
    [arr_images addObject:filePath];
    
    cameraFlag = YES;
    
    UIAlertController * alert=[UIAlertController alertControllerWithTitle:@""
                                                                  message:@"Would you like to add this attachment to"
                                                           preferredStyle:UIAlertControllerStyleAlert];
    
    UIAlertAction* notifButton = [UIAlertAction actionWithTitle:@"Yes, please"
                                                          style:UIAlertActionStyleDefault
                                                        handler:^(UIAlertAction * action)
                                  {
                                      
                                      attachmentAlertTypeString = @"BUS2038";
                                      
                                      for (int i =0; i<[arr_images count]; i++) {
                                          
                                          [arr_imagesDocType addObject:attachmentAlertTypeString];
                                      }
                                      [self limitationCheckForImages];
                                      
                                  }];
    
    UIAlertAction* equipmentButton = [UIAlertAction actionWithTitle:@"Yes, please"
                                                              style:UIAlertActionStyleDefault
                                                            handler:^(UIAlertAction * action)
                                      {
                                          
                                          attachmentAlertTypeString = @"EQUI";
                                          
                                          for (int i =0; i<[arr_images count]; i++) {
                                              
                                              [arr_imagesDocType addObject:attachmentAlertTypeString];
                                          }
                                          
                                          [self limitationCheckForImages];
                                          
                                      }];
    
    UIAlertAction* okButton = [UIAlertAction actionWithTitle:@"Cancel"
                                                       style:UIAlertActionStyleDefault
                                                     handler:^(UIAlertAction * action)
                               {
                                   
                                   [alert dismissViewControllerAnimated:YES completion:nil];
                                   
                               }];
    
    [alert addAction:notifButton];
    [alert addAction:equipmentButton];
    [alert addAction:okButton];
    
    [self presentViewController:alert animated:YES completion:nil];
    
}

-(void)limitationCheckForImages{
    
    if (arr_images == nil) {
        arr_images = [NSMutableArray new];
        arr_imagesDocType = [NSMutableArray new];
    }
    
    if (arr_onScreenImages == nil) {
        arr_onScreenImages = [NSMutableArray new];
        arr_onScreenImagesDocType = [NSMutableArray new];
    }
    
    if (arr_images.count>0) {
        
        [arr_onScreenImages addObjectsFromArray:arr_images];
        
        [arr_onScreenImagesDocType addObjectsFromArray:arr_imagesDocType];
        
        if (arr_onScreenImages.count >5) {
            
            [arr_onScreenImages removeObjectsInArray:arr_images];
            [arr_onScreenImagesDocType removeObjectsInArray:arr_imagesDocType];
            
            [self showAlertMessageWithTitle:@"Info" message:@"You cannot upload more than 5 documents at a time" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
            
        }
        else{
            if (cameraFlag) {
                
                [self descriptionAlert];
                
            }
            
            attachmentsFlag=YES;
            // [self setGridView];
            
            [self addAttachmentDocuments];
            

            [attachmentsTableView reloadData];
            
        }
    }
}


-(void)addAttachmentDocuments{
    
    if (self.attachmentArray == nil) {
        self.attachmentArray = [NSMutableArray new];
    }
    else{
        [self.attachmentArray removeAllObjects];
    }
    
    UIImage *customImage ;
    
    for (int x=0; x<[arr_onScreenImages count]; x++) {
        
        if ([[arr_onScreenImages objectAtIndex:x] isKindOfClass:[UIImage class]]) {
            customImage=[arr_onScreenImages objectAtIndex:x];
        }
        else{
            customImage= [UIImage imageWithContentsOfFile:[arr_onScreenImages objectAtIndex:x]];
        }
        
        // Determine output size
        CGFloat maxSize = 1024.0f;
        CGFloat width = customImage.size.width;
        CGFloat height = customImage.size.height;
        CGFloat newWidth = width;
        CGFloat newHeight = height;
        
        // If any side exceeds the maximun size, reduce the greater side to 1200px and proportionately the other one
        if (width > maxSize || height > maxSize) {
            if (width > height) {
                newWidth = maxSize;
                newHeight = (height*maxSize)/width;
            } else {
                newHeight = maxSize;
                newWidth = (width*maxSize)/height;
            }
        }
        
        // Resize the image
        CGSize newSize = CGSizeMake(newWidth, newHeight);
        UIGraphicsBeginImageContext(newSize);
        [customImage drawInRect:CGRectMake(0,0,newSize.width,newSize.height)];
        customImage = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();
        
        // Set maximun compression in order to decrease file size and enable faster uploads & downloads
        //   pictureData = UIImageJPEGRepresentation(imageView.image, 0.0f); (compressed)
        pictureData = UIImageJPEGRepresentation(customImage, 1);//(original)
        
        imageSize =(int)pictureData.length;
        NSLog(@"SIZE OF IMAGE: %i ", imageSize);
        
        contentData = [pictureData base64Encoding];
        
        str_ImageType = [self contentTypeForImageData:pictureData];
        NSLog(@"str_ImageType :%@",str_ImageType);
        
//        if ([[self.fileNameArray objectAtIndex:x] isEqualToString:@"*"]) {
//
//            if ([defaults objectForKey:@"Count"] ==nil) {
//                NSString *str_Count = @"0";
//                [defaults setObject:str_Count forKey:@"Count"];
//            }
//
//            [defaults synchronize];
//
//            NSString *str_CountValue = [defaults objectForKey:@"Count"];
//            int value = [str_CountValue intValue];
//            value = value+1;
//            str_CountValue = [NSString stringWithFormat:@"%i", value];
//            [defaults setObject:str_CountValue forKey:@"Count"];
//            NSString *str_imgName = [NSString stringWithFormat:@"img%03i",value];
//            [self.fileNameArray replaceObjectAtIndex:x withObject:str_imgName];
//        }
        
        if ([[defaults objectForKey:@"Count"] isEqualToString:@"1000"]) {
            [defaults removeObjectForKey:@"Count"];
        }
        
        [defaults synchronize];
        
        // [self.attachmentArray addObject:[NSMutableArray arrayWithObjects:@"",@"",[arr_onScreenImagesDocType objectAtIndex:x],[self.fileNameArray objectAtIndex:x],str_ImageType,[NSString stringWithFormat:@"%i",imageSize],@"",contentData,@"I", nil]];
        
        if (!cameraFlag) {
            
            if (!imageNameFlag) {
                if (self.fileNameArray == nil) {
                    self.fileNameArray = [NSMutableArray new];
                }
                imageNameFlag = YES;
            }
            
            [self.fileNameArray addObject:@"*"];
            
            NSArray *tempArray = self.fileNameArray;
            
            for (int i=0; i<[tempArray count]; i++) {
                NSLog(@"%@",[tempArray objectAtIndex:i]);
                if ([[tempArray objectAtIndex:i] isKindOfClass:[NSArray class]]) {
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
                else if ([[tempArray objectAtIndex:i] isEqualToString:@""]) {
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
                else if ([NullChecker isNull:[tempArray objectAtIndex:i]]){
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
            }
        }
        
        [self.attachmentArray addObject:[NSMutableArray arrayWithObjects:@"",@"",[arr_onScreenImagesDocType objectAtIndex:x],[self.fileNameArray objectAtIndex:x],str_ImageType,[NSString stringWithFormat:@"%i",imageSize],@"",contentData,@"I", nil]];
        
    }
}

-(void)descriptionAlert{
    
    UIAlertController * alertController = [UIAlertController alertControllerWithTitle: @"Alert"
                                                                              message: @"Enter a description for this image"
                                                                       preferredStyle:UIAlertControllerStyleAlert];
    [alertController addTextFieldWithConfigurationHandler:^(UITextField *textField) {
        textField.placeholder = @"Enter Description";
        textField.textColor = [UIColor blueColor];
        textField.clearButtonMode = UITextFieldViewModeWhileEditing;
        textField.borderStyle = UITextBorderStyleRoundedRect;
    }];
    
    [alertController addAction:[UIAlertAction actionWithTitle:@"OK" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {
        NSArray * textfields = alertController.textFields;
        UITextField * namefield = textfields[0];
        
        if ([NullChecker isNull:namefield.text]) {
            
            [self showAlertMessageWithTitle:@"" message:@"Please Enter Description" cancelButtonTitle:@"Ok" withactionType:@"Multiple" forMethod:@"AlertFail"];
        }
        else{
            if (!imageNameFlag) {
                self.fileNameArray = [NSMutableArray new];
                imageNameFlag = YES;
            }
            
            [self.fileNameArray addObject:[namefield.text copy]];
            
            NSArray *tempArray = self.fileNameArray;
            
            for (int i=0; i<[tempArray count]; i++) {
                
                if ([[tempArray objectAtIndex:i] isKindOfClass:[NSArray class]]) {
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
                else if ([[tempArray objectAtIndex:i] isEqualToString:@""]) {
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
                else if ([NullChecker isNull:[tempArray objectAtIndex:i]]){
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
            }
        }
        
        
    }]];
    
    [self presentViewController:alertController animated:YES completion:nil];
    
}

#pragma mark-
#pragma mark- ELCImagePickerControllerDelegate Methods

- (void)elcImagePickerController:(ELCImagePickerController *)picker didFinishPickingMediaWithInfo:(NSArray *)info{
    
    [self dismissViewControllerAnimated:YES completion:nil];
    
    arr_images=[[NSMutableArray alloc]initWithCapacity:5];
    arr_imagesDocType = [[NSMutableArray alloc]initWithCapacity:5];
    
    for(NSDictionary *dict in info) {
        UIImage *image = [dict objectForKey:UIImagePickerControllerOriginalImage];
        NSData *imageData = UIImageJPEGRepresentation(image, .8);
        [[DataBase sharedInstance] setImagecaputreTag:1];
        NSString *filePath = [[[DataBase sharedInstance] getImageDirectory] stringByAppendingPathComponent:[[DataBase sharedInstance] createUniqueIdfortable:@""]];
        [imageData writeToFile:filePath atomically:YES];
        [arr_images addObject:filePath];
    }
    
    cameraFlag = NO;
    
    
    UIAlertController * alert=[UIAlertController alertControllerWithTitle:@""
                                                                  message:@"Would you like to add this attachment to"
                                                           preferredStyle:UIAlertControllerStyleAlert];
    
    UIAlertAction*notifButton = [UIAlertAction actionWithTitle:@"Notification"
                                                         style:UIAlertActionStyleDefault
                                                       handler:^(UIAlertAction * action)
                                 {
                                     attachmentAlertTypeString = @"BUS2038";
                                     
                                     for (int i =0; i<[arr_images count]; i++) {
                                         
                                         [arr_imagesDocType addObject:attachmentAlertTypeString];
                                     }
                                     
                                     [self limitationCheckForImages];
                                     
                                 }];
    
    UIAlertAction* equipButton = [UIAlertAction actionWithTitle:@"Equipment"
                                                          style:UIAlertActionStyleDefault
                                                        handler:^(UIAlertAction * action)
                                  {
                                      
                                      attachmentAlertTypeString = @"EQUI";
                                      
                                      for (int i =0; i<[arr_images count]; i++) {
                                          
                                          [arr_imagesDocType addObject:attachmentAlertTypeString];
                                      }
                                      
                                      [self limitationCheckForImages];
                                      
                                  }];
    
    UIAlertAction* okButton = [UIAlertAction actionWithTitle:@"Cancel"
                                                       style:UIAlertActionStyleDefault
                                                     handler:^(UIAlertAction * action)
                               {
                                   /** What we write here???????? **/
                                   NSLog(@"you pressed No, thanks button");
                                   // call method whatever u need
                                   [alert dismissViewControllerAnimated:YES completion:nil];
                                   
                               }];
    
    [alert addAction:notifButton];
    [alert addAction:equipButton];
    [alert addAction:okButton];
    
    [self presentViewController:alert animated:YES completion:nil];
    
}


-(IBAction)dismissViewAttachments:(id)sender{
    
    //[self.attachmentsSubView removeFromSuperview];
}

-(IBAction)viewAttachments:(id)sender
{
    //    [attachmentsView addSubview:self.attachmentsSubView];
    //    [self.attachmentsTableView reloadData];
}

-(IBAction)deleteMultipleImages:(id)sender{
    
    if ([arr_onScreenImages count]) {
        
        [self aCancel:sender];
    }
    else{
        
        UIAlertView *failureAlert = [[UIAlertView alloc]initWithTitle:@"Inforamtion" message:@"No Images Selected" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles: nil];
        [failureAlert show];
    }
}


-(void)aCancel:(id)sender{
    
    NSMutableIndexSet *indexesToDelete = [NSMutableIndexSet indexSet];
    
    for (id obj in self.selectedCheckBoxImageArray) {
        //do stuff with obj
        if (obj) {
            [indexesToDelete addIndex:[obj intValue]];
        }
    }
    
    [arr_onScreenImages removeObjectsAtIndexes:indexesToDelete];
    [arr_onScreenImagesDocType removeObjectsAtIndexes:indexesToDelete];
    
    [self.fileNameArray removeObjectsAtIndexes:indexesToDelete];
    
    [self setGridView];
    
    [self.selectedCheckBoxImageArray removeAllObjects];
}

- (void)elcImagePickerControllerDidCancel:(ELCImagePickerController *)picker
{
    AppDelegate *app = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    if ([app.viewController respondsToSelector:@selector(dismissViewControllerAnimated:completion:)]){
        [app.viewController dismissViewControllerAnimated:YES completion:nil];
    } else {
        [app.viewController dismissViewControllerAnimated:YES completion:nil];
    }
}

-(NSString *)contentTypeForImageData:(NSData *)data {
    uint8_t c;
    [data getBytes:&c length:1];
    
    switch (c) {
        case 0xFF:
            return @"image/jpeg";
            break;
        case 0x89:
            return @"image/png";
            break;
        case 0x47:
            return @"image/gif";
            break;
        case 0x49:
        case 0x4D:
            return @"image/tiff";
            break;
        case 0x25:
            return @"application/pdf";
            break;
        case 0xD0:
            return @"application/vnd";
            break;
        case 0x46:
            return @"text/plain";
            break;
        default:
            return @"application/octet-stream";
    }
    return nil;
}


-(void)setGridView{
    
    xSpace = -46;
    
    iSpace = -46;
    
    viewImage.frame = CGRectZero;
    [viewImage removeFromSuperview];
    
    imageView.image=nil;
    
    int Width = 0;
    int Height = 0;
    
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {
        
        viewImage = [[UIView alloc]initWithFrame: CGRectMake(0, 10, 284, 264)];
        
        Width = 50;
        Height = 50;
    }
    else if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad){
        
        viewImage = [[UIView alloc]initWithFrame: CGRectMake(0, 10, 920, 200)];
        
        Width = 150;
        Height = 150;
    }
    
    
    [self.imageContainer addSubview:viewImage];
 
    
    for (int x=0; x<[arr_onScreenImages count]; x++) {
        
        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {
            imageView=[[UIImageView alloc]initWithFrame:CGRectMake(xSpace+51, ySpace, Width, Height)];
            
            xSpace=xSpace+85;
            iSpace =iSpace+85;
        }
        else if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad)
        {
            imageView=[[UIImageView alloc]initWithFrame:CGRectMake(xSpace+51, ySpace, Width, Height)];
            
            xSpace=xSpace+185;
            iSpace =iSpace+185;
            
            ySpace =ySpace+0;
        }
        
        imageView.layer.cornerRadius = 9.0;
        [imageView.layer setMasksToBounds:YES];
        
        if ([[arr_onScreenImages objectAtIndex:x] isKindOfClass:[UIImage class]]) {
            imageView.image=[arr_onScreenImages objectAtIndex:x];
        }
        else{
            imageView.image= [UIImage imageWithContentsOfFile:[arr_onScreenImages objectAtIndex:x]];
        }
        
        cancelImage = [UIButton buttonWithType:UIButtonTypeCustom];
        cancelImage.tag = x;
        cancelImage.frame = CGRectMake(iSpace, -12.0, 25, 25);
        
        [cancelImage setImage:[UIImage imageNamed:@"checkbox_unselected.png"] forState:UIControlStateNormal];
        [cancelImage addTarget:self action:@selector(cancelCheckBox:) forControlEvents:UIControlEventTouchUpInside];
        
        [viewImage addSubview:imageView];
        [viewImage addSubview:cancelImage];
        
        if (!cameraFlag) {
            
            if (!imageNameFlag) {
                if (self.fileNameArray == nil) {
                    self.fileNameArray = [NSMutableArray new];
                }
                imageNameFlag = YES;
            }
            
            [self.fileNameArray addObject:@"*"];
            
            NSArray *tempArray = self.fileNameArray;
            
            for (int i=0; i<[tempArray count]; i++) {
                NSLog(@"%@",[tempArray objectAtIndex:i]);
                if ([[tempArray objectAtIndex:i] isKindOfClass:[NSArray class]]) {
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
                else if ([[tempArray objectAtIndex:i] isEqualToString:@""]) {
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
                else if ([NullChecker isNull:[tempArray objectAtIndex:i]]){
                    [self.fileNameArray removeObject:[tempArray objectAtIndex:i]];
                }
            }
        }
    }
    
    viewImage.backgroundColor=[UIColor clearColor];
}

-(void)getAttachedDocuments{
    
    if (self.attachmentArray == nil) {
        self.attachmentArray = [NSMutableArray new];
    }
    else{
        [self.attachmentArray removeAllObjects];
    }
    
    for (int x=0; x<[arr_onScreenImages count]; x++) {
        
        if ([[arr_onScreenImages objectAtIndex:x] isKindOfClass:[UIImage class]]) {
            imageView.image=[arr_onScreenImages objectAtIndex:x];
        }
        else{
            imageView.image= [UIImage imageWithContentsOfFile:[arr_onScreenImages objectAtIndex:x]];
        }
        
        // Determine output size
        CGFloat maxSize = 1024.0f;
        CGFloat width = imageView.image.size.width;
        CGFloat height = imageView.image.size.height;
        CGFloat newWidth = width;
        CGFloat newHeight = height;
        
        // If any side exceeds the maximun size, reduce the greater side to 1200px and proportionately the other one
        if (width > maxSize || height > maxSize) {
            if (width > height) {
                newWidth = maxSize;
                newHeight = (height*maxSize)/width;
            } else {
                newHeight = maxSize;
                newWidth = (width*maxSize)/height;
            }
        }
        
        // Resize the image
        CGSize newSize = CGSizeMake(newWidth, newHeight);
        UIGraphicsBeginImageContext(newSize);
        [imageView.image drawInRect:CGRectMake(0,0,newSize.width,newSize.height)];
        imageView.image = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();
        
        // Set maximun compression in order to decrease file size and enable faster uploads & downloads
        //   pictureData = UIImageJPEGRepresentation(imageView.image, 0.0f); (compressed)
        pictureData = UIImageJPEGRepresentation(imageView.image, 1);//(original)
        // pictureData = UIImagePNGRepresentation(imageView.image);//(original)
        //        NSLog(@"pictureData :%lu",(unsigned long)pictureData.length);
        imageSize =(int)pictureData.length;
        NSLog(@"SIZE OF IMAGE: %i ", imageSize);
        //We have to pass Content Data to Database with Encoding
        
        contentData = [pictureData base64Encoding];
        // NSLog(@"contentData :%@",contentData);
        
        str_ImageType = [self contentTypeForImageData:pictureData];
        NSLog(@"str_ImageType :%@",str_ImageType);
        
        if ([[self.fileNameArray objectAtIndex:x] isEqualToString:@"*"]) {
            
            if ([defaults objectForKey:@"Count"] ==nil) {
                NSString *str_Count = @"0";
                [defaults setObject:str_Count forKey:@"Count"];
            }
            
            [defaults synchronize];
            
            NSString *str_CountValue = [defaults objectForKey:@"Count"];
            int value = [str_CountValue intValue];
            value = value+1;
            str_CountValue = [NSString stringWithFormat:@"%i", value];
            [defaults setObject:str_CountValue forKey:@"Count"];
            NSString *str_imgName = [NSString stringWithFormat:@"img%03i",value];
            [self.fileNameArray replaceObjectAtIndex:x withObject:str_imgName];
        }
        
        if ([[defaults objectForKey:@"Count"] isEqualToString:@"1000"]) {
            [defaults removeObjectForKey:@"Count"];
        }
        
        [defaults synchronize];
        
        [self.attachmentArray addObject:[NSMutableArray arrayWithObjects:@"",@"",[arr_onScreenImagesDocType objectAtIndex:x],[self.fileNameArray objectAtIndex:x],str_ImageType,[NSString stringWithFormat:@"%i",imageSize],@"",contentData,@"I", nil]];
        
        [self.orderHeaderDetails setObject:@"X" forKey:@"DOCS"];
        
    }
}



#pragma mark- Open Document Picker(Delegate) for PDF, DOC Slection from iCloud

 - (void)showDocumentPickerInMode:(UIDocumentPickerMode)mode
{
     UIDocumentMenuViewController *picker =  [[UIDocumentMenuViewController alloc] initWithDocumentTypes:@[@"com.adobe.pdf"] inMode:UIDocumentPickerModeImport];
    
      picker.delegate = self;
    
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {

        picker.popoverPresentationController.sourceView = picker.view;
        picker.popoverPresentationController.sourceRect = picker.view.bounds;
      }
 
    [self presentViewController:picker animated:YES completion:nil];
    
}


-(void)documentMenu:(UIDocumentMenuViewController *)documentMenu didPickDocumentPicker:(UIDocumentPickerViewController *)documentPicker
{
    documentPicker.delegate = self;
    [self presentViewController:documentPicker animated:YES completion:nil];
}

- (void)documentPicker:(UIDocumentPickerViewController *)controller
  didPickDocumentAtURL:(NSURL *)url
{
    PDFUrl= url;
    UploadType=@"PDF";
    [arrimg removeAllObjects];
    [arrimg addObject:url];
 }

//#pragma mark- Open Image Picker Delegate to select image from Gallery or Camera
//- (void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
//{
//
//    UIImage *myImage = [info objectForKey:UIImagePickerControllerOriginalImage];
//
//    UploadType=@"Image";
//    [arrimg removeAllObjects];
//    [arrimg addObject:myImage];
//    [picker dismissViewControllerAnimated:YES completion:NULL];
//
//}


- (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker
{
     [picker dismissViewControllerAnimated:YES completion:NULL];
 }



- (IBAction)backButtonClicked:(id)sender
{
    [self.navigationController popViewControllerAnimated:YES];
}

- (IBAction)dismissAttachmentsClicked:(id)sender
{
    [attachView removeFromSuperview];
}

    
    
    -(IBAction)searchButtonClicked:(id)sender
    {
        [searchView setFrame:CGRectMake(0, 0, MyOrdersTableView.frame.size.width, 60)];
        [MyOrdersTableView setTableHeaderView:searchView];
        
    }
    
-(IBAction)searchCancelClicked:(id)sender
    {
        [MyOrdersTableView setTableHeaderView:nil];
        
    }

-(void)muserAuthorization
{
    id musfObjectID;
    
    if ([defaults objectForKey:@"MUserAuth"]) {
        musfObjectID = [defaults objectForKey:@"MUserAuth"];
    }
    
    for (int i=0; i<[musfObjectID count]; i++) {
        
        if ([[musfObjectID objectAtIndex:i] objectAtIndex:0]) {
            
            if ([[[musfObjectID objectAtIndex:i] objectAtIndex:3] isEqualToString:@"Z"]&&[[[musfObjectID objectAtIndex:i] objectAtIndex:4] isEqualToString:@"W"]) {
                
                confirmButton.hidden=YES;
            }
            
            else  if ([[[musfObjectID objectAtIndex:i] objectAtIndex:3] isEqualToString:@"X"]&&[[[musfObjectID objectAtIndex:i] objectAtIndex:4] isEqualToString:@"W"]) {
                
                cancelButton.hidden=YES;
            }
            
        }
    }
}

-(void)userFunctionAuthorization
{
    id usrObjectID;
    if ([defaults objectForKey:@"UserFuncAuth"]) {
        usrObjectID = [defaults objectForKey:@"UserFuncAuth"];
    }
    
    for (int i=0; i<[usrObjectID count]; i++) {
        
        if ([[usrObjectID objectAtIndex:i] objectAtIndex:0]) {
            
            if ([[[usrObjectID objectAtIndex:i] objectAtIndex:3] isEqualToString:@"Z"]&&[[[usrObjectID objectAtIndex:i] objectAtIndex:4] isEqualToString:@"W"]) {
                
                confirmButton.hidden=YES;
            }
            
            else  if ([[[usrObjectID objectAtIndex:i] objectAtIndex:3] isEqualToString:@"X"]&&[[[usrObjectID objectAtIndex:i] objectAtIndex:4] isEqualToString:@"W"]) {
                
                cancelButton.hidden=YES;
            }
            
        }
    }
    
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}


-(void)monitorOrdersViewController{
    
    if (self.OrderListArray == nil) {
        self.OrderListArray = [NSMutableArray new];
    }
    else{
        
        [self.OrderListArray removeAllObjects];
    }
    
    monitorEquipFlag=NO;
    
    if (self.inspectionEquipmentId.length) {
        
        [self.OrderListArray addObjectsFromArray:[[DataBase sharedInstance] getSortedListOrdersfor:self.inspectionEquipmentId]];
        
        if (![self.OrderListArray count])
        {
 
           // [self showAlertMessageWithTitle:@"Information" message:@"No Data found" cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
            
        }
        else{
            
        }
        myOrdersCountLabel.text = [NSString stringWithFormat:@"My Orders (%i)",(int)[self.OrderListArray count]];
        
        [self.MyOrdersTableView reloadData];
    }
    
}

- (IBAction)mapBtnClicked:(id)sender
{
    _orderMapView.showsUserLocation = NO;
    if (mapDataMainArray == nil)
    {
        mapDataMainArray = [NSMutableArray new];
    }
    else
    {
        [mapDataMainArray removeAllObjects];
    }
    [mapDataMainArray addObjectsFromArray:[[DataBase sharedInstance] getMapAllData]];
    
    [self getCurrentLocations];
    
    [self.view addSubview:self.mapHeaderView];
    
}
- (void)getCurrentLocations{
    CLLocationCoordinate2D coordinate = [self getLocation];
    //    NSString *latitude = [[mapDataArray objectAtIndex:0] objectForKey:@"orderh_latitudes"];
    //    NSString *longitude = [[mapDataArray objectAtIndex:0] objectForKey:@"orderh_longitudes"];
    //    NSLog(@"Latitude  = %@", latitude);
    //    NSLog(@"Longitude = %@", longitude);
    lat=coordinate.latitude;
    longi=coordinate.longitude;
}

-(CLLocationCoordinate2D) getLocation
{
    locationManager = [[CLLocationManager alloc] init];
    locationManager.delegate = self;
    locationManager.desiredAccuracy = kCLLocationAccuracyBest;
    
    locationManager.distanceFilter = kCLDistanceFilterNone;
    locationManager.activityType = CLActivityTypeOtherNavigation;
    
    if ([[[UIDevice currentDevice] systemVersion] floatValue] >= 8.0) {
        
        [locationManager requestWhenInUseAuthorization];
    }
    
    [locationManager startUpdatingLocation];
    
    CLLocation *location = [locationManager location];
    CLLocationCoordinate2D coordinate = [location coordinate];
    
    return coordinate;
}


-(void)orderCancel{
    
    // [ActivityView show:@"Cancellation in progress..."];
    
    if (self.orderHeaderDetails) {
        [self.orderHeaderDetails removeAllObjects];
    }
    else{
        self.orderHeaderDetails = [NSMutableDictionary dictionary];
    }
    
    NSMutableArray *objectIds = [[NSMutableArray alloc] init];
    NSMutableArray *uuids = [NSMutableArray new];
    
    
    for (int i=0; i<[selectedCheckBoxArray count]; i++) {
        
        int rowIndex = [[selectedCheckBoxArray objectAtIndex:i] intValue];
        if ([NullChecker isNull:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]]]) {
            [[DataBase sharedInstance] deleteRecordinOrderForUUID:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"] ObjectcID:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"] ReportedBY:decryptedUserName];
        }
        else{
            [objectIds addObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]]];
            [uuids addObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"]]];
            
            [self.orderHeaderDetails setObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"]] forKey:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]];
            
            if ([[DataBase sharedInstance] cancelOrderForUUID:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"]  ObjectcID:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]  ReportedBY:decryptedUserName])
            {
                NSLog(@"Cancelled %@",[[self.OrderListArray objectAtIndex:rowIndex] firstObject]);
            }
        }
    }
    
    if ([[ConnectionManager defaultManager] isConnectionQueueIsActive]) {
        [[ConnectionManager defaultManager] stopCurrentConnetion];
    }
    
    if([[ConnectionManager defaultManager] isReachable] && [objectIds count])
    {
        NSMutableDictionary *endPointCancelOrderDictionary = [NSMutableDictionary new];
        [endPointCancelOrderDictionary setObject:@"X" forKey:@"ACTIVITY"];
        [endPointCancelOrderDictionary setObject:@"W" forKey:@"DOCTYPE"];
        [endPointCancelOrderDictionary setObject:@"SOAP" forKey:@"ENDPOINT"];
        NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:endPointCancelOrderDictionary];
        NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
        [endPointCancelOrderDictionary setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
        [endPointCancelOrderDictionary setObject:objectIds forKey:@"ITEMS"];
        [endPointCancelOrderDictionary setObject:[[decryptedUserName copy] uppercaseString] forKey:@"REPORTEDBY"];
        
        [endPointCancelOrderDictionary setObject:@"" forKey:@"TRANSMITTYPE"];
        
        [Request makeWebServiceRequest:ORDER_CANCEL parameters:endPointCancelOrderDictionary delegate:self];
    }
    else
    {
        if ([objectIds count]) {
            for (int i = 0; i<[uuids count]; i++) {
                [[DataBase sharedInstance] updateOrderStatus:[uuids objectAtIndex:i] :@"Cancelled"];
            }
        }
        else
        {
             [self showAlertMessageWithTitle:@"FieldTekPro" message:@"Order Cancelled Sucessfully" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
            
        }
        
        
        if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
        {
            [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Activity:Cancel Order #Mode:Offline #Class:Very Important #MUser:%@ #DeviceId:%@",decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
            
        }
        
        [selectedCheckBoxArray removeAllObjects];
        // [ActivityView dismiss];
        [inputsDictionary removeAllObjects];
        [inputsDictionary setObject:@"ORDER BY oh_upadated_Date DESC" forKey:@"RECENT"];
        [self searchMyOrdersFromSqlite:inputsDictionary];
    }
}


-(void)releasevalidationAlert{
    
     [self showAlertMessageWithTitle:@"Decision" message:@"Do you want to release the selected Order?" cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"Release"];
 
    }



-(void)releaseOrder{
 
 
    hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
    hud.mode = MBProgressHUDAnimationFade;
    hud.label.text = @"Releasing in progress...";
        
        if (self.orderHeaderDetails) {
            [self.orderHeaderDetails removeAllObjects];
        }
        else{
            self.orderHeaderDetails = [NSMutableDictionary dictionary];
        }
        
        NSMutableArray *objectIds = [[NSMutableArray alloc] init];
        NSMutableArray *uuids = [NSMutableArray new];
 
            int rowIndex = selectedRow;
    
            if ([NullChecker isNull:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]]]) {
                [[DataBase sharedInstance] deleteRecordinOrderForUUID:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"] ObjectcID:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"] ReportedBY:decryptedUserName];
            }
            else{
                [objectIds addObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]]];
                [uuids addObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"]]];
                
                [self.orderHeaderDetails setObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"]] forKey:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]];
                
                if ([[DataBase sharedInstance] releaseOrderForUUID:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"] ObjectcID:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"] ReportedBY:decryptedUserName]) {
                    
                    NSLog(@"Released %@",[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"]);
                }
         }
 
        if ([[ConnectionManager defaultManager] isConnectionQueueIsActive]) {
            [[ConnectionManager defaultManager] stopCurrentConnetion];
        }
        
        if([[ConnectionManager defaultManager] isReachable] && [objectIds count])
        {
            NSMutableDictionary *endPointReleaseOrderDictionary = [NSMutableDictionary new];
            
            [endPointReleaseOrderDictionary setObject:@"RL" forKey:@"ACTIVITY"];
            [endPointReleaseOrderDictionary setObject:@"W" forKey:@"DOCTYPE"];
            [endPointReleaseOrderDictionary setObject:[defaults objectForKey:@"ENDPOINT"] forKey:@"ENDPOINT"];
            
            NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:endPointReleaseOrderDictionary];
            NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
            [endPointReleaseOrderDictionary setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
            
            [endPointReleaseOrderDictionary setObject:objectIds forKey:@"ITEMS"];
            [endPointReleaseOrderDictionary setObject:[[decryptedUserName copy] uppercaseString] forKey:@"REPORTEDBY"];
            [endPointReleaseOrderDictionary setObject:@"" forKey:@"TRANSMITTYPE"];
            
            [Request makeWebServiceRequest:ORDER_RELEASE parameters:endPointReleaseOrderDictionary delegate:self];
        }
        else
        {
            if ([objectIds count]) {
                for (int i = 0; i<[uuids count]; i++) {
                    [[DataBase sharedInstance] updateOrderStatus:[uuids objectAtIndex:i] :@"Released"];
                }
            }
            else
            {
             
                [self showAlertMessageWithTitle:@"FieldTekPro" message:@"Order Released Sucessfully" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
              }
 
            if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
            {
                [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Activity:Cancel Order #Mode:Offline #Class:Very Important #MUser:%@ #DeviceId:%@",decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
            }
            
            [selectedCheckBoxArray removeAllObjects];
            [MBProgressHUD hideHUDForView:self.view animated:YES];
            [inputsDictionary removeAllObjects];
            [inputsDictionary setObject:@"ORDER BY oh_upadated_Date DESC" forKey:@"RECENT"];
            [self searchMyOrdersFromSqlite:inputsDictionary];
        }
}


-(void)refreshMethod{
    
    // [ActivityView show:@"Data refresh in progress..."];
    
    
    NSMutableDictionary *dataDictionary = [[NSMutableDictionary alloc]init];
    [dataDictionary setObject:@"REFR" forKey:@"TRANSMITTYPE"];
    
    [dataDictionary setObject:decryptedUserName forKey:@"REPORTEDBY"];
    
    if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
    {
        [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro #Activity:Refresh   #Class: Very Important #MUser:%@ #DeviceId:%@",decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
    }
    
    [Request makeWebServiceRequest:GET_SYNC_MAP_DATA parameters:dataDictionary delegate:self];
 }


     -(void)confirmOrderAlert{
 
         if (MyOrdersTableView.tag==0)
         {
             
             if ([[[self.OrderListArray objectAtIndex:selectedRow] objectForKey:@"orderh_status"] isEqualToString:@"REL"])
             {
                 
                 allCheckBoxSeelcted=NO;
                 
                 [selectedAllChekBoxButton setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
                 
                 for (int i=0; i<[self.operationDetailsArray count]; i++) {
                     [self.selectedOperationsCheckBoxArray removeObject:[NSNumber numberWithInteger:i]];
                 }
                 
                 if (self.operationDetailsArray == nil)
                 {
                     self.operationDetailsArray = [NSMutableArray new];
                 }
                 else
                 {
                     [self.operationDetailsArray removeAllObjects];
                 }
                 [self.operationDetailsArray addObjectsFromArray:[[DataBase sharedInstance] getAllOperationsForUUID:[[self.OrderListArray objectAtIndex:selectedRow] objectForKey:@"orderh_id"]]];
                 
                 [operationsTableView reloadData];
                 
                 [confirmOperationsView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                 
                 [self.view addSubview:confirmOperationsView];
              }
             else{
                 [self confirmOrderAlert];
             }
          }
          else if (MyOrdersTableView.tag==1){

             if ([[[filteredArray objectAtIndex:selectedRow] objectForKey:@"orderh_status"] isEqualToString:@"REL"])
             {
                 
                 allCheckBoxSeelcted=NO;
                 [selectedAllChekBoxButton setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
                 
                 for (int i=0; i<[self.operationDetailsArray count]; i++) {
                     [self.selectedOperationsCheckBoxArray removeObject:[NSNumber numberWithInteger:i]];
                 }
                 
                 if (self.operationDetailsArray == nil)
                 {
                     self.operationDetailsArray = [NSMutableArray new];
                 }
                 else
                 {
                     [self.operationDetailsArray removeAllObjects];
                 }
                 [self.operationDetailsArray addObjectsFromArray:[[DataBase sharedInstance] getAllOperationsForUUID:[[filteredArray objectAtIndex:selectedRow] objectForKey:@"orderh_id"]]];
                 
                 [operationsTableView reloadData];
                 
                 [confirmOperationsView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                 [self.view addSubview:confirmOperationsView];
                 
             }
             else{
                 [self confirmOrderAlert];
             }
          }
    }

-(void)finalConfirmationAlert
{
     if ([NullChecker isNull:confirmationTextview.text]) {
        
        [self showAlertMessageWithTitle:@"Information!!" message:@"Please enter confirmation text" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
     }
    else{
        [self confirmOrderAlert];
    }
}


-(void)responseAlertController{
    
    [self searchMyOrdersFromSqlite:nil];
    [self resetAllValues];
    cancelButton.hidden = YES;
    confirmButton.hidden = YES;
    releaseButton.hidden = YES;
    
    [confirmationView removeFromSuperview];
    [confirmOperationsView removeFromSuperview];
    
}


-(void)removeALertMeasurementDocs{
    
    NSMutableIndexSet *indexesToDelete = [NSMutableIndexSet indexSet];
    
    for (int i=0; i<[self.mesurementDocumentArray count]; i++)
    {
        if ([[[self.mesurementDocumentArray objectAtIndex:i] objectAtIndex:6] isEqualToString:@"X"])
        {
            [indexesToDelete addIndex:i];
            
        }
    }
    
    [self.mesurementDocumentArray removeObjectsAtIndexes:indexesToDelete];
    [self.selectedMeasureDocsCheckBoxArray removeAllObjects];
    [measurementDocTableView reloadData];
 }

-(void)wocoResponseAlert{
 
        if ([[ConnectionManager defaultManager] isReachable]) {
 
            hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
            hud.mode = MBProgressHUDAnimationFade;
            hud.label.text = @"WOCO in progress...";
            
            NSMutableDictionary *inputParameters = [NSMutableDictionary new];
             NSMutableDictionary *endPointDictionary = [NSMutableDictionary new];
            [endPointDictionary setObject:@"U" forKey:@"ACTIVITY"];
            [endPointDictionary setObject:@"W" forKey:@"DOCTYPE"];
            [endPointDictionary setObject:@"SOAP" forKey:@"ENDPOINT"];
            NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:endPointDictionary];
            NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
            [inputParameters setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
            
            [inputParameters setObject:decryptedUserName forKey:@"REPORTEDBY"];
            [inputParameters setObject:wocoOrderNoString forKey:@"OBJECTID"];
            
            
            [Request makeWebServiceRequest:ORDER_WOCO parameters:inputParameters delegate:self];
        }
        else{
            
            
            [self showAlertMessageWithTitle:@"No Network Available" message:@"WOCO cannot be performed!" cancelButtonTitle:@"Ok" withactionType:@"" forMethod:nil];
            
        }
    }

-(void)alertAttachmentType{
 
//        if (buttonIndex == 1) {
//            attachmentAlertTypeString = @"BUS2038";
//        }
//        else if (buttonIndex == 2){
//
//            attachmentAlertTypeString = @"EQUI";
//        }
    
        for (int i =0; i<[arr_images count]; i++) {
            
            [arr_imagesDocType addObject:attachmentAlertTypeString];
        }
        
        // [self limitationCheckForImages];
    
}
    



-(void)resetAllValues
{
    activityId=@"";
    accIndicatorIDHeader=@"";
    //    noremainingWork=@"";
    reasonId=@"";
    activityTextField.text=@"";
    accountingIndicatorTextField.text=@"";
    reasonTextField.text=@"";
    confirmationTextview.text=@"";
    
    [MyOrdersTableView reloadData];
}

-(IBAction)copyBtn:(id)sender{
    
    if (![self.selectedOperationsCheckBoxArray count]) {
 
        [self showAlertMessageWithTitle:@"Information" message:@"Please select atleast one operation" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
    }
    else
    {
        
        NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
        
        //[[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_id"]
        //            NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"oh_objectID contains[c] %@ || orderh_shorttext contains[c] %@ ||  orderh_priority_name contains[c] %@  || orderh_startdate contains[c] %@ || orderh_status contains[c] %@ || orderh_euipno_id contains[c] %@ ",searchText,searchText,searchText,searchText,searchText,searchText];
        
        [dateFormatter setDateFormat:@"yyyy-MM-dd"];
        
        NSDate *startDateFormatter = [dateFormatter dateFromString:[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"orderh_startdate"]];
        NSDate *endDateFormatter = [dateFormatter dateFromString:[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"orderh_enddate"]];
        
        // Convert date object into desired format
        [dateFormatter setDateFormat:@"MMM dd, yyyy"];
        
        NSString *convertedStartDateString = [dateFormatter stringFromDate:startDateFormatter];
        
        NSString *convertedEndDateString = [dateFormatter stringFromDate:endDateFormatter];
        
        if ([NullChecker isNull:convertedStartDateString]) {
            
            convertedStartDateString=@"";
        }
        
        if ([NullChecker isNull:convertedEndDateString]) {
            
            convertedEndDateString=@"";
        }
        
        startDateTextField.text=convertedStartDateString;
        endDatetTextfield.text=convertedEndDateString;
        collectiveFlag=YES;
        
        [self enableOperationFields];
        
        confirmScrollview.contentInset=UIEdgeInsetsMake(0.0,0.0,400,0.0);
        [confirmationView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
 
        [self.view addSubview:confirmationView];
        
    }
}

-(IBAction)submitBtn:(id)sender{
    
    for (int i= 0; i <[self.selectedOperationsCheckBoxArray count]; i++) {
        
        int rowIndex = [[self.selectedOperationsCheckBoxArray objectAtIndex:i] intValue];
        
        [[self.operationDetailsArray objectAtIndex:rowIndex] replaceObjectAtIndex:10 withObject:@"New"];
        
        if (confirmationTextview.text.length) {
            [[self.operationDetailsArray objectAtIndex:rowIndex] replaceObjectAtIndex:11 withObject:confirmationTextview.text];
        }
        
        if (reasonId.length) {
            [[self.operationDetailsArray objectAtIndex:rowIndex] replaceObjectAtIndex:23 withObject:reasonId];//ReasonId grund
        }
        
        if (finalCheckString.length) {
            [[self.operationDetailsArray objectAtIndex:rowIndex] replaceObjectAtIndex:8 withObject:aueruid];//aueruid
        }
        
        if (noremainingWork.length) {
            [[self.operationDetailsArray objectAtIndex:rowIndex] replaceObjectAtIndex:25 withObject:noremainingWork];//noremainingwork Leknw
        }
    }
    
    [[DataBase sharedInstance] updateOrderTranscationDetails:self.operationDetailsArray];
    
    [confirmationView removeFromSuperview];
    
    //    [self.selectedOperationsCheckBoxArray removeAllObjects];
    //
    //    checkBoxHeaderBtn.selected = NO;
    //    [checkBoxHeaderBtn setImage:[UIImage imageNamed:@"checkbox_unselected.png"] forState:UIControlStateNormal];
    
    [operationsTableView reloadData];
}

-(IBAction)measurementDocsBtn:(id)sender{
 
   [self.mesurementDocumentArray addObjectsFromArray:[[DataBase sharedInstance] fetchOrderMDocumentsForUUID:[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"oh_objectID"]]];
    
    // [measurementDocTableView reloadData];
 
    [measurementDocumentView setFrame:CGRectMake(0, 0, confirmOperationsView.frame.size.width, confirmOperationsView.frame.size.height)];
    [confirmOperationsView addSubview:measurementDocumentView];
    
  }

-(IBAction)measuremenPointsBtnClicked:(id)sender{
    
    [self.addMeasurePointView setFrame:CGRectMake(0, 0, confirmOperationsView.frame.size.width, confirmOperationsView.frame.size.height)];
    [measurementDocumentView addSubview:self.addMeasurePointView];
    
}

-(void)confirmOrder
{
    //    if (([[[self.OrderListArray objectAtIndex:selectedIndex] objectAtIndex:ORDERTYPEID] isEqualToString:@"ZPM4"] || [[[self.OrderListArray objectAtIndex:selectedIndex] objectAtIndex:ORDERTYPEID] isEqualToString:@"ZPRE"]) && [NullChecker isNull:[[self.OrderListArray objectAtIndex:selectedIndex] objectAtIndex:ORDERHEADERUSER02]]) {
 
    NSString *selectedConfirmAction;
    
    if ([[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"orderh_status"] isEqualToString:@"REL"])
    {
        
        hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
        hud.mode = MBProgressHUDAnimationFade;
        hud.label.text = @"Confirmation in progress...";
        
        selectedConfirmAction=@"";
        
    }
    else{
        
        hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
        hud.mode = MBProgressHUDAnimationFade;
        hud.label.text = @"Teco in progress...";
         selectedConfirmAction=@"Teco";
      }
    
    int rowIndex = selectedRow;
    
    orderNoString=[[self.OrderListArray objectAtIndex:0] objectForKey:@"oh_objectID"];
    
   // self.orderHeaderDetails = [[NSMutableDictionary alloc] init];
    
    [self.orderHeaderDetails setObject:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_id"] forKey:@"ID"];
    
    [self.orderHeaderDetails setObject:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_type_id"] forKey:@"OID"];
    
    [self.orderHeaderDetails setObject:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_user02"] forKey:@"USER02"];
    
    [self.orderHeaderDetails setObject:confirmationTextview.text forKey:@"CONFTEXT"];
    
    [self.orderHeaderDetails setObject:employeeTextField.text forKey:@"EMPLOYEE"];
    
    
    [self.orderHeaderDetails setObject:@"" forKey:@"REMAINWORK"];//leknw
    
    if (noremainingWork.length)
    {
        [self.orderHeaderDetails setObject:noremainingWork forKey:@"REMAINWORK"];//leknw
    }
    
    [self.orderHeaderDetails setObject:@"" forKey:@"CONFIRMREASON"];//grund
    
//    if (reasonId.length) {
//    }
    
    [self.orderHeaderDetails setObject:@"" forKey:@"CONFIRMREASON"];//grund

    
    [self.orderHeaderDetails setObject:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"] forKey:@"OBJECTID"];
    
    [self.orderHeaderDetails setObject:[decryptedUserName copy] forKey:@"REPORTEDBY"];
    
    NSString *convertedStartDateString,*convertedEndDateString,*convertedStartTimeString,*convertedEndTimeString;
    
    NSDate * tempstartDate = [NSDate new];
    NSDate * tempendDate = [NSDate new];
    NSDate * tempStartTime = [NSDate new];
    NSDate * tempEndTime = [NSDate new];
 
 
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
 
    if ([selectedConfirmAction isEqualToString:@"Teco"])
    {
        [dateFormatter setDateFormat:@"MMM dd, yyyy"];
        tempstartDate = [dateFormatter dateFromString:startDateTextField.text];
        tempendDate = [dateFormatter dateFromString:endDatetTextfield.text];
       
         // Convert date object into desired format
        [dateFormatter setDateFormat:@"yyyyMMdd"];
        convertedStartDateString = [dateFormatter stringFromDate:tempstartDate];
        //        convertedStartDateString = startDateTextField.text;
        if ([NullChecker isNull:convertedStartDateString]) {
            convertedStartDateString = @"";
        }
 
        convertedEndDateString = [dateFormatter stringFromDate:tempendDate];
        //        convertedEndDateString = endDatetTextfield.text;
        if ([NullChecker isNull:convertedEndDateString]) {
            convertedEndDateString = @"";
            
        }
 
        [dateFormatter setDateFormat:@"hh:mm a"];

        tempStartTime = [dateFormatter dateFromString:startTimeTetxfield.text];
        tempEndTime = [dateFormatter dateFromString:endTimeTextField.text];
        
        // Convert time object into desired format
        [dateFormatter setDateFormat:@"hhmmss"];
        convertedStartTimeString = [dateFormatter stringFromDate:tempStartTime];
        //        convertedStartDateString = startDateTextField.text;
        if ([NullChecker isNull:convertedStartTimeString]) {
            convertedStartTimeString = @"";
        }
        
        [dateFormatter setDateFormat:@"hhmmss"];
        convertedEndTimeString = [dateFormatter stringFromDate:tempEndTime];
        //        convertedStartDateString = startDateTextField.text;
        if ([NullChecker isNull:convertedEndTimeString]) {
            convertedEndTimeString = @"";
        }
 
        [self.orderHeaderDetails setObject:@"Teco" forKey:@"OSTATUS"];
        
    }
    
    else
    {
        [dateFormatter setDateFormat:@"MMM dd, yyyy"];
        tempstartDate = [dateFormatter dateFromString:startDateTextField.text];
        tempendDate = [dateFormatter dateFromString:endDatetTextfield.text];
        // Convert date object into desired format
        [dateFormatter setDateFormat:@"yyyyMMdd"];
        convertedStartDateString = [dateFormatter stringFromDate:tempstartDate];
        //        convertedStartDateString = startDateTextField.text;
        if ([NullChecker isNull:convertedStartDateString]) {
            convertedStartDateString = @"";
        }
        
        convertedEndDateString = [dateFormatter stringFromDate:tempendDate];
        //        convertedEndDateString = endDatetTextfield.text;
        if ([NullChecker isNull:convertedEndDateString]) {
            convertedEndDateString = @"";
            
        }
        [self.orderHeaderDetails setObject:@"" forKey:@"OSTATUS"];
        
       // [self getAttachedDocuments];
        
        [dateFormatter setDateFormat:@"hh:mm a"];
        
        tempStartTime = [dateFormatter dateFromString:startTimeTetxfield.text];
        tempEndTime = [dateFormatter dateFromString:endTimeTextField.text];
        
        // Convert time object into desired format
        [dateFormatter setDateFormat:@"hhmmss"];
        convertedStartTimeString = [dateFormatter stringFromDate:tempStartTime];
        //        convertedStartDateString = startDateTextField.text;
        if ([NullChecker isNull:convertedStartTimeString]) {
            convertedStartTimeString = @"";
        }
        
        [dateFormatter setDateFormat:@"hhmmss"];
        convertedEndTimeString = [dateFormatter stringFromDate:tempEndTime];
        //        convertedStartDateString = startDateTextField.text;
        if ([NullChecker isNull:convertedEndTimeString]) {
            convertedEndTimeString = @"";
        }
 
         [self.orderHeaderDetails setObject:self.attachmentArray forKey:@"ATTACHMENTS"];
 
    }
    if (!aueruid.length) {
        aueruid = @" ";
    }
    
    [self.orderHeaderDetails setObject:aueruid forKey:@"AEURU"];
    [self.orderHeaderDetails setObject:@"" forKey:@"RSNUM"];
    
    [self.orderHeaderDetails setObject:[NSString stringWithFormat:@"%@",convertedStartDateString] forKey:@"SDATE"];
    [self.orderHeaderDetails setObject:[NSString stringWithFormat:@"%@",convertedEndDateString] forKey:@"EDATE"];
    [self.orderHeaderDetails setObject:[NSString stringWithFormat:@"%@",convertedStartTimeString] forKey:@"STIME"];
    [self.orderHeaderDetails setObject:[NSString stringWithFormat:@"%@",convertedEndTimeString] forKey:@"ETIME"];
    
    //    [self.orderHeaderDetails setObject:@"" forKey:@"OSTATUS"];
    
    [self.orderHeaderDetails setObject:[self.mesurementDocumentArray copy] forKey:@"MDOCS"];
    [self.orderHeaderDetails setObject:[self.operationDetailsArray copy] forKey:@"ITEMS"];
    
    //new collective confirmation structure
    [[DataBase sharedInstance] insertOrderCollectiveDetails:self.orderHeaderDetails withMeasurementDocuments:self.mesurementDocumentArray];
    
    [[DataBase sharedInstance] deleteOrderTransactions];
    [[DataBase sharedInstance] deleteMeasurementDocuments];
 
      if([[ConnectionManager defaultManager] isReachable] && [[self.orderHeaderDetails objectForKey:@"OBJECTID"] length])
      {
        
         NSMutableDictionary *endPointDictionary = [NSMutableDictionary new];
        [endPointDictionary setObject:@"CC" forKey:@"ACTIVITY"];
        [endPointDictionary setObject:@"W" forKey:@"DOCTYPE"];
        [endPointDictionary setObject:[defaults objectForKey:@"ENDPOINT"] forKey:@"ENDPOINT"];
        NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:endPointDictionary];
        NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
        [self.orderHeaderDetails setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
        
        [[NSUserDefaults standardUserDefaults] removeObjectForKey:@"CSRF"];
        [[NSUserDefaults standardUserDefaults] synchronize];
        
        [self.orderHeaderDetails setObject:@"" forKey:@"TRANSMITTYPE"];
 
        [Request makeWebServiceRequest:ORDER_COLLECTIVE_CONFIRMATION parameters:self.orderHeaderDetails delegate:self];
    }
    else{
        
        [[DataBase sharedInstance] deleteOrderTransactions];
        [[DataBase sharedInstance] deleteMeasurementDocuments];
        
        [[DataBase sharedInstance] updateOrderStatus:[self.orderHeaderDetails objectForKey:@"ID"] :@"CNF"];
 
        if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
        {
            [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Orderno:%@ #Activity:Confirm Order #Mode:Offline #Class: Very Important #MUser:%@ #DeviceId:%@",orderNoString,decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
        }
        
        [confirmationView removeFromSuperview];
        [confirmOperationsView removeFromSuperview];
        
        [self resetConfirmTextFields];
        
       // [ActivityView dismiss];
    }
}

-(void)resetConfirmTextFields{
    
    activityTextField.text=@"";
    accountingIndicatorTextField.text=@"";
    reasonTextField.text=@"";
    startDateTextField.text=@"";
    endDatetTextfield.text=@"";
    confirmationTextview.text=@"";
}

-(void)searchMyOrdersFromSqlite :(NSMutableDictionary *)actions{
    
    [defaults removeObjectForKey:@"DETAILSCREEN"];
    [defaults synchronize];
    
    [self.OrderListArray removeAllObjects];
    [self.OrderListArray addObjectsFromArray:[[DataBase sharedInstance] getLocalOrderForCondition:actions]];
    
    //    if ([self.OrderListArray count] ==0) {
    //        UIAlertView *alertListOfOpenNotifications = [[UIAlertView alloc]initWithTitle:@"Info" message:@"No suitable data found for the selected criteria!" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles: nil];
    //        [alertListOfOpenNotifications show];
    //    }
    
    myOrdersCountLabel.text = [NSString stringWithFormat:@"My Orders (%i)",(int)[self.OrderListArray count]];
    
    [MyOrdersTableView scrollRectToVisible:CGRectMake(0, 0, 0, 0) animated:YES];
    
    MyOrdersTableView.tag=0;
    
    [MyOrdersTableView reloadData];
}

-(void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText{
    
    if (searchText.length) {
        
        MyOrdersTableView.tag = 1;
        
        NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"oh_objectID contains[c] %@ || orderh_shorttext contains[c] %@ ||  orderh_priority_name contains[c] %@  || orderh_startdate contains[c] %@ || orderh_status contains[c] %@ || orderh_euipno_id contains[c] %@ ",searchText,searchText,searchText,searchText,searchText,searchText];
        
        filteredArray = [self.OrderListArray filteredArrayUsingPredicate:bPredicate];
        
        myOrdersCountLabel.text = [NSString stringWithFormat:@"My Notifications (%i)",(int)filteredArray.count];
    }
    else{
        
        MyOrdersTableView.tag = 0;
        
        myOrdersCountLabel.text = [NSString stringWithFormat:@"My Notifications (%i)",(int)self.OrderListArray.count];
    }
    
    [MyOrdersTableView scrollRectToVisible:CGRectMake(0, 0, 0, 0) animated:YES];
    
    [MyOrdersTableView reloadData];
    
    //    if (searchBar==self.orderSearchBar) {
    //
    //        NSString *filterString = [NSString stringWithFormat:@"oh_objectID like '%@%%' or orderh_shorttext like '%@%%' or orderh_priority_name like '%@%%' or orderh_startdate like '%@%%' or orderh_status like '%@%%' or orderh_euipno_id like '%@%%'",searchText,searchText,searchText,searchText,searchText,searchText];
    //
    //        [inputsDictionary removeObjectForKey:@"COLOUMN"];
    //        [inputsDictionary setObject:filterString forKey:@"FILTER"];
    //        [self searchMyOrdersFromSqlite:inputsDictionary];
    //    }
    //    else
    //    {
    //        [self.dropDownArray removeAllObjects];
    //        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getSearchMeasureDoc:searchText]];
    //        [dropDownSearchTableview reloadData];
    //    }
}



- (IBAction)backConfirmationClicked:(id)sender {
    [confirmationView removeFromSuperview];
}

- (IBAction)backOperationsClicked:(id)sender {
    [confirmOperationsView removeFromSuperview];
}

- (IBAction)backMeasureDocumentsClicked:(id)sender
{
    [[DataBase sharedInstance] deleteMeasurementDocuments];
    [measurementDocumentView removeFromSuperview];
}

-(IBAction)taskSelectedClicked:(id)sender
{
    [self measurementDoccheckMark];
 
}

//#pragma mark-
//#pragma mark- Textfield Delegate Methods
//
//-(BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{
//
//    if (textField == raedingTextField) {
//        NSUInteger newLength = [textField.text length] + [string length] - range.length;
//        NSCharacterSet *cs = [[NSCharacterSet characterSetWithCharactersInString:NUMBERS_ONLY] invertedSet];
//        NSString *filtered = [[string componentsSeparatedByCharactersInSet:cs] componentsJoinedByString:@""];
//
//        NSString *newString = [textField.text stringByReplacingCharactersInRange:range withString:string];
//        NSArray *decimalRestrictArray = [newString componentsSeparatedByString:@"."];
//
//        if([decimalRestrictArray count] >= 2)
//        {
//            NSString *decimalRestrictString=[NSString stringWithFormat:@"%@",[decimalRestrictArray objectAtIndex:1]];
//            return !([decimalRestrictString length]>2);
//        }
//
//        return (([string isEqualToString:filtered])&&(newLength <= CHARACTER_LIMITQUANTITY));
//    }
//
//    return YES;
//}


-(BOOL)textFieldShouldReturn:(UITextField *)textField{
    
    [textField resignFirstResponder];
    
     [confirmScrollview setContentOffset:CGPointMake(0,0) animated:YES];
    
    return YES;
}
-(BOOL)textFieldShouldBeginEditing:(UITextField *)textField{
    
    [textField reloadInputViews];
    [self.dropDownArray removeAllObjects];
    tag=(int)textField.tag;
    
    int indexPathRow = (int)textField.superview.tag;
    headerIndexPathRow = indexPathRow;
    
    textfieldTag=(int)textField.tag;
    
    int rowIndex = 0;
    
    for (int i=0; i<[selectedCheckBoxArray count]; i++) {
        
        rowIndex = [[selectedCheckBoxArray objectAtIndex:i] intValue];
    }
    
    if (textField == accountingIndicatorTextField) {
        [[accountingIndicatorTextField valueForKey:@"textInputTraits"] setValue:[UIColor clearColor] forKey:@"insertionPointColor"];
        
        accountingIndicatorTextField.inputView = self.dropDownTableView;
        accountingIndicatorTextField.inputAccessoryView = self.mypickerToolbar;
        tag = 4;
        self.dropDownTableView.tag = ORDER_ACCOUNTINGINDICATOR;
        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getAccIndicator]];
        [self.dropDownTableView reloadData];
    }
    
    if (textField == mvaluationTextField) {
        
        [[mvaluationTextField valueForKey:@"textInputTraits"] setValue:[UIColor clearColor] forKey:@"insertionPointColor"];
        mvaluationTextField.inputView = self.dropDownTableView;
        mvaluationTextField.inputAccessoryView = self.mypickerToolbar;
        tag = 4;
        self.dropDownTableView.tag = ORDER_MVALUATION;
        
      //  NSArray *tempArray=[[DataBase sharedInstance] getMeasurementDocumentPoints:[[self.OrderListArray objectAtIndex:selectedRow] objectForKey:@"orderh_euipno_id"]];
        
        NSArray *tempArray=[[DataBase sharedInstance] getMeasurementDocumentPoints:@"*"];

        
        if ([tempArray count]) {
            
            [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getMeasCodes:[[tempArray objectAtIndex:13] objectForKey:@"cdsuf"]]];

         }
        
        
          [self.dropDownTableView reloadData];
     }
    else if (textField == activityTextField)
    {
        [self.dropDownArray removeAllObjects];
        [[activityTextField valueForKey:@"textInputTraits"] setValue:[UIColor clearColor] forKey:@"insertionPointColor"];
        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone)
        {
            activityTextField.inputView = self.dropDownTableView;
            
            activityTextField.inputAccessoryView = self.mypickerToolbar;
            self.dropDownTableView.tag = ORDER_ACTIVITYTYPE;
            
            NSMutableDictionary *getHeaderDetails = [NSMutableDictionary new];
            [getHeaderDetails setObject:[[self.OrderListArray objectAtIndex:rowIndex] objectAtIndex:ORDERHEADERWORKAREA] forKey:@"workarea"];
            
            [getHeaderDetails setObject:[[self.OrderListArray objectAtIndex:rowIndex] objectAtIndex:ORDERHEADERCOSTCENTER] forKey:@"costcenter"];
            
            [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getListOfActivityTypes:getHeaderDetails]];
            [self.dropDownTableView reloadData];
        }
    }
    else if (textField == reasonTextField) {
        
        [self.dropDownArray removeAllObjects];
        [[reasonTextField valueForKey:@"textInputTraits"] setValue:[UIColor clearColor] forKey:@"insertionPointColor"];
        
        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone)
        {
            reasonTextField.inputView = self.dropDownTableView;
            self.dropDownTableView.tag = ORDER_REASONS;
            reasonTextField.inputAccessoryView = self.mypickerToolbar;
            [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getListOfReasons: [[self.OrderListArray objectAtIndex:rowIndex] objectAtIndex:ORDERHEADERPLANTID]]];
            
            [self.dropDownTableView reloadData];
        }
        else
        {
            
        }
    }
    else if (textField == mPointTextField){
        
        [[mPointTextField valueForKey:@"textInputTraits"] setValue:[UIColor clearColor] forKey:@"insertionPointColor"];
        
        mPointTextField.inputView=self.dropDownTableView;
        mPointTextField.inputAccessoryView=self.mypickerToolbar;
        self.dropDownTableView.tag = ORDER_MPOINT;
        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getMeasurementDocumentPoints:@"*"]];
        [_dropDownTableView reloadData];
    }
    else if (textField == startDateTextField) {
         [self datePickerForMalFuncStartDate];
    }
    else if (textField == endDatetTextfield) {
        
        [self datePickerForMalFuncEndDate];
    }
    else if (textField == startTimeTetxfield) {
        
         tag=40;
         [self datePickerForMeasurementTime];
        
    }
    else if (textField == endTimeTextField) {
        
        tag=50;
        [self datePickerForMeasurementTime];
        
    }
    else if (textfieldTag==10) {
        
        self.startDatePicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(0, 250, 0, 0)];
        
        self.startDatePicker.datePickerMode = UIDatePickerModeDate;
        
        textField.inputView =self.startDatePicker;
        
        UIToolbar *myDatePickerToolBar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 100, 320, 56)];
        
        myDatePickerToolBar.barStyle = UIBarStyleBlackOpaque;
        
        [myDatePickerToolBar sizeToFit];
        
        NSMutableArray *barItems = [[NSMutableArray alloc] init];
        
        UIBarButtonItem *cnclBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(pickerFilterCancelClicked)];
        
        [barItems addObject:cnclBtn];
        
        UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
        
        [barItems addObject:flexSpace];
        
        UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(pickerFilterDoneStartDateClicked)];
        
        [barItems addObject:doneBtn];
        
        [myDatePickerToolBar setItems:barItems animated:YES];
        textField.inputAccessoryView = myDatePickerToolBar;
    }
    else if (textfieldTag==20)
    {
        self.EndDatePicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(0, 250, 0, 0)];
        self.EndDatePicker.datePickerMode = UIDatePickerModeDate;
        textField.inputView =self.EndDatePicker;
        UIToolbar *myDatePickerToolBar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 100, 320, 56)];
        myDatePickerToolBar.barStyle = UIBarStyleBlackOpaque;
        [myDatePickerToolBar sizeToFit];
        NSMutableArray *barItems = [[NSMutableArray alloc] init];
        UIBarButtonItem *cnclBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(pickerFilterEndCancelClicked)];
        [barItems addObject:cnclBtn];
        UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
        [barItems addObject:flexSpace];
        UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(pickerFilterDoneEndDateClicked)];
        [barItems addObject:doneBtn];
        [myDatePickerToolBar setItems:barItems animated:YES];
        textField.inputAccessoryView = myDatePickerToolBar;
    }
    
    else if (textField == mDatetextfield) {
        
        [self datePickerForMeasurementDocument];
        
    }
    else if (textField == mTimetextField) {
        [self datePickerForMeasurementTime];
    }
    else if (textField == mreadingTextField) {
        
        [self numberpad];
    }
    
    else if (textField==employeeTextField){
 
        [confirmScrollview setContentOffset:CGPointMake(0, 150) animated:YES];

    }
 
    return YES;
}

#pragma marks-TextView Delegate Methods

- (BOOL)textViewShouldBeginEditing:(UITextView *)textView
{
    [confirmScrollview setContentOffset:CGPointMake(0, 200)];

    return YES;
}

- (void)scrollViewToCenterOfScreen:(UIView *)theView
{
    CGFloat viewCenterY = theView.center.y;
    CGRect applicationFrame = confirmScrollview.frame;
    
    CGFloat availableHeight = applicationFrame.size.height - 230;
    
    CGFloat y = viewCenterY - availableHeight / 2.0;
    if (y < 0) {
        y = 0;
    }
    [confirmScrollview setContentOffset:CGPointMake(0, y) animated:YES];
}


-(void)numberpad
{
    UIToolbar *numberToolbar;
    
    UIBarButtonItem *cancelNumberPadButton;
    UIBarButtonItem *spaceNumberPadButton;
    UIBarButtonItem *applyNumberPadButton;
    NSArray *itemarr;
    
    [mreadingTextField setKeyboardType:UIKeyboardTypeDecimalPad];
    
    numberToolbar = [[UIToolbar alloc]initWithFrame:CGRectMake(0, 0, 320, 40)];
    
    numberToolbar.barStyle = UIBarStyleBlackTranslucent;
    cancelNumberPadButton = [[UIBarButtonItem alloc] initWithTitle:@"Cancel" style:UIBarButtonItemStylePlain target:self action:@selector(cancelNumberPad)];
    spaceNumberPadButton = [[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:nil action:nil];
    applyNumberPadButton = [[UIBarButtonItem alloc] initWithTitle:@"Done" style:UIBarButtonItemStylePlain target:self action:@selector(doneWithNumberPad)];
    
    itemarr = [NSArray arrayWithObjects:cancelNumberPadButton, spaceNumberPadButton, applyNumberPadButton, nil];
    // numberToolbar.items = itemarr;
    
    [numberToolbar setItems:itemarr];
    [numberToolbar sizeToFit];
    
    mreadingTextField.inputAccessoryView = numberToolbar;
    numberToolbar.barStyle = UIBarStyleBlackOpaque;
    [cancelNumberPadButton setTintColor:[UIColor whiteColor]];
    [applyNumberPadButton setTintColor:[UIColor whiteColor]];
    
    
}

-(void)cancelNumberPad{
    
    
}

-(void)doneWithNumberPad{
    
    [mreadingTextField resignFirstResponder];
}


//for MeasurementDatepicker.
-(void)datePickerForMeasurementDocument{
    
    self.measurementDocDatePicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(0, 250, 0, 0)];
    
    self.measurementDocDatePicker.datePickerMode = UIDatePickerModeDate;
    
    mDatetextfield.inputView =self.measurementDocDatePicker;
    
    UIToolbar *myDatePickerToolBar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 100, 320, 56)];
    
    myDatePickerToolBar.barStyle = UIBarStyleBlackOpaque;
    
    [myDatePickerToolBar sizeToFit];
    
    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    
    UIBarButtonItem *cnclBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(measurementDocCancelClicked)];
    
    [barItems addObject:cnclBtn];
    
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
     [barItems addObject:flexSpace];
     UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(measurementDocDoneClicked)];
    
    [barItems addObject:doneBtn];
    
    [myDatePickerToolBar setItems:barItems animated:YES];
    
    mDatetextfield.inputAccessoryView = myDatePickerToolBar;
    
}

-(void)measurementDocCancelClicked
{
    
    [mDatetextfield resignFirstResponder];
    
}

-(void)measurementDocDoneClicked
{
    self.measureMentDocumentDate =[self.measurementDocDatePicker date];
    
    NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
    [dateFormat setDateFormat:@"MMM dd, yyyy"];
    
    mDatetextfield.text = [dateFormat stringFromDate:self.measureMentDocumentDate];
    
    [mDatetextfield resignFirstResponder];
}


//for MeasurementDatepicker.
-(void)datePickerForMeasurementTime{
    
    self.measurementDocTimePicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(0, 250, 0, 0)];
    
    self.measurementDocTimePicker.datePickerMode = UIDatePickerModeTime;
    
    mTimetextField.inputView =self.measurementDocTimePicker;
    startTimeTetxfield.inputView =self.measurementDocTimePicker;
    endTimeTextField.inputView =self.measurementDocTimePicker;
 
    UIToolbar *myDatePickerToolBar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 100, 320, 56)];
    
    myDatePickerToolBar.barStyle = UIBarStyleBlackOpaque;
    
    [myDatePickerToolBar sizeToFit];
    
    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    
    UIBarButtonItem *cnclBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(measurementTimeCancelClicked)];
    
    [barItems addObject:cnclBtn];
    
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    
    [barItems addObject:flexSpace];
    
    UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(measurementTimeDoneClicked)];
    
    [barItems addObject:doneBtn];
    
    [myDatePickerToolBar setItems:barItems animated:YES];
    
    endTimeTextField.inputAccessoryView = myDatePickerToolBar;
    startTimeTetxfield.inputAccessoryView = myDatePickerToolBar;
    mTimetextField.inputAccessoryView = myDatePickerToolBar;

 }


-(void)measurementTimeCancelClicked
{
    [mTimetextField resignFirstResponder];
    [startTimeTetxfield resignFirstResponder];
    [endTimeTextField resignFirstResponder];
 }

-(void)measurementTimeDoneClicked
{
     if (tag==40) {
        
        NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
        [dateFormatter setDateFormat:@"hh:mm a"];
        startTimeTetxfield.text = [dateFormatter stringFromDate:self.measurementDocTimePicker.date];
        [startTimeTetxfield resignFirstResponder];
    }
     else if (tag==50){
         
         NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
         [dateFormatter setDateFormat:@"hh:mm a"];
         endTimeTextField.text = [dateFormatter stringFromDate:self.measurementDocTimePicker.date];
         [endTimeTextField resignFirstResponder];
     }
     else{
         
         NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
         [dateFormatter setDateFormat:@"hh:mm a"];
         mTimetextField.text = [dateFormatter stringFromDate:self.measurementDocTimePicker.date];
         [mTimetextField resignFirstResponder];
     }
}



#pragma mark-
#pragma mark- Create Order

-(IBAction)createOrderBtn:(id)sender{
    
    CreateOrderViewController *createVc = [self.storyboard instantiateViewControllerWithIdentifier:@"CreateOrderVC"];
    
    [self showViewController:createVc sender:self];
    
}
    
    
#pragma mark-
#pragma mark- UIPicker Table View Method

-(void)uiPickerTableViewForDropDownSelection{
    
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone)
    {
        self.dropDownTableView = [[UITableView alloc] initWithFrame:CGRectMake(0, 50, 250, 200)];
    }
    else
    {
        self.dropDownTableView = [[UITableView alloc] initWithFrame:CGRectMake(0, 50, 250, 300)];
    }
    
    
    self.dropDownTableView.delegate=self;
    self.dropDownTableView.dataSource=self;
    
    // Create done button in UIPickerView
    
    self.mypickerToolbar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 100, 320, 56)];
    
    self.mypickerToolbar.barStyle = UIBarStyleBlackOpaque;
    
    [self.mypickerToolbar sizeToFit];
    
    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    
    [barItems addObject:flexSpace];
    
    UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(pickerTableViewCancelClicked)];
    
    [barItems addObject:doneBtn];
    
    [self.mypickerToolbar setItems:barItems animated:YES];
}

-(void)pickerTableViewCancelClicked{
 
    [activityTextField resignFirstResponder];
    [accountingIndicatorTextField resignFirstResponder];
    [reasonTextField resignFirstResponder];
    [mvaluationTextField resignFirstResponder];
    [mPointTextField resignFirstResponder];
 
}

#pragma mark-
#pragma mark-Date Picker for Text Field

//for Datepicker.
-(void)datePickerForMalFuncStartDate{
    
    self.startMalFunctionDatePicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(0, 250, 0, 0)];
    
    self.startMalFunctionDatePicker.datePickerMode = UIDatePickerModeDateAndTime;
    
    startDateTextField.inputView =self.startMalFunctionDatePicker;
    
    UIToolbar *myDatePickerToolBar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 100, 320, 56)];
    
    myDatePickerToolBar.barStyle = UIBarStyleBlackOpaque;
    
    [myDatePickerToolBar sizeToFit];
    
    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    
    UIBarButtonItem *cnclBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(pickerCancelClicked)];
    
    [barItems addObject:cnclBtn];
    
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    
    [barItems addObject:flexSpace];
    
    UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(pickerDoneStartDateClicked)];
    
    [barItems addObject:doneBtn];
    
    [myDatePickerToolBar setItems:barItems animated:YES];
    
    startDateTextField.inputAccessoryView = myDatePickerToolBar;
}

-(void)datePickerForMalFuncEndDate{
    
    self.EndMalFunctionDatePicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(0, 250, 0, 0)];
    
    self.EndMalFunctionDatePicker.datePickerMode = UIDatePickerModeDateAndTime;
    
    endDatetTextfield.inputView =self.EndMalFunctionDatePicker;
    
    UIToolbar *myDatePickerToolBar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 100, 320, 56)];
    
    myDatePickerToolBar.barStyle = UIBarStyleBlackOpaque;
    
    [myDatePickerToolBar sizeToFit];
    
    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    
    UIBarButtonItem *cnclBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(pickerCancelClicked)];
    
    [barItems addObject:cnclBtn];
    
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    
    [barItems addObject:flexSpace];
    
    UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(pickerDoneEndDateClicked)];
    
    [barItems addObject:doneBtn];
    
    [myDatePickerToolBar setItems:barItems animated:YES];
    
    endDatetTextfield.inputAccessoryView = myDatePickerToolBar;
}

-(void)pickerDoneStartDateClicked
{
    self.minStartDate =[self.startMalFunctionDatePicker date];
    
    NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
    [dateFormat setDateFormat:@"MMM dd, yyyy"];
    
    startDateTextField.text = [dateFormat stringFromDate:self.minStartDate];
    
    [startDateTextField resignFirstResponder];
    
    [endDatetTextfield resignFirstResponder];
    if (![endDatetTextfield.text isEqual:@""]) {
        dateFlag = YES;
        self.minEndDate = [dateFormat dateFromString:endDatetTextfield.text];
        NSInteger comparisionResult = [AppDelegate daysBetweenDate:self.minStartDate andDate:self.minEndDate];
        
        NSLog(@"%i",(int)comparisionResult);
        NSString *comparisionString = [NSString stringWithFormat:@"%i",(int)comparisionResult];
        if ([[comparisionString substringToIndex:1] isEqualToString:@"-"]) {
            startDateTextField.text = @"";
            
            [self showAlertMessageWithTitle:@"Alert" message:@"Start Date has to be earlier than End Date" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
          }
    }
}

-(void)pickerDoneEndDateClicked
{
    self.minEndDate =[self.EndMalFunctionDatePicker date];
    
    NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
    [dateFormat setDateFormat:@"MMM dd, yyyy"];
    
    endDatetTextfield.text = [dateFormat stringFromDate:self.minEndDate];
    
    [endDatetTextfield resignFirstResponder];
    
    if (![startDateTextField.text isEqual:@""]) {
        dateFlag = NO;
        self.minStartDate = [dateFormat dateFromString:startDateTextField.text];
        NSInteger comparisionResult = [AppDelegate daysBetweenDate:self.minStartDate andDate:self.minEndDate];
        NSLog(@"%i",(int)comparisionResult);
        NSString *comparisionString = [NSString stringWithFormat:@"%i",(int)comparisionResult];
        if ([[comparisionString substringToIndex:1] isEqualToString:@"-"]) {
            endDatetTextfield.text = @"";
 
            [self showAlertMessageWithTitle:@"Alert" message:@"End Date has to be later than Start Date" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
            
        }
    }
}

-(void)pickerCancelClicked
{
    if (dateFlag == YES) {
        startDateTextField.text = @"";
    }
    else if (dateFlag == NO){
        endDatetTextfield.text = @"";
    }
    
    [startDateTextField resignFirstResponder];
    [endDatetTextfield resignFirstResponder];
    
}


//for Datepicker.
-(void)pickerFilterDoneStartDateClicked{
    
    [self.filterSortTableView reloadData];
}

-(void)pickerFilterCancelClicked{
    
    [self.filterSortTableView reloadData];
}

-(void)pickerFilterEndCancelClicked
{
    [self.filterSortTableView reloadData];
    
}

//for Datepicker.
-(void)pickerFilterDoneEndDateClicked{
    
    [self.filterSortTableView reloadData];
}

////For Barcode scan
//-(void)dismissScanView{
//
//    //[defaults objectForKey:@"scanned"]
//
//    self.orderSearchBar.text = [defaults objectForKey:@"scanned"];
//
//    [self searchBar:self.orderSearchBar textDidChange:self.orderSearchBar.text];
//
//    [scanView.view removeFromSuperview];
//}

//#pragma mark-
//#pragma mark- Iphone Button Actions
//
//-(IBAction)equipmentBarCodeScan:(id)sender{
//    
//    [self.orderSearchBar resignFirstResponder];
//    
//    NSString *nibName =@"";
//    if (isiPhone5) {
//        nibName = @"ScanBarcodeViewController~iPhone5";
//    }
//    else if (isiPhone6){
//        
//        nibName = @"ScanBarcodeViewController~iPhone6";
//    }
//    else if (IS_IPHONE_6_PLUS){
//        
//        nibName = @"ScanBarcodeViewController~iPhone6Plus";
//    }
//    else if (IS_IPAD){
//        
//        nibName = @"ScanBarcodeViewController~iPad";
//    }
//    
//    scanView =[[ScanBarcodeViewController alloc]initWithNibName:nibName bundle:nil];
//    scanView.delegate = self;
//    
//    [self.view addSubview:scanView.view];
//}

-(IBAction)remainingWorkCheckBoxBtn:(id)sender
{
    if (remainingWorkFlag == NO)
    {
        remainingWorkFlag = YES;
        remainingWorkCheckString = @"X";
        [remainWorkCheckBoxBtn setImage:[UIImage imageNamed:@"radioselection.png"] forState:UIControlStateNormal];
        noremainingWork=@"X";
    }
    else
    {
        remainingWorkCheckString = @" ";
        [remainWorkCheckBoxBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
        remainingWorkFlag = NO;
        noremainingWork=@" ";
    }
}

-(IBAction)finalCheckBoxBtn:(id)sender
{
    if (finalFlag == NO)
    {
        aueruid=@"X";
        
        finalFlag = YES;
        finalCheckString = @"X";
        [finalCheckBoxBtn setImage:nil forState:UIControlStateNormal];
        [finalCheckBoxBtn setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
        //        operationStatusLabelinFinish.text=@"Confirmation";
        //        confirmOperationStatusCodeinFinish.backgroundColor=[UIColor greenColor];
    }
    else
    {
        finalCheckString = @" ";
        [finalCheckBoxBtn setImage:nil forState:UIControlStateSelected];
        [finalCheckBoxBtn setImage:[UIImage imageNamed:@"checkbox_unselected.png"] forState:UIControlStateNormal];
        //        operationStatusLabelinFinish.text=@"Partial Confirmation";
        //        confirmOperationStatusCodeinFinish.backgroundColor=[UIColor orangeColor];
        
        aueruid=@" ";
        finalFlag = NO;
    }
}


-(IBAction)confirmSubmitBtn:(id)sender
{
 
    [self showAlertMessageWithTitle:@"Decision" message:@"Do you want to submit for Technical Confirmation?" cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"Confirm"];
    
}

-(IBAction)addNewMeasureDocumentDetails:(id)sender
{
    measurementPointTextField.text=@"";
    measurementTimeTextField.text=@"";
    measurementDateTextField.text=@"";
    measurementDescriptionTextField.text=@"";
    raedingTextField.text=@"";
    [measurementDocScrollView setContentOffset:CGPointMake(0, 0) animated:NO];
    [self.view addSubview:measurementDetailsView];
    
    NSDateFormatter *dateformatter=[[NSDateFormatter alloc]init];
    [dateformatter setDateFormat:@"MMM dd, yyyy hh:mm a"];
    NSString *dateTimeSeperatedString=[dateformatter stringFromDate:[NSDate date]];
    
    if (dateTimeSeperatedString.length) {
        measurementDateTextField.text =[NSString stringWithFormat:@"%@",[dateTimeSeperatedString substringToIndex:12]];
        measurementTimeTextField.text=[NSString stringWithFormat:@"%@",[dateTimeSeperatedString substringFromIndex:13]];
    }
    
    [self emptyMeasurementDetails]; // add this in newmeasurementdocumentdetails button
}

-(void)emptyMeasurementDetails
{
    measurementPointTextField.text=@"";
    measurementDescriptionTextField.text=@"";
    raedingTextField.text=@"";
    [measurementDocScrollView setContentOffset:CGPointMake(0, 0) animated:NO];
    [self.view addSubview:measurementDetailsView];
    
}

- (IBAction)dismissMeasurementDetailsClicked:(id)sender
{
    [self emptyMeasurementDetails];
    [measurementDetailsView removeFromSuperview];
}

-(IBAction)cancelMdocsClicked:(id)sender{
    
      [self.addMeasurePointView removeFromSuperview];
 }

-(IBAction)addMeasureDocumentDetails:(id)sender{
    
    if(![JEValidator validateTextValue:mPointTextField.text])
    {
 
        [self showAlertMessageWithTitle:@"Failure" message:@"Please Select MeasurementPoint" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
     }
    
    else if(![JEValidator validateTextValue:mDatetextfield.text])
    {
 
        [self showAlertMessageWithTitle:@"Failure" message:@"Please enter Date" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
        
    }
    else if(![JEValidator validateTextValue:mTimetextField.text])
    {
 
        [self showAlertMessageWithTitle:@"Failure" message:@"Please enter Time" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
    }
    else if([resultString isEqualToString:@""])
    {
        
        [self showAlertMessageWithTitle:@"Failure" message:@"Please enter Date" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
 
    }
    else
    {
        
        NSMutableDictionary *addMdocsDictionary = [NSMutableDictionary new];
        [addMdocsDictionary setObject:[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"orderh_id"]  forKey:@"ID"];
        [addMdocsDictionary setObject:@"" forKey:@"ITEMSTATUS"];
        [addMdocsDictionary setObject:[mPointTextField.text copy] forKey:@"MEASUREMENTPOINTNAME"];
        [addMdocsDictionary setObject:@"" forKey:@"MEASUREMENTDESCRIPTION"];
        [addMdocsDictionary setObject:[mreadingTextField.text copy] forKey:@"MEASUREMENTREADING"];
        [addMdocsDictionary setObject:[mDatetextfield.text copy] forKey:@"MEASUREMENTDATE"];
        [addMdocsDictionary setObject:[mTimetextField.text copy] forKey:@"MEASUREMENTTIME"];
        [addMdocsDictionary setObject:[measurementTaskCheckString copy] forKey:@"MEASUREMENTTASK"];
        [addMdocsDictionary setObject:@"" forKey:@"MVALUATION"];
        [addMdocsDictionary setObject:@"" forKey:@"RESULT"];
         if (resultString.length) {
            
            [addMdocsDictionary setObject:[resultString copy] forKey:@"RESULT"];
         }
 
        [[DataBase sharedInstance] insertMeasurementDocs:addMdocsDictionary];
        
        if (self.mesurementDocumentArray == nil) {
            self.mesurementDocumentArray = [NSMutableArray new];
        }
        else{
            
            [self.mesurementDocumentArray removeAllObjects];
        }
 
        [self.mesurementDocumentArray addObjectsFromArray:[[DataBase sharedInstance] fetchMeasurementDocumentsForUUID:[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"orderh_id"]]];
        
        [measurementDetailsView removeFromSuperview];
        [measurementDocTableView reloadData];
        [self.addMeasurePointView removeFromSuperview];

     }
}



-(void)measurementDoccheckMark{
    
    if (measurementTaskCheckBoxFlag == NO)
    {
        measurementTaskCheckBoxFlag = YES;
        measurementTaskCheckString = @"X";
        [taskSelectedBtn setImage:nil forState:UIControlStateNormal];
        [taskSelectedBtn setImage:[UIImage imageNamed:@"radioselection.png"] forState:UIControlStateNormal];
    }
    else
    {
        measurementTaskCheckString = @" ";
        [taskSelectedBtn setImage:nil forState:UIControlStateSelected];
        [taskSelectedBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
        measurementTaskCheckBoxFlag = NO;
    }
}


-(IBAction)normalBtnClicked:(id)sender{
    
     [self normalCheckMark];
 }

-(IBAction)alarmBtnClicked:(id)sender{
    
    [self alarmCheckMark];
    
}

-(IBAction)criticalBtnClicked:(id)sender{
    
    [self criticalCheckMark];
    
}

-(void)normalCheckMark{
 
    resultString = @"normal";
 
    [normalBtn setImage:[UIImage imageNamed:@"radioselection.png"] forState:UIControlStateNormal];
    [alarmBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
    [criticalBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
 
}

-(void)alarmCheckMark{
 
    resultString = @"alarm";
 
    [normalBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
    [alarmBtn setImage:[UIImage imageNamed:@"radioselection.png"] forState:UIControlStateNormal];
    [criticalBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
 
}

-(void)criticalCheckMark{
    
    resultString = @"critical";

    [normalBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
    [alarmBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
    [criticalBtn setImage:[UIImage imageNamed:@"radioselection.png"] forState:UIControlStateNormal];
    
}

-(IBAction)navigateMdocsButton:(id)sender
{
    
    if (self.mesurementDocumentArray == nil) {
        self.mesurementDocumentArray = [NSMutableArray new];
    }
    else{
        
        [self.mesurementDocumentArray removeAllObjects];
    }
 
    [self.mesurementDocumentArray addObjectsFromArray:[[DataBase sharedInstance] fetchMeasurementDocumentsForUUID:[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"orderh_id"]]];
 
    [self.view addSubview:measurementDocumentView];
    [measurementDocTableView reloadData];
    
 }

-(IBAction)deleteMeasurementDocsButton:(id)sender
{
    if (![self.selectedMeasureDocsCheckBoxArray count])
    {
        
        [self showAlertMessageWithTitle:@"Information" message:@"No Measurement Documents selected" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
     }
    else
    {
 
        [self showAlertMessageWithTitle:@"Information" message:@"Are you sure? Do you want to delete MeasurementDocs" cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"Remove Measurement Docs"];
     }
}



-(IBAction)addImageClicked:(id)sender{
    
    [self uploadPicture];
    
}


-(void)uploadPicture{
    
 
    UIAlertController * pickerAlert=   [UIAlertController
                                        alertControllerWithTitle:@"Select"
                                        message:@""
                                        preferredStyle:UIAlertControllerStyleActionSheet];
    
    UIAlertAction* cameraButton = [UIAlertAction
                                   actionWithTitle:@"Camera"
                                   style:UIAlertActionStyleDefault
                                   handler:^(UIAlertAction * action)
                                   {
                                       
                                       if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
                                       {
                                           [self performSelector:@selector(showCamera) withObject:nil afterDelay:0.1];
                                           
                                       }
                                       else
                                       {
                                           
                                           [self showAlertMessageWithTitle:@"Oops" message:@"Your Device doesn't support Camera" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                                       }
                                       
                                   }];
    UIAlertAction *galleryButton = [UIAlertAction
                                    actionWithTitle:@"Gallery"
                                    style:UIAlertActionStyleDefault
                                    handler:^(UIAlertAction * action)
                                    {
                                        
                                        if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypePhotoLibrary])
                                        {
                                            [self.selectedCheckBoxImageArray removeAllObjects];
                                            
                                            ELCImagePickerController *elcPicker = [[ELCImagePickerController alloc] initImagePicker];
                                            
                                            elcPicker.maximumImagesCount = 100; //Set the maximum number of images to select to 100
                                            elcPicker.returnsOriginalImage = YES; //Only return the fullScreenImage, not the fullResolutionImage
                                            elcPicker.returnsImage = YES; //Return UIimage if YES. If NO, only return asset location information
                                            elcPicker.onOrder = YES; //For multiple image selection, display and return order of selected images
                                            elcPicker.mediaTypes = @[(NSString *)kUTTypeImage, (NSString *)kUTTypeMovie]; //Supports image and movie types
                                            
                                            elcPicker.imagePickerDelegate = self;
                                            
                                            [self presentViewController:elcPicker animated:YES completion:nil];
                                            
                                        }
                                        
                                    }];
    
    
    UIAlertAction *cancelButton = [UIAlertAction
                                   actionWithTitle:@"Cancel"
                                   style:UIAlertActionStyleDefault
                                   handler:^(UIAlertAction * action)
                                   {
                                       //Do some thing here
                                       [pickerAlert dismissViewControllerAnimated:YES completion:nil];
                                       
                                   }];
 
    
    [pickerAlert addAction:cameraButton];
    
    [pickerAlert addAction:galleryButton];
    
    [pickerAlert addAction:cancelButton];
    
    [self presentViewController:pickerAlert animated:YES completion:nil];
    
}

-(IBAction)confirmButtonClicked:(id)sender
{
    if ([selectedCheckBoxArray count] == 1) {
        
        NSMutableArray *objectIds = [NSMutableArray new];
        
        
        int rowIndex = 0;
        NSString *messageString = @"";
        for (int i=0; i<[selectedCheckBoxArray count]; i++) {
            
            rowIndex = [[selectedCheckBoxArray objectAtIndex:i] intValue];
            
            if ([[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_status"] isEqualToString:@"DLFL"] || [[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_status"] isEqualToString:@"CLSD"]) {
                [objectIds addObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]]];
            }
            else if ([[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_status"] isEqualToString:@"REL"])
            {
                messageString = @"Do you want to perform Technical Confirmation?";
            }
            else
            {
                messageString = @"Do you want to perform Teco?";
            }
           
            
            [self showAlertMessageWithTitle:@"Decision" message:messageString cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"Confirm Alert"];
            
        }
        
      
    }
    else if ([selectedCheckBoxArray count] >1)
    {
     
        [self showAlertMessageWithTitle:@"Information" message:@"Please select only one order to confirm" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
    }
    else{
        
            [self showAlertMessageWithTitle:@"Information" message:@"Please select atleast one order" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
    }
}

-(IBAction)filterButtonClicked:(id)sender
{
    filterByLabel.text=@"FilterBy:";
    infoFilterLabel.hidden=YES;
 
    self.window = [UIApplication sharedApplication].keyWindow;
    blackView=[[UIView alloc] initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, self.window.frame.size.height)];
    [blackView setBackgroundColor:[UIColor blackColor]];
    [blackView setAlpha:0.8];
    [self.window addSubview:blackView];
    [filterView setFrame:CGRectMake(blackView.frame.size.width-260, 57, 260, self.window.frame.size.height-57)];
    [self.window addSubview:filterView];
    
    self.filterSortTableView.tag=0;
    [self.filterSortTableView reloadData];
 
 }

-(IBAction)sortButtonClicked:(id)sender
{
    filterByLabel.text=@"Sort BY:";
    infoFilterLabel.hidden=NO;
    
    self.window = [UIApplication sharedApplication].keyWindow;
    blackView=[[UIView alloc] initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, self.window.frame.size.height)];
    [blackView setBackgroundColor:[UIColor blackColor]];
    [blackView setAlpha:0.8];
    [self.window addSubview:blackView];
    [filterView setFrame:CGRectMake(blackView.frame.size.width-260, 57, 260, self.window.frame.size.height-57)];
    [self.window addSubview:filterView];
    
    self.filterSortTableView.tag=1;
    [self.filterSortTableView reloadData];
  }

    -(IBAction)cancelFilterSort:(id)sender
    {
        [blackView removeFromSuperview];
        [filterView removeFromSuperview];
    }

-(IBAction)filterBackgroundClicked:(id)sender
{
    [filterView removeFromSuperview];
    filterBackgroundClicked.hidden=YES;
    
    if (self.filterSortTableView.tag==0)
    {
        [self filterBackGround];
    }
    else if (self.filterSortTableView.tag==1)
    {
        [self sortBackGround];
    }
}

-(void)filterBackGround
{
    NSMutableString *queryStringOrderType = [NSMutableString new];
    NSMutableString *queryStringPriority = [NSMutableString new];
    NSMutableString *queryStringStatus = [NSMutableString new];
    NSMutableString *queryStringAttachments = [NSMutableString new];
    NSMutableString *queryStringDate = [NSMutableString new];
    
    NSMutableString *queryString = [NSMutableString new];
    
    for (int j=0; j<[[structuredFilterSortedArray firstObject] count]; j++)
    {
        for (int k = 0; k<[[[structuredFilterSortedArray firstObject] objectAtIndex:0] count]; k++) {
            
            if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:0] objectAtIndex:k] objectAtIndex:1] isEqualToString:@"X"]) {
                
                if (![[[[[structuredFilterSortedArray firstObject] objectAtIndex:0] objectAtIndex:k] objectAtIndex:0] isEqualToString:@"All"]) {
                    
                    if ([queryStringOrderType length]) {
                        [queryStringOrderType appendString:@" or "];
                    }
                    
                    [queryStringOrderType appendFormat:@"orderh_type_name = '%@'",[[[[structuredFilterSortedArray firstObject] objectAtIndex:0] objectAtIndex:k] objectAtIndex:0]];
                }
            }
        }
        
        for (int k = 0; k<[[[structuredFilterSortedArray firstObject] objectAtIndex:1] count]; k++) {
            
            if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:1] objectAtIndex:k] objectAtIndex:1] isEqualToString:@"X"]) {
                
                if (![[[[[structuredFilterSortedArray firstObject] objectAtIndex:1] objectAtIndex:k] objectAtIndex:0] isEqualToString:@"All"]) {
                    
                    if ([queryStringPriority length]) {
                        [queryStringPriority appendString:@" or "];
                    }
                    
                    [queryStringPriority appendFormat:@"orderh_priority_name = '%@'",[[[[structuredFilterSortedArray firstObject] objectAtIndex:1] objectAtIndex:k] objectAtIndex:0]];
                }
            }
        }
        
        for (int k = 0; k<[[[structuredFilterSortedArray firstObject] objectAtIndex:2] count]; k++) {
            
            if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:2] objectAtIndex:k] objectAtIndex:1] isEqualToString:@"X"]) {
                
                NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
                [dateFormatter setDateFormat:@"MMM dd, yyyy"];
                NSDate *requiredstartDate = [dateFormatter dateFromString:startDate];
                NSDate *requiredendDate = [dateFormatter dateFromString:endDate];
                // Convert date object into desired format
                [dateFormatter setDateFormat:@"yyyy-MM-dd"];
                
                NSString *convertedrequiredStartDateString = [dateFormatter stringFromDate:requiredstartDate];
                
                NSString *convertedrequiredEndDateString = [dateFormatter stringFromDate:requiredendDate] ;
                
                if ([queryStringDate length]) {
                    [queryStringDate setString:@""];
                }
                
                if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:2] objectAtIndex:k] objectAtIndex:0] isEqualToString:@"Start Date"]) {
                    
                    if (convertedrequiredStartDateString.length && convertedrequiredEndDateString.length) {
                        [queryStringDate appendFormat:@"orderh_startdate BETWEEN '%@' and  '%@'",convertedrequiredStartDateString,convertedrequiredEndDateString];
                    }
                    else{
                        
                        NSDate *currentDate = [NSDate date];
                        // Convert date object into desired format
                        [dateFormatter setDateFormat:@"yyyy-MM-dd"];
                        
                        NSString *convertedCurrentDateString = [dateFormatter stringFromDate:currentDate] ;
                        
                        if (convertedrequiredStartDateString.length) {
                            
                            [queryStringDate appendFormat:@"orderh_startdate BETWEEN '%@' and  '%@'",convertedrequiredStartDateString,convertedCurrentDateString];
                        }
                        else if (convertedrequiredEndDateString.length) {
                            
                            [queryStringDate appendFormat:@"orderh_startdate BETWEEN '%@' and  '%@'",convertedrequiredEndDateString,convertedCurrentDateString];
                        }
                    }
                }
            }
        }
        
        for (int k = 0; k<[[[structuredFilterSortedArray firstObject] objectAtIndex:3] count]; k++) {
            
            if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:3] objectAtIndex:k] objectAtIndex:1] isEqualToString:@"X"]) {
                
                if (![[[[[structuredFilterSortedArray firstObject] objectAtIndex:3] objectAtIndex:k] objectAtIndex:0] isEqualToString:@"All"]) {
                    
                    if ([queryStringStatus length]) {
                        [queryStringStatus appendString:@" or "];
                    }
                    
                    [queryStringStatus appendFormat:@"orderh_status = '%@'",[[[[structuredFilterSortedArray firstObject] objectAtIndex:3] objectAtIndex:k] objectAtIndex:0]];
                }
            }
        }
    }
    
    
    if ([queryStringOrderType length]) {
        
        [queryString appendFormat:@"(%@)",queryStringOrderType];
    }
    
    
    if ([queryStringPriority length]) {
        
        if ([queryString length]) {
            
            [queryString appendFormat:@" and (%@)",queryStringPriority];
        }
        else
        {
            [queryString appendFormat:@" (%@)",queryStringPriority];
            
        }
    }
    
    if ([queryStringDate length]) {
        
        if ([queryString length]) {
            
            [queryString appendFormat:@" and (%@)",queryStringDate];
        }
        else
        {
            [queryString appendFormat:@" (%@)",queryStringDate];
        }
    }
    
    if ([queryStringStatus length]) {
        
        if ([queryString length]) {
            
            [queryString appendFormat:@" and (%@)",queryStringStatus];
        }
        else
        {
            [queryString appendFormat:@" (%@)",queryStringStatus];
        }
    }
    
    if ([[[[structuredFilterSortedArray firstObject] objectAtIndex:4] firstObject] containsObject:@"X"]) {
        
        if ([queryString length]) {
            
            [queryStringAttachments appendFormat:@" and (oh_docs = 'X')"];
        }
        else
        {
            [queryStringAttachments appendFormat:@" (oh_docs = 'X')"];
        }
        
        [queryString appendString:queryStringAttachments];
    }
    
    NSArray *filtersArray=[[DataBase sharedInstance] getPriorityListOrders:queryString];
    
    [self.OrderListArray removeAllObjects];
    
    [self.OrderListArray addObjectsFromArray:filtersArray];
    
    myOrdersCountLabel.text = [NSString stringWithFormat:@"My Orders (%i)",(int)[self.OrderListArray count]];
    
    [MyOrdersTableView scrollRectToVisible:CGRectMake(0, 0, 0, 0) animated:YES];
    MyOrdersTableView.tag=0;
    [MyOrdersTableView reloadData];
}

-(void)sortBackGround
{
    NSMutableString *queryStringDescription = [NSMutableString new];
    NSMutableString *queryStringStatus = [NSMutableString new];
    NSMutableString *queryStringMalFunctiondate = [NSMutableString new];
    NSMutableString *queryStringOrderNumber = [NSMutableString new];
    
    NSMutableString *queryString = [NSMutableString new];
    
    if ([[[[[structuredFilterSortedArray objectAtIndex:1] objectAtIndex:0] objectAtIndex:0] objectAtIndex:1] isEqualToString:@"X"]) {
        
        [queryStringDescription appendFormat:@" orderh_shorttext ASC "];
    }
    
    else if ([[[[[structuredFilterSortedArray objectAtIndex:1] objectAtIndex:0] objectAtIndex:1] objectAtIndex:1] isEqualToString:@"X"])
    {
        [queryStringDescription appendFormat:@" orderh_shorttext DESC "];
        
    }
    
    if ([queryStringDescription length]) {
        
        [queryString appendFormat:@"%@",queryStringDescription];
    }
    
    
    if ([[[[[structuredFilterSortedArray objectAtIndex:1] objectAtIndex:2] objectAtIndex:0] objectAtIndex:1] isEqualToString:@"X"]) {
        
        [queryStringMalFunctiondate appendFormat:@" orderh_startdate ASC "];
    }
    
    else if ([[[[[structuredFilterSortedArray objectAtIndex:1] objectAtIndex:2] objectAtIndex:1] objectAtIndex:1] isEqualToString:@"X"])
    {
        [queryStringMalFunctiondate appendFormat:@" orderh_startdate DESC "];
        
    }
    
    
    if ([queryStringMalFunctiondate length]) {
        
        if ([queryString length]) {
            [queryString appendFormat:@",%@",queryStringMalFunctiondate];
        }
        else{
            
            [queryString appendFormat:@"%@",queryStringMalFunctiondate];
        }
    }
    
    if ([[[[[structuredFilterSortedArray objectAtIndex:1] objectAtIndex:1] objectAtIndex:0] objectAtIndex:1] isEqualToString:@"X"]) {
        
        [queryStringStatus appendFormat:@" orderh_priority_id ASC "];
    }
    
    else  if ([[[[[structuredFilterSortedArray objectAtIndex:1] objectAtIndex:1] objectAtIndex:1] objectAtIndex:1] isEqualToString:@"X"])
    {
        [queryStringStatus appendFormat:@" orderh_priority_id DESC "];
        
    }
    
    if ([queryStringStatus length]) {
        
        if ([queryString length]) {
            [queryString appendFormat:@",%@",queryStringStatus];
        }
        else{
            
            [queryString appendFormat:@"%@",queryStringStatus];
        }
    }
    
    if ([[[[[structuredFilterSortedArray objectAtIndex:1] objectAtIndex:3] objectAtIndex:0] objectAtIndex:1] isEqualToString:@"X"]) {
        
        [queryStringOrderNumber appendFormat:@" oh_objectID ASC "];
    }
    
    else  if ([[[[[structuredFilterSortedArray objectAtIndex:1] objectAtIndex:3] objectAtIndex:1] objectAtIndex:1] isEqualToString:@"X"])
    {
        [queryStringOrderNumber appendFormat:@" oh_objectID DESC "];
        
    }
    
    if ([queryStringOrderNumber length]) {
        
        if ([queryString length]) {
            [queryString appendFormat:@",%@",queryStringOrderNumber];
        }
        else{
            
            [queryString appendFormat:@"%@",queryStringOrderNumber];
        }
    }
    
    
    NSArray *filtersArray = [[DataBase sharedInstance] getSortedListOrders:queryString];
    
    [self.OrderListArray removeAllObjects];
    
    [self.OrderListArray addObjectsFromArray:filtersArray];
    
    myOrdersCountLabel.text = [NSString stringWithFormat:@"My Orders (%i)",(int)[self.OrderListArray count]];
    
    [MyOrdersTableView scrollRectToVisible:CGRectMake(0, 0, 0, 0) animated:YES];
    
    [MyOrdersTableView reloadData];
}

-(IBAction)refreshBtn:(id)sender{
    
    if ([[ConnectionManager defaultManager] isReachable]) {
        
        [defaults setObject:@"REFRESH" forKey:@"REFRESH"];
        [defaults synchronize];
 
        [self showAlertMessageWithTitle:@"Refresh" message:@"All Relavent Data will be loaded from server.\nDo you want to continue?" cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"Refresh"];
        
 
    }
    else{
        
        if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
        {
            [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro #Activity:Refresh   #Class: Very Important #MUser:%@ #DeviceId:%@",decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
        }
        
 
        [self showAlertMessageWithTitle:@"No Network Available" message:@"Refresh cannot be performed!" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
     }
}

-(IBAction)clearAllFilterSortButtonClicked:(id)sender
{
    if (self.filterSortTableView.tag==0)
    {
        for (int i=0; i<[[structuredFilterSortedArray firstObject] count]; i++) {
            
            for (int j=0; j<[[[structuredFilterSortedArray firstObject] objectAtIndex:i] count];j++)
            {
                [[[[structuredFilterSortedArray firstObject] objectAtIndex:i] objectAtIndex:j] replaceObjectAtIndex:1 withObject:@""];
            }
        }
    }
    else if (self.filterSortTableView.tag==1)
    {
        for (int i=0; i<[[structuredFilterSortedArray lastObject] count]; i++) {
            
            for (int j=0; j<[[[structuredFilterSortedArray lastObject] objectAtIndex:i] count];j++)
            {
                [[[[structuredFilterSortedArray lastObject] objectAtIndex:i] objectAtIndex:j] replaceObjectAtIndex:1 withObject:@""];
            }
        }
    }
    
    startDate = @"";
    endDate = @"";
    [self searchMyOrdersFromSqlite:nil];
    [filterView removeFromSuperview];
    [blackView removeFromSuperview];
    
}

#pragma mark-
#pragma mark- Void Methods

-(IBAction)backToOrdersFromSystemStatus:(id)sender{
    
    [systemStatusView removeFromSuperview];
    
}

-(void)wocoButton:(NSString *)orderNo
{
    
     [self showAlertMessageWithTitle:@"" message:@"Do you want to perform Work Completion?" cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"WOCO"];
    
}

-(void)systemStatus:(NSString *)uuid{
    
    if (orderSystemStatusArray == nil) {
        orderSystemStatusArray = [NSMutableArray new];
    }
    else{
        
        [orderSystemStatusArray removeAllObjects];
    }
    
    [orderSystemStatusArray addObjectsFromArray:[[DataBase sharedInstance] fetchOrderSystemStatusOnly:uuid]];
    
    [self.view addSubview:systemStatusView];
    [systemStatusTableView reloadData];
}

-(void)functionForSyncMapData{
    
    if (syncMapDataMutableArray == nil) {
        syncMapDataMutableArray = [NSMutableArray new];
    }
    else{
        [syncMapDataMutableArray removeAllObjects];
    }
    
    [syncMapDataMutableArray addObjectsFromArray:[[DataBase sharedInstance] getSyncMapData:@"SOAP"]];
    
    if ([syncMapDataMutableArray count]) {
        
        if ([[ConnectionManager defaultManager] isReachable]) {
            
            [self getLoadSettings];
            
            //            [self performSelectorOnMainThread:@selector(getLoadSettings) withObject:nil waitUntilDone:YES];
            
        }
    }
}

-(void)getLoadSettings{
    
    NSMutableDictionary *endPointDictionary = [NSMutableDictionary new];
    [endPointDictionary setObject:@"F4" forKey:@"ACTIVITY"];
    [endPointDictionary setObject:@"D1" forKey:@"DOCTYPE"];
    [endPointDictionary setObject:[defaults objectForKey:@"ENDPOINT"] forKey:@"ENDPOINT"];
    
    NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:endPointDictionary];
    NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
    [endPointDictionary setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
    [endPointDictionary setObject:@"REFR" forKey:@"TRANSMITTYPE"];
    [endPointDictionary setObject:decryptedUserName forKey:@"REPORTEDBY"];
    
    [Request makeWebServiceRequest:GET_LOAD_SETTINGS parameters:endPointDictionary delegate:self];
    
}

-(void)getDueOrders
{
    NSMutableDictionary *dataDictionary = [[NSMutableDictionary alloc]init];
    [dataDictionary setObject:decryptedUserName forKey:@"REPORTEDBY"];
    NSMutableDictionary *endPointDictionary = [NSMutableDictionary new];
    [endPointDictionary setObject:@"DO" forKey:@"ACTIVITY"];
    [endPointDictionary setObject:@"C2" forKey:@"DOCTYPE"];
    [endPointDictionary setObject:[defaults objectForKey:@"ENDPOINT"] forKey:@"ENDPOINT"];
    NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:endPointDictionary];
    NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
    [dataDictionary setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];    [dataDictionary setObject:@"REFR" forKey:@"TRANSMITTYPE"];
    [Request makeWebServiceRequest:GET_LIST_OF_DUE_ORDERS parameters:dataDictionary delegate:self];
}


-(IBAction)dismissConfirmView:(id)sender
{
    [confirmationView removeFromSuperview];
    
}

-(IBAction)orderNoSort:(id)sender{
    
    if (orderNoSortSelected) {
        [orderNoSortBtn setImage:[UIImage imageNamed:@"SortUp.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"ASC" forKey:@"SORT"];
        orderNoSortSelected = NO;
    }
    else{
        [orderNoSortBtn setImage:[UIImage imageNamed:@"SortDown.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"DESC" forKey:@"SORT"];
        orderNoSortSelected = YES;
    }
    
    [inputsDictionary setObject:@"oh_objectid" forKey:@"COLOUMN"];
    
    [self searchMyOrdersFromSqlite:inputsDictionary];
}

-(IBAction)statusSelected:(id)sender{
    
    if (statusSortSelected) {
        [statusSortBtn setImage:[UIImage imageNamed:@"SortUp.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"ASC" forKey:@"SORT"];
        statusSortSelected = NO;
    }
    else{
        [statusSortBtn setImage:[UIImage imageNamed:@"SortDown.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"DESC" forKey:@"SORT"];
        statusSortSelected = YES;
    }
    
    [inputsDictionary setObject:@"orderh_status" forKey:@"COLOUMN"];
    
    [self searchMyOrdersFromSqlite:inputsDictionary];
}

-(IBAction)shortTextSelected:(id)sender{
    
    if (shortTextSortSelected) {
        [shortTextSortBtn setImage:[UIImage imageNamed:@"SortUp.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"ASC" forKey:@"SORT"];
        shortTextSortSelected = NO;
    }
    else{
        [shortTextSortBtn setImage:[UIImage imageNamed:@"SortDown.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"DESC" forKey:@"SORT"];
        shortTextSortSelected = YES;
    }
    
    [inputsDictionary setObject:@"orderh_shorttext" forKey:@"COLOUMN"];
    
    [self searchMyOrdersFromSqlite:inputsDictionary];
}

-(IBAction)prioritySelected:(id)sender{
    
    if (prioritySortSelected) {
        [prioritySortBtn setImage:[UIImage imageNamed:@"SortUp.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"ASC" forKey:@"SORT"];
        prioritySortSelected = NO;
    }
    else{
        [prioritySortBtn setImage:[UIImage imageNamed:@"SortDown.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"DESC" forKey:@"SORT"];
        prioritySortSelected = YES;
    }
    
    [inputsDictionary setObject:@"orderh_priority_name" forKey:@"COLOUMN"];
    
    [self searchMyOrdersFromSqlite:inputsDictionary];
}

-(IBAction)startDateSelected:(id)sender{
    
    if (malFuncStartDateSortSelected) {
        [malFuncStartDateSortBtn setImage:[UIImage imageNamed:@"SortUp.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"ASC" forKey:@"SORT"];
        malFuncStartDateSortSelected = NO;
    }
    else{
        [malFuncStartDateSortBtn setImage:[UIImage imageNamed:@"SortDown.png"] forState:UIControlStateNormal];
        [inputsDictionary setObject:@"DESC" forKey:@"SORT"];
        
        malFuncStartDateSortSelected = YES;
    }
    
    [inputsDictionary setObject:@"orderh_startdate" forKey:@"COLOUMN"];
    
    [self searchMyOrdersFromSqlite:inputsDictionary];
}

-(IBAction)selectAllCheckBox:(id)sender{
    
    if (!checkBoxHeaderBtn.selected) {
        checkBoxHeaderBtn.selected = YES;
        [checkBoxHeaderBtn setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
    }
    else{
        checkBoxHeaderBtn.selected = NO;
        [checkBoxHeaderBtn setImage:[UIImage imageNamed:@"checkbox_unselected.png"] forState:UIControlStateNormal];
    }
    
    [MyOrdersTableView reloadData];
}

-(IBAction)cancelOrders:(id)sender
{
    if ([selectedCheckBoxArray count] == 1) {
        NSMutableArray *objectIds = [NSMutableArray new];
        for (int i=0; i<[selectedCheckBoxArray count]; i++) {
            
            int rowIndex = [[selectedCheckBoxArray objectAtIndex:i] intValue];
            
            if ([[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_status"] isEqualToString:@"DLFL"] || [[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_status"] isEqualToString:@"CLSD"]) {
                [objectIds addObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]]];
            }
        }
        if ([objectIds count])
        {
       
            [self showAlertMessageWithTitle:@"Information" message:[NSString stringWithFormat:@"Selected Order cannot be Cancelled"] cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
            
        }
        else
        {
            
             [self showAlertMessageWithTitle:@"Decision" message:@"Do you want to cancel the selected Order?" cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"Cancel"];
            
        }
    }
    else if ([selectedCheckBoxArray count] >1)
    {
       
           [self showAlertMessageWithTitle:@"Information" message:@"Please select only one order to cancel" cancelButtonTitle:@"No" withactionType:@"Single" forMethod:@"Ok"];
        
     }
    else
    {
 
           [self showAlertMessageWithTitle:@"Information" message:@"Please select atleast one order" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:@"Ok"];
        
    }
}

-(IBAction)releaseButtonClicked:(id)sender{
    
    if ([selectedCheckBoxArray count] == 1) {
        NSMutableArray *objectIds = [NSMutableArray new];
        for (int i=0; i<[selectedCheckBoxArray count]; i++) {
 
        int rowIndex = [[selectedCheckBoxArray objectAtIndex:i] intValue];
            
            if ([[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_status"] isEqualToString:@"DLFL"] || [[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"orderh_status"] isEqualToString:@"CLSD"]) {
                [objectIds addObject:[NSString stringWithString:[[self.OrderListArray objectAtIndex:rowIndex] objectForKey:@"oh_objectID"]]];
            }
        }
        if ([objectIds count]) {
            
            
            [self showAlertMessageWithTitle:@"Information" message:@"Selected Order cannot be Released" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
 
        }
        else
        {
            
             [self showAlertMessageWithTitle:@"Decision" message:@"Do you want to release the selected Order?" cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"Release"];
         }
    }
    else if ([selectedCheckBoxArray count] >1){
 
        [self showAlertMessageWithTitle:@"Information" message:@"Please select only one order to release" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
    }
    else{
 
          [self showAlertMessageWithTitle:@"Information" message:@"Please select atleast one order" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
    }
    
}




- (BOOL)textFieldShouldEndEditing:(UITextField *)textField
{
    textfieldTag=(int)textField.tag;
    
    if (textfieldTag==10)
    {
        self.minStartDate =[self.startDatePicker date];
        NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
        [dateFormat setDateFormat:@"MMM dd, yyyy"];
        textField.text = [dateFormat stringFromDate:self.minStartDate];
        startDate = textField.text;
    }
    else if (textfieldTag==20)
    {
        self.minStartDate =[self.EndDatePicker date];
        NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
        [dateFormat setDateFormat:@"MMM dd, yyyy"];
        textField.text = [dateFormat stringFromDate:self.minStartDate];
        endDate = textField.text;
    }
    
    return YES;
}



#pragma mark
#pragma mark - TableView Delegate Methods
//table view methods strats here

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView;              // Default is 1 if not implemented
{
    if (tableView==self.filterSortTableView)
    {
        if (self.filterSortTableView.tag==0) {
            return 5;
        }
        else{
            return 4;
        }
    }
    else  if (tableView == measurementDocTableView) {
        
        return 1;
        
    }
    return 1;
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
    
    if (tableView == MyOrdersTableView)
    {
        UILabel *noDataLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, tableView.bounds.size.width, tableView.bounds.size.height)];
        noDataLabel.textAlignment = NSTextAlignmentCenter;
        tableView.backgroundView = noDataLabel;
        tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
        
        if (MyOrdersTableView.tag==0) {
            
            if ([self.OrderListArray count]) {
                
                noDataLabel.text = @"";
                noDataLabel.textColor = [UIColor grayColor];
                
                return [self.OrderListArray count];
            }
            else{
                
                noDataLabel.text = @"No data available";
                noDataLabel.textColor = [UIColor grayColor];
            }
        }
        else if (MyOrdersTableView.tag==1){
            
            if ([filteredArray count]) {
                
                noDataLabel.text = @"";
                noDataLabel.textColor = [UIColor grayColor];
                 return [filteredArray count];
            }
            else{
                
                 noDataLabel.text = @"No data available";
                 noDataLabel.textColor = [UIColor grayColor];
            }
        }
     }
    else if (tableView==attachmentsTableView){
        
        return   [self.attachmentArray count];
        
     }
     else  if (tableView ==operationsTableView)
    {
        return [self.operationDetailsArray count];
    }
    else if (tableView== self.filterSortTableView)
    {
        if (self.filterSortTableView.tag==0) {
            
            return [[[structuredFilterSortedArray firstObject] objectAtIndex:section] count];
        }
        else if (self.filterSortTableView.tag==1)
        {
            if (section==0) {
                
                return [[[structuredFilterSortedArray lastObject] objectAtIndex:0] count];
            }
            else if (section==1)
            {
                return [[[structuredFilterSortedArray lastObject] objectAtIndex:1] count];
            }
            else if (section == 2)
            {
                return [[[structuredFilterSortedArray lastObject] objectAtIndex:2] count];
            }
            else
            {
                return [[[structuredFilterSortedArray lastObject] objectAtIndex:3] count];
             }
        }
    }
    else  if (tableView == self.dropDownTableView) {
        
        return [self.dropDownArray count];
    }
    else  if (tableView == dropDownSearchTableview) {
        
        return [self.dropDownArray count];
    }
    else  if (tableView == measurementDocTableView) {
        
        return [self.mesurementDocumentArray count];
        
    }
    else if (tableView==systemStatusTableView){
        
        return [orderSystemStatusArray count];
        
    }
 
    return 0;
}

-(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{
    
    if (tableView == MyOrdersTableView) {
        return MyOrdresListHeaderView;
    }
    else if (tableView== self.filterSortTableView)
    {
        if (self.filterSortTableView.tag==0)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10, 5, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            if (section==0)
            {
                [label setText:@"ORDER TYPE"];
            }
            else if (section==1)
            {
                [label setText:@"PRIOITY"];
            }
            else if (section==2)
            {
                [label setText:@"DATE"];
            }
            else if (section==3)
            {
                [label setText:@"STATUS"];
            }
            else
            {
                [label setText:@"ATTACHMENTS"];
            }
            
            [view addSubview:label];
            
            return view;
        }
        else if (self.filterSortTableView.tag==1)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                [label setText:@"DESCRIPTION"];
                
            }
            else if (section==1)
            {
                [label setText:@"STATUS"];
                
            }
            else if (section == 2)
            {
                [label setText:@"START DATE"];
                
            }
            else
            {
                [label setText:@"ORDER NUMBER"];
                
            }
            
            [view addSubview:label];
            
            return view;
        }
    }
    
    return 0;
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    
    if (cell==nil) {
        cell=[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    
    cell.accessoryType=UITableViewCellAccessoryNone;
 
     if (tableView == MyOrdersTableView) {
        
        if (MyOrdersTableView.contentSize.height < MyOrdersTableView.frame.size.height) {
            MyOrdersTableView.scrollEnabled = NO;
        }
        else {
            MyOrdersTableView.scrollEnabled = YES;
        }
        
        static NSString *CellIdentifier = @"Customcell";
        
        MyOrdersTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        
        if (cell==nil) {
            cell=[[MyOrdersTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        }
        
        cell.accessoryType = UITableViewCellAccessoryNone;
        
        if (indexPath.row % 2 == 0){
            cell.backgroundColor =UIColorFromRGB(249, 249, 249);
        }
        else {
            cell.backgroundColor =[UIColor whiteColor];
        }
        
        CALayer *layerButton = [cell.statusButton layer];
        [layerButton setMasksToBounds:YES];
        [layerButton setCornerRadius:cell.statusButton.frame.size.width / 2];
        
        cell.orderContentView.layer.cornerRadius = 2.0f;
        cell.orderContentView.layer.masksToBounds = YES;
        cell.orderContentView.layer.borderColor = [[UIColor darkGrayColor] CGColor];
        cell.orderContentView.layer.borderWidth = 1.0f;
        
        cell.attachmentImage.hidden = YES;
        
        if (MyOrdersTableView.tag==0) {
            
            cell.orderNoLabel.text =[NSString stringWithFormat:@"%@",[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"oh_objectID"]];
            cell.orderTextLabel.text = [NSString stringWithFormat: @"%@",[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_shorttext"]];
            cell.priorityLabel.text =[ NSString stringWithFormat:@"%@",[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_name"]];
            
            if ([selectedCheckBoxArray containsObject:[NSNumber numberWithInteger:indexPath.row]])
            {
                [cell.statusButton setImage:[UIImage imageNamed:@"Checked-Icon.png"]   forState:UIControlStateNormal];
            }
            else
            {
                [cell.statusButton setImage:nil  forState:UIControlStateNormal];
            }
            
            NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
            [dateFormatter setDateFormat:@"yyyyMMdd"];
            NSDate *tempstartDate = [dateFormatter dateFromString:[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_startdate"]];
            // Convert date object into desired format
            [dateFormatter setDateFormat:@"MMM dd, yyyy"];
            NSString *convertedStartDateString = [dateFormatter stringFromDate:tempstartDate];
            if ([NullChecker isNull:convertedStartDateString]) {
                convertedStartDateString = @"";
            }
            
            cell.startDateLabel.text = [NSString stringWithFormat:@"%@",convertedStartDateString];
            
            cell.statusCodeLabel.text = [NSString stringWithFormat:@"%@",[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"]];
            
            NSString *statusCode=[NSString stringWithFormat:@"%@",[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"]];
            
            CALayer *layer = [cell.statusCodeImage layer];
            [layer setMasksToBounds:YES];
            [layer setCornerRadius:8.0];
            
            // [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
            
            if ([statusCode isEqualToString:@"REL"]) {
                
                cell.statusCodeLabel.text = @"Released";
                [cell.statusButton setBackgroundColor:UIColorFromRGB(0, 150, 136)];
                
                [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
                
            }
            else if ([statusCode isEqualToString:@"CANC"]){
                
                cell.statusCodeLabel.text = @"Permit Cancelled";
                cell.statusButton.backgroundColor=[UIColor redColor];
                
                [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
                
            }
            else if ([statusCode isEqualToString:@"ISSU"]){
                
                cell.statusCodeLabel.text = @"Permit Issued";
                cell.statusButton.backgroundColor=[UIColor greenColor];
                
                [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
                
            }
            else if ([statusCode isEqualToString:@"CNF"]){
                
                cell.statusCodeLabel.text = @"Confirmed";
                cell.statusButton.backgroundColor=UIColorFromRGB(24, 225, 56);
                [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
                
            }
            else if ([statusCode isEqualToString:@"CRTD"]){
                
                cell.statusCodeLabel.text = @"Created";
                
                [cell.statusButton setTitleColor:[UIColor grayColor] forState:UIControlStateNormal];
                
                cell.statusButton.backgroundColor=UIColorFromRGB(229, 229, 0);
            }
            else if ([statusCode isEqualToString:@"CLSD"]){
                
                cell.statusCodeLabel.text = @"Closed";
                
                [cell.statusButton setTitleColor:[UIColor grayColor] forState:UIControlStateNormal];
                
                cell.statusButton.backgroundColor=UIColorFromRGB(34, 139, 34);
                
            }
            else{
                
                [cell.statusButton setTitleColor:[UIColor grayColor] forState:UIControlStateNormal];
                
                cell.statusButton.backgroundColor=UIColorFromRGB(229, 229, 0);
                
            }
            
            [cell.statusButton setTitle:statusCode forState:UIControlStateNormal];
            
            [cell.statusButton  addTarget:self action:@selector(checkBoxClicked1:)  forControlEvents:UIControlEventTouchDown];
            
            [cell.changeOrderButton addTarget:self action:@selector(detailCheckBoxSelected:) forControlEvents:UIControlEventTouchDown];
            
            [cell.systemStatusButton addTarget:self action:@selector(selectedSystemStatus:) forControlEvents:UIControlEventTouchDown];
            
            NSArray *wocoStatusArray = [[DataBase sharedInstance] getWOCOStatus:[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_id"]];
            
            if ([wocoStatusArray count]) {
                
                if ([[wocoStatusArray objectAtIndex:1] isEqualToString:@"X"]) {
                    [cell.wocoButton setImage:[UIImage imageNamed:@"woco_completed.png"] forState:UIControlStateNormal];
                }
                else{
                    
                    [cell.wocoButton setImage:[UIImage imageNamed:@"woco.png"] forState:UIControlStateNormal];
                    
                    [cell.wocoButton addTarget:self action:@selector(selectedWocoButton:) forControlEvents:UIControlEventTouchDown];
                }
            }
            else{
                
                [cell.wocoButton setImage:nil  forState:UIControlStateNormal];
            }
            
            if ([[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_id"] isEqual:@"1"]) {
                cell.priorityLabel.backgroundColor = [UIColor redColor];
             }
            else if ([[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_id"] isEqual:@"2"]){
                cell.priorityLabel.backgroundColor = UIColorFromRGB(100, 0, 186);
            }
            else if ([[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_id"] isEqual:@"3"]){//Medium
                cell.priorityLabel.backgroundColor = [UIColor orangeColor];
            }
            else if ([[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_id"] isEqual:@"4"]){//Low
                cell.priorityLabel.backgroundColor = [UIColor lightGrayColor];
            }
            else
            {
                cell.priorityLabel.backgroundColor = [UIColor whiteColor];
            }
            
            
            
            return cell;
            
        }
        else if (MyOrdersTableView.tag==1){
            
            cell.orderNoLabel.text =[NSString stringWithFormat:@"%@",[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"oh_objectID"]];
            cell.orderTextLabel.text = [NSString stringWithFormat: @"%@",[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_shorttext"]];
            cell.priorityLabel.text =[ NSString stringWithFormat:@"%@",[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_name"]];
            
            NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
            [dateFormatter setDateFormat:@"yyyy-MM-dd"];
            NSDate *tempstartDate = [dateFormatter dateFromString:[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_startdate"]];
            // Convert date object into desired format
            [dateFormatter setDateFormat:@"MMM dd, yyyy"];
            NSString *convertedStartDateString = [dateFormatter stringFromDate:tempstartDate];
            if ([NullChecker isNull:convertedStartDateString]) {
                convertedStartDateString = @"";
            }
            
            cell.startDateLabel.text = [NSString stringWithFormat:@"%@",convertedStartDateString];
            
            cell.statusCodeLabel.text = [NSString stringWithFormat:@"%@",[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"]];
            
            NSString *statusCode=[NSString stringWithFormat:@"%@",[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"]];
            
            CALayer *layer = [cell.statusCodeImage layer];
            [layer setMasksToBounds:YES];
            [layer setCornerRadius:8.0];
            
            // [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
            
            if ([statusCode isEqualToString:@"REL"]) {
                
                cell.statusCodeLabel.text = @"Released";
                [cell.statusButton setBackgroundColor:UIColorFromRGB(0, 150, 136)];
                
                [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
                
            }
            else if ([statusCode isEqualToString:@"CANC"]){
                
                cell.statusCodeLabel.text = @"Permit Cancelled";
                cell.statusButton.backgroundColor=[UIColor redColor];
                
                [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
                
            }
            else if ([statusCode isEqualToString:@"ISSU"]){
                
                cell.statusCodeLabel.text = @"Permit Issued";
                cell.statusButton.backgroundColor=[UIColor greenColor];
                
                [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
                
            }
            else if ([statusCode isEqualToString:@"CNF"]){
                
                cell.statusCodeLabel.text = @"Confirmed";
                cell.statusButton.backgroundColor=UIColorFromRGB(24, 225, 56);
                [cell.statusButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
                
            }
            else if ([statusCode isEqualToString:@"CRTD"]){
                
                cell.statusCodeLabel.text = @"Created";
                
                [cell.statusButton setTitleColor:[UIColor grayColor] forState:UIControlStateNormal];
                
                cell.statusButton.backgroundColor=UIColorFromRGB(229, 229, 0);
            }
            else if ([statusCode isEqualToString:@"CLSD"]){
                
                cell.statusCodeLabel.text = @"Closed";
                
                [cell.statusButton setTitleColor:[UIColor grayColor] forState:UIControlStateNormal];
                
                cell.statusButton.backgroundColor=UIColorFromRGB(34, 139, 34);
                
            }
            else{
                
                [cell.statusButton setTitleColor:[UIColor grayColor] forState:UIControlStateNormal];
                
                cell.statusButton.backgroundColor=UIColorFromRGB(229, 229, 0);
                
            }
            
            [cell.statusButton setTitle:statusCode forState:UIControlStateNormal];
            
            [cell.statusButton  addTarget:self action:@selector(checkBoxClicked1:)  forControlEvents:UIControlEventTouchDown];
            
            [cell.changeOrderButton addTarget:self action:@selector(detailCheckBoxSelected:) forControlEvents:UIControlEventTouchDown];
            
            [cell.systemStatusButton addTarget:self action:@selector(selectedSystemStatus:) forControlEvents:UIControlEventTouchDown];
            
            NSArray *wocoStatusArray = [[DataBase sharedInstance] getWOCOStatus:[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_id"]];
            
            if ([wocoStatusArray count]) {
                
                if ([[wocoStatusArray objectAtIndex:1] isEqualToString:@"X"]) {
                    [cell.wocoButton setImage:[UIImage imageNamed:@"woco_completed.png"] forState:UIControlStateNormal];
                }
                else{
                    
                    [cell.wocoButton setImage:[UIImage imageNamed:@"woco.png"] forState:UIControlStateNormal];
                    
                    [cell.wocoButton addTarget:self action:@selector(selectedWocoButton:) forControlEvents:UIControlEventTouchDown];
                }
            }
            else{
                
                [cell.wocoButton setImage:nil  forState:UIControlStateNormal];
            }
            
            if ([[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_id"] isEqual:@"1"]) {
                cell.priorityLabel.backgroundColor = [UIColor redColor];
            }
            else if ([[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_id"] isEqual:@"2"]){
                cell.priorityLabel.backgroundColor = [UIColor redColor];
            }
            else if ([[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_id"] isEqual:@"3"]){//Medium
                cell.priorityLabel.backgroundColor = [UIColor orangeColor];
            }
            else if ([[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_priority_id"] isEqual:@"4"]){//Low
                cell.priorityLabel.backgroundColor = [UIColor lightGrayColor];
            }
            else
            {
                cell.priorityLabel.backgroundColor = [UIColor whiteColor];
            }
            
            if ([selectedCheckBoxArray containsObject:[NSNumber numberWithInteger:indexPath.row]])
            {
                [cell.statusButton setImage:[UIImage imageNamed:@"tick"]   forState:UIControlStateNormal];
            }
            else
            {
                [cell.statusButton setImage:nil  forState:UIControlStateNormal];
            }
            
            return cell;
            
        }
        
     }
    else if (tableView == self.dropDownTableView) {
        
        static NSString *CellIdentifier = @"Cell";
        UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        
        if (cell==nil) {
            cell=[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        }
        
        cell.accessoryType=UITableViewCellAccessoryNone;
        
        
        if ([[self.dropDownArray objectAtIndex:indexPath.row] count] == 2) {
            cell.textLabel.text = [NSString stringWithFormat:@"%@-%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:ID_INDEX],[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:NAME_INDEX]];
        }
        else if ([[self.dropDownArray objectAtIndex:indexPath.row] count] == 1) {
            cell.textLabel.text = [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:ID_INDEX]];
        }
        else if ([[self.dropDownArray objectAtIndex:indexPath.row] count] == 4) {
            cell.textLabel.text = [NSString stringWithFormat:@"%@-%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:ID_INDEX],[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:NAME_INDEX]];
        }
        else{
            
            switch ([self.dropDownTableView tag]) {
                    
                case ORDER_MPOINT:
                    
                    cell.textLabel.text = [NSString stringWithFormat:@"%@-%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectForKey:@"point"],[[self.dropDownArray objectAtIndex:indexPath.row] objectForKey:@"pttxt"]];
                    
                    break;
                 case ORDER_MVALUATION:
                    
                    cell.textLabel.text = [NSString stringWithFormat:@"%@-%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectForKey:@"code"],[[self.dropDownArray objectAtIndex:indexPath.row] objectForKey:@"Kurztext1"]];
                    
                    break;
 
              }
 
         }
        
        return cell;
    }
    else if(tableView==self.filterSortTableView)
    {
        if (self.filterSortTableView.contentSize.height < self.filterSortTableView.frame.size.height) {
            self.filterSortTableView.scrollEnabled = NO;
        }
        else {
            self.filterSortTableView.scrollEnabled = YES;
        }
        
        static NSString *CellIdentifier = @"CustomCell";
        
        FilterSortTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        
        if (cell==nil) {
            cell=[[FilterSortTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        }
 
        cell.headerlabelValue.hidden = NO;
        cell.dateTextfield.hidden = YES;
        cell.dateImageView.hidden = YES;
        cell.filterSortCheckBoxButton.hidden = NO;
        
        if (self.filterSortTableView.tag==0 && indexPath.section==2 && (indexPath.row == 1 || indexPath.row == 2))
        {
            cell.headerlabelValue.hidden = YES;
            cell.dateTextfield.hidden = NO;
            cell.dateImageView.hidden = NO;
            cell.filterSortCheckBoxButton.hidden = YES;
            
            cell.dateTextfield.superview.tag = indexPath.row;
            cell.dateTextfield.delegate = self;
            
            cell.dateTextfield.placeholder = [[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:0];
            cell.dateTextfield.text = @"";
            
            if (indexPath.row == 1) {
                
                [cell.dateTextfield setTag:10];
                
                if (startDate.length) {
                    cell.dateTextfield.text=startDate;
                }
            }
            else if (indexPath.row == 2){
                
                [cell.dateTextfield setTag:20];
                
                if (endDate.length) {
                    cell.dateTextfield.text=endDate;
                }
            }
        }
        else
        {
            if (self.filterSortTableView.tag==0)
            {
                cell.filterSortCheckBoxButton.adjustsImageWhenHighlighted = YES;
                
                cell.headerlabelValue.text=[[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:0];
                
                if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@"X"])
                {
                    
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"CheckBoxSelection"]   forState:UIControlStateNormal];
                     cell.headerlabelValue.textColor= [UIColor colorWithRed:38.0/255.0 green:85.0/255.0 blue:157.0/255.0 alpha:5.0];
                    
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkBoxUnSelection"]   forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
            }
            else if (self.filterSortTableView.tag==1)
            {
                cell.filterSortCheckBoxButton.adjustsImageWhenHighlighted = YES;
                
                cell.headerlabelValue.text=[[[[structuredFilterSortedArray lastObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:0];
                
                if ([[[[[structuredFilterSortedArray lastObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"CheckBoxSelection"]   forState:UIControlStateNormal];
                     cell.headerlabelValue.textColor= [UIColor colorWithRed:38.0/255.0 green:85.0/255.0 blue:157.0/255.0 alpha:5.0];
                }
                else
                {
                     [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkBoxUnSelection"]   forState:UIControlStateNormal];
                      cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                 }
            }
        }
        
        return  cell;
    }
    else if (tableView == operationsTableView)
    {
        if (operationsTableView.contentSize.height < operationsTableView.frame.size.height) {
            operationsTableView.scrollEnabled = NO;
        }
        else {
            operationsTableView.scrollEnabled = YES;
        }

        static NSString *CellIdentifier = @"OperationCell";

        operationCell =[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        

        if (operationCell==nil) {
            operationCell=[[OperationTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        }

        operationCell.accessoryType = UITableViewCellAccessoryNone;

        if (indexPath.row % 2 == 0){
            operationCell.backgroundColor =UIColorFromRGB(249, 249, 249);
        }
        else {
            operationCell.backgroundColor =[UIColor whiteColor];
        }

        static NSInteger checkboxTag = 123;
        NSInteger x,y;x = 8.0; y = 9.0;

        UIButton *checkboxSelect = (UIButton *) [operationCell.contentView viewWithTag:checkboxTag];

        if (!checkboxSelect)
        {
            checkboxSelect = [[UIButton alloc] initWithFrame:(CGRectMake(x,y,25.0,25.0))];
            checkboxSelect.tag = checkboxTag;
            [operationCell.contentView addSubview:checkboxSelect];
        }

        checkboxSelect.adjustsImageWhenHighlighted = YES;
        [checkboxSelect addTarget:self action:@selector(operationcheckBoxClicked:)   forControlEvents:UIControlEventTouchDown];

        if ([self.selectedOperationsCheckBoxArray containsObject:[NSNumber numberWithInteger:indexPath.row]]) {

            [checkboxSelect setImage:[UIImage imageNamed:@"radioselection.png"]   forState:UIControlStateNormal];
        }
        else
        {
            [checkboxSelect setImage:[UIImage imageNamed:@"radiounselection.png"]   forState:UIControlStateNormal];
        }

        operationCell.operationTextLabel.text=[NSString stringWithFormat:@"%@",[[self.operationDetailsArray objectAtIndex:indexPath.row]  objectAtIndex:2]];

        operationCell.durationLabel.text=[NSString stringWithFormat:@"%@ %@",[[self.operationDetailsArray  objectAtIndex:indexPath.row]  objectAtIndex:4],[[self.operationDetailsArray  objectAtIndex:indexPath.row] objectAtIndex:3]];

        operationCell.operationCountLabel.text=[NSString stringWithFormat:@"%@",[[self.operationDetailsArray  objectAtIndex:indexPath.row] objectAtIndex:1]];

        if ([[[self.operationDetailsArray objectAtIndex:indexPath.row]  objectAtIndex:10] isEqualToString:@""]) {
            operationCell.operationCountLabel.textColor=UIColorFromRGB(59, 187, 196);
        }
        else{

            operationCell.operationCountLabel.textColor=[UIColor blackColor];
        }

        if ([[[self.operationDetailsArray objectAtIndex:indexPath.row] objectAtIndex:8] isEqualToString:@"X"]) {
            [operationCell.trafficSymbolImageView setImage:[UIImage imageNamed:@"green-status"]];
        }
        else if ([[[self.operationDetailsArray objectAtIndex:indexPath.row]  objectAtIndex:8] isEqualToString:@"Y"]) {
            [operationCell.trafficSymbolImageView setImage:[UIImage imageNamed:@"yellow-status"]];
        }
        else{

            [operationCell.trafficSymbolImageView setImage:[UIImage imageNamed:@"red-status"]];
        }

        //        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone)
        //        {
        //for detail view
        static NSInteger detailCheckBoxTag = 500;

        NSInteger i,j;i = 278.0; j = 10;

        UIButton *detailCheckBoxSelect = (UIButton *) [operationCell.contentView viewWithTag:detailCheckBoxTag];

        if (!detailCheckBoxSelect)
        {
            detailCheckBoxSelect = [[UIButton alloc] initWithFrame:(CGRectMake(i,j,25,25))];
            detailCheckBoxSelect.tag = detailCheckBoxTag;
            [operationCell.contentView addSubview:detailCheckBoxSelect];
        }

        [detailCheckBoxSelect setImage:[UIImage imageNamed:@"More-icon"] forState:UIControlStateNormal];
        detailCheckBoxSelect.adjustsImageWhenHighlighted = YES;
        [detailCheckBoxSelect addTarget:self action:@selector(detailConfirmOperationCheckBoxSelected:) forControlEvents:UIControlEventTouchDown];

        if (isiPhone6) {
            [detailCheckBoxSelect setFrame:CGRectMake(321, 10, 30, 30)];
        }
        else if (IS_IPHONE_6_PLUS){

            [detailCheckBoxSelect setFrame:CGRectMake(361, 10, 30, 30)];

        }
        else if (IS_IPAD){

            [detailCheckBoxSelect setFrame:CGRectMake(650, 10, 30, 30)];

        }
        // }

        return operationCell;
    }
//    else if (tableView==dropDownSearchTableview)
//    {
//        static NSString *CellIdentifier = @"Cell";
//
//        if (dropDownSearchTableview.contentSize.height <dropDownSearchTableview.frame.size.height) {
//            dropDownSearchTableview.scrollEnabled = NO;
//
//        }
//        else
//            dropDownSearchTableview.scrollEnabled = YES;
//
//
//        FunctionalLocationTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
//
//        if (cell==nil) {
//            cell=[[FunctionalLocationTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
//        }
//        cell.accessoryType = UITableViewCellAccessoryNone;
//
//        if (indexPath.row % 2 == 0){
//            cell.contentView.backgroundColor =UIColorFromRGB(249, 249, 249);
//        }
//        else {
//            cell.contentView.backgroundColor =[UIColor whiteColor];
//        }
//
//        cell.detailButton.hidden=YES;
//        cell.rightArrowImageview.hidden=YES;
//
//        measurementPointDropDown = [self.dropDownArray objectAtIndex:indexPath.row];
//
//        cell.funcLocationIdLabel.text = measurementPointDropDown.point;
//        cell.funcLocationDescriptionLabel.text = measurementPointDropDown.pttxt;
//
//        return cell;
//    }
    else if (tableView == measurementDocTableView) {
        
        if (measurementDocTableView.contentSize.height < measurementDocTableView.frame.size.height) {
            measurementDocTableView.scrollEnabled = NO;
        }
        else {
            measurementDocTableView.scrollEnabled = YES;
        }
        
        static NSString *CellIdentifier = @"Cell";
        
        MeasureMentDocumentTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        
        if (cell==nil) {
            cell=[[MeasureMentDocumentTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        }
        
        cell.mDocsContentView.layer.cornerRadius = 2.0f;
        cell.mDocsContentView.layer.masksToBounds = YES;
        cell.mDocsContentView.layer.borderColor = [[UIColor darkGrayColor] CGColor];
        cell.mDocsContentView.layer.borderWidth = 1.0f;
        
        [cell.checkBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
        
        cell.checkBoxButton.adjustsImageWhenHighlighted = YES;
        [cell.checkBoxButton addTarget:self action:@selector(checkBoxMeasureDocsClicked:)   forControlEvents:UIControlEventTouchDown];
        
        cell.mDocLabel.text=[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:4];
        
        cell.measurementPointValueLabel.text=[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:5];
        cell.measurementDescriptionLabel.text=[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:9];
        cell.readValueLabel.text=[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:18];
        
        cell.targetLabel.text=[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:19];
        
        cell.unitLabel.text=[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:17];
        
        cell.personLabel.text=[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:14];
        
        //        NSDateFormatter *StartdateFormatter = [[NSDateFormatter alloc] init];
        //        [StartdateFormatter setDateFormat:@"yyyy-MM-dd"];
        //
        //        NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
        //        [dateFormatter setDateFormat:@"hh:mm:ss"];
        //        NSDate *startDateString = [dateFormatter dateFromString:[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:10]];
        //        NSDate *endDateString = [dateFormatter dateFromString:[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:11]];
        //
        //
        //        // Convert date object into desired format
        //
        //        [StartdateFormatter setDateFormat:@"MMM dd, yyyy"];
        //        NSString *convertedStartDateString = [StartdateFormatter stringFromDate:startDateString];
        //
        //        if ([NullChecker isNull:convertedStartDateString]) {
        //            convertedStartDateString = @"";
        //        }
        //
        //        [dateFormatter setDateFormat:@"hh:mm:ss"];
        //
        //
        //        NSString *convertedEndDateString = [dateFormatter stringFromDate:endDateString];
        //
        //        if ([NullChecker isNull:convertedEndDateString]) {
        //            convertedEndDateString = @"";
        //        }
        
        
        cell.timeDateLabel.text=[NSString stringWithFormat:@"%@ %@",[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:11],[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:12]];
        
        if ([[[self.mesurementDocumentArray objectAtIndex:indexPath.row] objectAtIndex:22] isEqualToString:@"X"]) {
            
            [cell.checkBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
        }
        else
        {
            [cell.checkBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
        }
        
        return cell;
   }
//    else if (tableView==systemStatusTableView){
//
//        if (systemStatusTableView.contentSize.height < systemStatusTableView.frame.size.height) {
//            systemStatusTableView.scrollEnabled = NO;
//        }
//        else
//            systemStatusTableView.scrollEnabled = YES;
//
//        static NSString *CellIdentifier = @"Cell";
//
//        OrderSystemStatusTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
//
//        if (cell==nil) {
//            cell=[[OrderSystemStatusTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
//        }
//
//        if (indexPath.row % 2 == 0){
//            cell.backgroundColor =UIColorFromRGB(249, 249, 249);
//        }
//        else {
//            cell.backgroundColor =[UIColor whiteColor];
//        }
//
//        cell.accessoryType = UITableViewCellAccessoryNone;
//
//        cell.selectionStyle=UITableViewCellSelectionStyleNone;
//
//        static NSInteger checkboxTag = 123;
//        NSInteger x,y;x = 8.0; y = 14.0;
//
//        UIButton *checkBoxNRadioButtonSelectionForSystemStatusButton = (UIButton *) [cell.contentView viewWithTag:checkboxTag];
//
//        if (!checkBoxNRadioButtonSelectionForSystemStatusButton)
//        {
//            checkBoxNRadioButtonSelectionForSystemStatusButton = [[UIButton alloc] initWithFrame:(CGRectMake(x,y,20,20))];
//            checkBoxNRadioButtonSelectionForSystemStatusButton.tag = checkboxTag;
//            [cell.contentView addSubview:checkBoxNRadioButtonSelectionForSystemStatusButton];
//        }
//
//        checkBoxNRadioButtonSelectionForSystemStatusButton.adjustsImageWhenHighlighted = YES;
//
//        cell.txt04.text=[[orderSystemStatusArray objectAtIndex:indexPath.row] objectForKey:@"orders_txt04"];
//        cell.Txt30.text=[[orderSystemStatusArray objectAtIndex:indexPath.row] objectForKey:@"orders_txt30"];
//
//        if ([[[orderSystemStatusArray objectAtIndex:indexPath.row] objectForKey:@"orders_act"] isEqualToString:@"X"]) {
//
//            [checkBoxNRadioButtonSelectionForSystemStatusButton  setImage:[UIImage imageNamed:@"checkBoxSelection.png"]   forState:UIControlStateNormal];
//        }
//        else{
//
//            [checkBoxNRadioButtonSelectionForSystemStatusButton  setImage:[UIImage imageNamed:@"checkBoxUnselection.png"]   forState:UIControlStateNormal];
//        }
//
//        return cell;
//    }
//
    else if (tableView==attachmentsTableView){
        
        static NSString *CellIdentifier = @"attachmentCell";
        
        AttachmentsTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        
        if (cell==nil) {
            cell=[[AttachmentsTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        }
        
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        
        cell.uploadedLabel.text=[[self.attachmentArray objectAtIndex:indexPath.row] objectAtIndex:2];
        
        // cell.idLabel.text=[[self.attachmentsArray objectAtIndex:indexPath.row] objectForKey:@"id"];
        
        UIImage *ret = [UIImage imageWithContentsOfFile:[arr_images objectAtIndex:indexPath.row]];
        
        cell.attachmentImage.image=ret;
        
        
        return cell;
    }
    
    return cell;
}

-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    if(tableView==self.filterSortTableView)
    {
        if (self.filterSortTableView.tag==0)
        {
            if (indexPath.section == 2) {
                
                if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@"X"])
                {
                    [[[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@""];
                }
                else{
                    
                    if(indexPath.row == 0){
                        
                        [[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] replaceObjectAtIndex:1 withObject:@"X"];
                    }
                }
            }
            else {
                
                if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@"X"])
                {
                    
                    if (indexPath.row>0) {
                        
                        if ([[[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@"X"])
                        {
                            [[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] objectAtIndex:0] replaceObjectAtIndex:1 withObject:@""];
                            
                            [[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] replaceObjectAtIndex:1 withObject:@""];
                        }
                        else
                        {
                            [[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] replaceObjectAtIndex:1 withObject:@"X"];
                        }
                    }
                    else
                    {
                        
                        for (int i=0; i<[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] count]; i++) {
                            
                            [[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:i] replaceObjectAtIndex:1 withObject:@""];
                        }
                    }
                }
                else if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@""])
                {
                    if (indexPath.row>0) {
                        
                        if ([[[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@"X"])
                        {
                            [[[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] replaceObjectAtIndex:indexPath.row withObject:@""];
                        }
                        else
                        {
                            [[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] replaceObjectAtIndex:1 withObject:@"X"];
                        }
                    }
                    else
                    {
                        for (int i=0; i<[[[structuredFilterSortedArray firstObject] objectAtIndex:indexPath.section] count]; i++) {
                            
                            [[[[structuredFilterSortedArray firstObject]objectAtIndex:indexPath.section] objectAtIndex:i] replaceObjectAtIndex:1 withObject:@"X"];
                        }
                    }
                }
            }
        }
        else if (self.filterSortTableView.tag==1)
        {
            if ([[[[[structuredFilterSortedArray lastObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] objectAtIndex:1] isEqualToString:@"X"]) {
                
                [[[[structuredFilterSortedArray lastObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] replaceObjectAtIndex:1 withObject:@""];
            }
            else
            {
                if (indexPath.row == 1) {
                    [[[[structuredFilterSortedArray lastObject] objectAtIndex:indexPath.section] objectAtIndex:0] replaceObjectAtIndex:1 withObject:@""];
                    [[[[structuredFilterSortedArray lastObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] replaceObjectAtIndex:1 withObject:@"X"];
                }
                else
                {
                    [[[[structuredFilterSortedArray lastObject] objectAtIndex:indexPath.section] objectAtIndex:1] replaceObjectAtIndex:1 withObject:@""];
                    
                    [[[[structuredFilterSortedArray lastObject] objectAtIndex:indexPath.section] objectAtIndex:indexPath.row] replaceObjectAtIndex:1 withObject:@"X"];
                }
            }
        }
        
        [self.filterSortTableView reloadData];
    }
    else if (tableView == self.dropDownTableView) {
        
        switch ([self.dropDownTableView tag]){
                
            case ORDER_ACCOUNTINGINDICATOR:
                
                accIndicatorIDHeader = [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:ID_INDEX]];
                accountingIndicatorTextField.text = [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:NAME_INDEX]];
                
                [accountingIndicatorTextField resignFirstResponder];   // for conirm screen
                
                break;
                
            case ORDER_ACTIVITYTYPE:
                
                activityId= [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:2]];
                
                activityTextField.text = [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:3]];
                
                [activityTextField resignFirstResponder];
                
                break;
                
            case ORDER_REASONS:
                
                reasonId= [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:0]];
                
                reasonTextField.text = [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:1]];
                
                [reasonTextField resignFirstResponder];
                
                break;
                
            case ORDER_MPOINT:
                
               // reasonId= [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectAtIndex:0]];
                
                mPointTextField.text = [NSString stringWithFormat:@"%@",[[self.dropDownArray objectAtIndex:indexPath.row] objectForKey:@"point"]];
                
                [mPointTextField resignFirstResponder];
                
                break;
        }
    }
//    else if (tableView==dropDownSearchTableview)
//    {
//        measurementPointDropDown = [self.dropDownArray objectAtIndex:indexPath.row];
//
//        measurementPointTextField.text  = measurementPointDropDown.point;
//        measurementDescriptionTextField.text = measurementPointDropDown.pttxt;
//
//        [dropDownView removeFromSuperview];
//    }
}


-(NSArray *)tableView:(UITableView *)tableView editActionsForRowAtIndexPath:(NSIndexPath *)indexPath {
    
    if (tableView==MyOrdersTableView) {
        
        selectedRow=(int)indexPath.row;
        
        UITableViewRowAction *confirmAction,*relAction,*tecoAction;
 
        if (MyOrdersTableView.tag==0) {
            
            if ([[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"] isEqualToString:@"CRTD"]){
                
                relAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"REL" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath){
                    //insert your editAction here
 
                    [self releasevalidationAlert];
                    
                }];
                
                relAction.backgroundColor = UIColorFromRGB(0, 0, 255);
                
                return @[relAction];
                
            }
            else
            {
                [selectedCheckBoxArray removeAllObjects];
                
                if ([[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"] isEqualToString:@"CRTD"]){
                    
                    relAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"REL" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath){
                        //insert your editAction here
                        
                        [self releasevalidationAlert];
                        
                    }];
                    
                    relAction.backgroundColor = UIColorFromRGB(0, 0, 255);
                    
                    return @[relAction];
                    
                }
                else if ([[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"] isEqualToString:@"REL"]){
                    
                    confirmAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"CNF" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath){
                        //insert your editAction here
                        
                        
                        [self confirmOrderAlert];
                        
                        
                    }];
                    
                    confirmAction.backgroundColor = UIColorFromRGB(245, 127, 23);
                    
                    return @[confirmAction];
                    
                }
                else if ([[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"] isEqualToString:@"CLSD"]){
                    
                }
                else
                {
                    
                    tecoAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"TECO" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath){
                        //insert your editAction here
                        
                        NSMutableArray *orderSystemArray=[NSMutableArray new];
                        
                        [orderSystemArray addObjectsFromArray:[[DataBase sharedInstance] fetchOrderSystemStatus :[[self.OrderListArray objectAtIndex:indexPath.row] objectForKey:@"orderh_id"]]];
                        
                        if ([[[[[orderSystemArray objectAtIndex:2] firstObject] objectAtIndex:18] objectForKey:@"orders_txt04"] isEqualToString:@"UMNA"]){
                            
                            if ([[[[[orderSystemArray objectAtIndex:2] firstObject] objectAtIndex:10] objectForKey:@"orders_act"] isEqualToString:@""]) {
                                
                                [self showAlertMessageWithTitle:@"Info" message:@"Please set UMMA  for this order" cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
                                
                                return;
                                
                            }
                        }
                        else if ([[[[[orderSystemArray objectAtIndex:2] firstObject] objectAtIndex:indexPath.row] objectForKey:@"orders_txt04"] isEqualToString:@"UMBRA"]){
                            
                            if ([[[[[orderSystemArray objectAtIndex:2] firstObject] objectAtIndex:10] objectForKey:@"orders_act"] isEqualToString:@""]) {
                                
                                [self showAlertMessageWithTitle:@"Info" message:@"Please set  UMBRA for this order" cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
                                
                                return;
                                
                            }
                         }
 
                        [self confirmOrder];
                        
                        
                    }];
                    
                    tecoAction.backgroundColor = UIColorFromRGB(54, 126,7);
                    
                    return @[tecoAction];
                    
                }
            }
         }
        
        else if (MyOrdersTableView.tag==1){
 
            
                if ([[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"] isEqualToString:@"CRTD"]){
                    
                    relAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"REL" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath){
                        //insert your editAction here
 
                        [self releasevalidationAlert];
                        
                    }];
                    
                    relAction.backgroundColor = UIColorFromRGB(0, 0, 255);
                    
                    return @[relAction];
                    
                }
                else
                {
                    [selectedCheckBoxArray removeAllObjects];
                    
                    if ([[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"] isEqualToString:@"CRTD"]){
                        
                        relAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"REL" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath){
                            //insert your editAction here
                            
                            [self releasevalidationAlert];
                            
                        }];
                        
                        relAction.backgroundColor = UIColorFromRGB(0, 0, 255);
                        
                        return @[relAction];
                        
                    }
                    else if ([[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"] isEqualToString:@"REL"]){
                        
                        confirmAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"CNF" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath){
                            //insert your editAction here
                            
                             [self confirmOrderAlert];
                            
                            
                        }];
                        
                        confirmAction.backgroundColor = UIColorFromRGB(245, 127, 23);
                        
                        return @[confirmAction];
                        
                    }
                    else if ([[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_status"] isEqualToString:@"CLSD"]){
                        
                    }
                    else
                    {
                        
                        tecoAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"TECO" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath){
                            //insert your editAction here
                            
                            NSMutableArray *orderSystemArray=[NSMutableArray new];
                            
                            [orderSystemArray addObjectsFromArray:[[DataBase sharedInstance] fetchOrderSystemStatus :[[filteredArray objectAtIndex:indexPath.row] objectForKey:@"orderh_id"]]];
                            
                            if ([[[[[orderSystemArray objectAtIndex:2] firstObject] objectAtIndex:18] objectForKey:@"orders_txt04"] isEqualToString:@"UMNA"]){
                                
                                if ([[[[[orderSystemArray objectAtIndex:2] firstObject] objectAtIndex:10] objectForKey:@"orders_act"] isEqualToString:@""]) {
                                    
                                    [self showAlertMessageWithTitle:@"Info" message:@"Please set UMMA  for this order" cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
                                    
                                    return;
                                    
                                }
                            }
                            else if ([[[[[orderSystemArray objectAtIndex:2] firstObject] objectAtIndex:indexPath.row] objectForKey:@"orders_txt04"] isEqualToString:@"UMBRA"]){
                                
                                if ([[[[[orderSystemArray objectAtIndex:2] firstObject] objectAtIndex:10] objectForKey:@"orders_act"] isEqualToString:@""]) {
                                    
                                    [self showAlertMessageWithTitle:@"Info" message:@"Please set  UMBRA for this order" cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
                                    
                                    return;
                                    
                                }
                                
                            }
                            
 
                            [self confirmOrder];
 
                        }];
                        
                        tecoAction.backgroundColor = UIColorFromRGB(54, 126,7);
                        
                        return @[tecoAction];
                        
                    }
                }
           }
      }
 
    return nil;
}

- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath {
    // Return YES if you want the specified item to be editable.
    
    if (tableView==MyOrdersTableView) {
        
          return YES;
    }
    
    return NO;
}


-(NSIndexPath *) GetCellFromTableView: (UITableView *)tableView Sender:(id)sender
{
    CGPoint position = [sender convertPoint:CGPointZero toView:tableView];
    NSIndexPath *indexPath = [tableView indexPathForRowAtPoint:position];
    return indexPath;//[tableView cellForRowAtIndexPath:indexPath];
}

- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (tableView==MyOrdersTableView) {
        
         return 100;
        
    }
    else if (tableView==operationsTableView)
    {
        
        return 130;
     }
    else if (tableView==measurementDocTableView)
    {
         return 189;
    }
    else if (tableView== dropDownSearchTableview) {
        
        return 70;
    }
    else if (tableView == systemStatusTableView){
        
        return 70;
    }
    else if (tableView==attachmentsTableView){
        
        return 116;
    }
    else if (tableView==self.dropDownTableView){
        
        return 30;
    }
    else if (tableView==measurementDocTableView){
        
        return 236;
    }
    else
    {
        return 40;
    }
    
    return  40;
}

-(void)filterSortOrderCheckBoxSelected:(id)sender{
    
    NSIndexPath *ip = [self GetCellFromTableView:self.filterSortTableView Sender:sender];
    NSInteger i = ip.row;
    
    UIButton *tappedButton = (UIButton*)sender;
    
    if([tappedButton.currentImage isEqual:[UIImage imageNamed:@"checkbox_unselected.png"]]) {
        [sender  setImage:[UIImage imageNamed: @"checkbox_selected.png"] forState:UIControlStateNormal];
        [selectedFilterSortCheckBoxArray addObject:[NSNumber numberWithInteger:i]];
    }
    else{
        [selectedFilterSortCheckBoxArray removeObject:[NSNumber numberWithInteger:i]];
        
        [sender setImage:[UIImage imageNamed:@"checkbox_unselected.png"]forState:UIControlStateNormal];
    }
    
}

-(void)detailCheckBoxSelected:(id)sender{
    
    NSIndexPath *ip = [self GetCellFromTableView:MyOrdersTableView Sender:sender];
    NSInteger i = ip.row;
    
    
    CreateOrderViewController *createVc = [self.storyboard instantiateViewControllerWithIdentifier:@"CreateOrderVC"];
    
    NSMutableArray *tempArray=[NSMutableArray new];
    
    [tempArray addObject:[self.OrderListArray objectAtIndex:i]];
    
    if ([tempArray count])
    {
        createVc.detailOrdersArray=[tempArray copy];
    }
    
    [self showViewController:createVc sender:self];
    
    
    
//    OrderObjects *selectedOrderObject = [[OrderObjects alloc]init];
//
//    if (MyOrdersTableView.tag==0) {
//
//        selectedOrderObject.orderUUID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_id"];
//        selectedOrderObject.orderTypeID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_type_id"];
//        selectedOrderObject.orderTypeText = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_type_name"];
//        selectedOrderObject.orderShortText = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_shorttext"];
//        selectedOrderObject.orderLongText = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_longtext"];
//        selectedOrderObject.funcLocID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_funcloc_id"];
//        selectedOrderObject.funcLocText= [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_funcloc_name"];
//        selectedOrderObject.equipNoID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_euipno_id"];
//        selectedOrderObject.equipNoText = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_euipno_name"];
//        selectedOrderObject.accountingID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_accindicator_id"];
//        selectedOrderObject.accountingText = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_accindicator_name"];
//        selectedOrderObject.priorityID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_priority_id"];
//        selectedOrderObject.priorityText = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_priority_name"];
//        selectedOrderObject.orderHeaderPlantID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_plant_id"];
//        selectedOrderObject.orderHeaderPlantNAME = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_plant_name"];
//        selectedOrderObject.OrderHeaderWorkCenterID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_workcenter_id"];
//        selectedOrderObject.OrderHeaderWorkCenterNAME = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_workcenter_name"];
//        selectedOrderObject.OrderHeaderCostCenter = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_kokrs"];
//        selectedOrderObject.OrderHeaderWorkArea = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_kostl"];
//
//        ////////
//        NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
//        [dateFormatter setDateFormat:@"yyyy-MM-dd"];
//        NSDate *tempstartDate = [dateFormatter dateFromString:[[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_startdate"]];
//        NSDate *tempendDate = [dateFormatter dateFromString:[[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_enddate"]];
//        // Convert date object into desired format
//        [dateFormatter setDateFormat:@"MMM dd, yyyy"];
//        NSString *convertedStartDateString = [dateFormatter stringFromDate:tempstartDate];
//        if ([NullChecker isNull:convertedStartDateString]) {
//            convertedStartDateString = @"";
//        }
//        selectedOrderObject.startMalFuncDate = [NSString stringWithFormat:@"%@",convertedStartDateString];
//        NSString *convertedEndDateStirng = [dateFormatter stringFromDate:tempendDate];
//        if ([NullChecker isNull:convertedEndDateStirng]) {
//            convertedEndDateStirng = @"";
//        }
//        selectedOrderObject.endMalfuncDate = [NSString stringWithFormat:@"%@",convertedEndDateStirng];
//        ///
//
//        selectedOrderObject.orderNoString = [[self.OrderListArray objectAtIndex:i] objectForKey:@"oh_objectID"];
//
//        selectedOrderObject.orderStatus = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_status"];
//
//        selectedOrderObject.orderHeaderQMNUM = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_qmnum"];
//
//        selectedOrderObject.orderHeaderMalFuncStartDate = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_malf_sdate"];
//
//        selectedOrderObject.orderHeaderMalFuncEndDate = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_malf_edate"];
//
//        selectedOrderObject.orderHeaderEffectID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_effect_id"];
//        selectedOrderObject.orderHeaderBreakDown = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_effect_name"];
//        selectedOrderObject.orderHeaderNReportedBy = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_Nreported_by"];
//        selectedOrderObject.orderHeaderEffectText = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_effect_name"];
//        selectedOrderObject.orderHeaderSystemConditionID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_systemcondition_id"];
//        selectedOrderObject.orderHeaderSystemConditionText = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_systemcondition_text"];
//
//        // *orderHeaderPlannerGroupID,*orderHeaderPlannerGroupName,*orderHeaderParnrVw,*orderHeaderNameVw
//
//        selectedOrderObject.orderHeaderParnrVw = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_personresponsible_id"];
//        selectedOrderObject.orderHeaderNameVw = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_personresponsible_text"];
//        selectedOrderObject.orderHeaderPlannerGroupID = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_ingrp"];
//        selectedOrderObject.orderHeaderPlannerGroupName = [[self.OrderListArray objectAtIndex:i] objectForKey:@"orderh_ingrp_name"];
//    }
//    else{
//
//
//        selectedOrderObject.orderUUID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_id"];
//        selectedOrderObject.orderTypeID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_type_id"];
//        selectedOrderObject.orderTypeText = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_type_name"];
//        selectedOrderObject.orderShortText = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_shorttext"];
//        selectedOrderObject.orderLongText = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_longtext"];
//        selectedOrderObject.funcLocID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_funcloc_id"];
//        selectedOrderObject.funcLocText= [[filteredArray objectAtIndex:i] objectForKey:@"orderh_funcloc_name"];
//        selectedOrderObject.equipNoID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_euipno_id"];
//        selectedOrderObject.equipNoText = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_euipno_name"];
//        selectedOrderObject.accountingID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_accindicator_id"];
//        selectedOrderObject.accountingText = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_accindicator_name"];
//        selectedOrderObject.priorityID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_priority_id"];
//        selectedOrderObject.priorityText = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_priority_name"];
//        selectedOrderObject.orderHeaderPlantID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_plant_id"];
//        selectedOrderObject.orderHeaderPlantNAME = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_plant_name"];
//        selectedOrderObject.OrderHeaderWorkCenterID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_workcenter_id"];
//        selectedOrderObject.OrderHeaderWorkCenterNAME = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_workcenter_name"];
//        selectedOrderObject.OrderHeaderCostCenter = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_kokrs"];
//        selectedOrderObject.OrderHeaderWorkArea = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_kostl"];
//
//        ////////
//        NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
//        [dateFormatter setDateFormat:@"yyyy-MM-dd"];
//        NSDate *tempstartDate = [dateFormatter dateFromString:[[filteredArray objectAtIndex:i] objectForKey:@"orderh_startdate"]];
//        NSDate *tempendDate = [dateFormatter dateFromString:[[filteredArray objectAtIndex:i] objectForKey:@"orderh_enddate"]];
//        // Convert date object into desired format
//        [dateFormatter setDateFormat:@"MMM dd, yyyy"];
//        NSString *convertedStartDateString = [dateFormatter stringFromDate:tempstartDate];
//        if ([NullChecker isNull:convertedStartDateString]) {
//            convertedStartDateString = @"";
//        }
//        selectedOrderObject.startMalFuncDate = [NSString stringWithFormat:@"%@",convertedStartDateString];
//        NSString *convertedEndDateStirng = [dateFormatter stringFromDate:tempendDate];
//        if ([NullChecker isNull:convertedEndDateStirng]) {
//            convertedEndDateStirng = @"";
//        }
//        selectedOrderObject.endMalfuncDate = [NSString stringWithFormat:@"%@",convertedEndDateStirng];
//        ///
//
//        selectedOrderObject.orderNoString = [[filteredArray objectAtIndex:i] objectForKey:@"oh_objectID"];
//
//        selectedOrderObject.orderStatus = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_status"];
//
//        selectedOrderObject.orderHeaderQMNUM = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_qmnum"];
//
//        selectedOrderObject.orderHeaderMalFuncStartDate = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_malf_sdate"];
//
//        selectedOrderObject.orderHeaderMalFuncEndDate = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_malf_edate"];
//
//        selectedOrderObject.orderHeaderEffectID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_effect_id"];
//        selectedOrderObject.orderHeaderBreakDown = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_effect_name"];
//        selectedOrderObject.orderHeaderNReportedBy = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_Nreported_by"];
//        selectedOrderObject.orderHeaderEffectText = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_effect_name"];
//        selectedOrderObject.orderHeaderSystemConditionID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_systemcondition_id"];
//        selectedOrderObject.orderHeaderSystemConditionText = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_systemcondition_text"];
//
//        // *orderHeaderPlannerGroupID,*orderHeaderPlannerGroupName,*orderHeaderParnrVw,*orderHeaderNameVw
//
//        selectedOrderObject.orderHeaderParnrVw = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_personresponsible_id"];
//        selectedOrderObject.orderHeaderNameVw = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_personresponsible_text"];
//        selectedOrderObject.orderHeaderPlannerGroupID = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_ingrp"];
//        selectedOrderObject.orderHeaderPlannerGroupName = [[filteredArray objectAtIndex:i] objectForKey:@"orderh_ingrp_name"];
//
//    }
    
   
}

-(void)selectedSystemStatus:(id)sender{
    
    NSIndexPath *ip = [self GetCellFromTableView:MyOrdersTableView Sender:sender];
    
    [self systemStatus:[[self.OrderListArray objectAtIndex:ip.row] objectForKey:@"orderh_id"]];
}

-(void)selectedWocoButton:(id)sender{
    
    NSIndexPath *ip = [self GetCellFromTableView:MyOrdersTableView Sender:sender];
    
    wocoSelectedIndex=ip.row;
    
    [self wocoButton:[[self.OrderListArray objectAtIndex:ip.row] objectForKey:@"oh_objectID"]];
}

//-(void)checkBoxClicked1:(id)sender{
//
//    NSIndexPath *ip = [self GetCellFromTableView:MyOrdersTableView Sender:sender];
//    NSInteger i = ip.row;
//    UIButton *tappedButton = (UIButton*)sender;
//
//    selectedIndex=ip.row;
//
//    if([tappedButton.currentImage isEqual:[UIImage imageNamed:@"tick"]]) {
//        [selectedCheckBoxArray removeObject:[NSNumber numberWithInteger:i]];
//
//        if ([[[self.OrderListArray objectAtIndex:ip.row] objectAtIndex:ORDERSTATUS] isEqualToString:@"CRTD"]){
//
//            releaseButton.hidden = YES;
//
//        }
//        else{
//            confirmButton.hidden = YES;
//            cancelButton.hidden = YES;
//         }
//
//    }
//    else
//    {
//        [selectedCheckBoxArray removeAllObjects];
//        [selectedCheckBoxArray addObject:[NSNumber numberWithInteger:i]];
//
//    if ([[[self.OrderListArray objectAtIndex:ip.row] objectAtIndex:ORDERSTATUS] isEqualToString:@"CRTD"]){
//
//        releaseButton.hidden = NO;
//        cancelButton.hidden = NO;
//
//        confirmButton.hidden = YES;
//
//    }
//        else{
//
//            if (([[[self.OrderListArray objectAtIndex:ip.row] objectAtIndex:ORDERTYPEID] isEqualToString:@"ZPM4"] || [[[self.OrderListArray objectAtIndex:ip.row] objectAtIndex:ORDERTYPEID] isEqualToString:@"ZPRE"]) && [NullChecker isNull:[[self.OrderListArray objectAtIndex:ip.row] objectAtIndex:ORDERHEADERUSER02]]) {
//
//                [confirmButton setTitle:@"TK Confirm" forState:UIControlStateNormal];
//            }
//            else{
//
//                [confirmButton setTitle:@"Teco" forState:UIControlStateNormal];
//                releaseButton.hidden = YES;
//
//            }
//
//            confirmButton.hidden = NO;
//            cancelButton.hidden = NO;
//
//        }
//
//    }
//
//    [MyOrdersTableView reloadData];
//}

-(void)checkBoxClicked1:(id)sender{
    
    NSIndexPath *ip = [self GetCellFromTableView:MyOrdersTableView Sender:sender];
    NSInteger i = ip.row;
    UIButton *tappedButton = (UIButton*)sender;
    
    selectedIndex=ip.row;
 
    if([tappedButton.currentImage isEqual:[UIImage imageNamed:@"Checked-Icon.png"]])
    {
        [selectedCheckBoxArray removeObject:[NSNumber numberWithInteger:i]];
        
        if ([[[self.OrderListArray objectAtIndex:ip.row] objectForKey:@"orderh_status"] isEqualToString:@"CRTD"]){
            
            releaseButton.hidden = YES;
            
        }
        else{
            confirmButton.hidden = YES;
            cancelButton.hidden = YES;
        }
        
    }
    else
    {
        [selectedCheckBoxArray removeAllObjects];
        [selectedCheckBoxArray addObject:[NSNumber numberWithInteger:i]];
        
        if ([[[self.OrderListArray objectAtIndex:ip.row] objectForKey:@"orderh_status"] isEqualToString:@"CRTD"]){
            
            releaseButton.hidden = NO;
            cancelButton.hidden = NO;
            confirmButton.hidden = YES;
            
        }
        else if ([[[self.OrderListArray objectAtIndex:ip.row] objectForKey:@"orderh_status"] isEqualToString:@"REL"]){
            
            [confirmButton setTitle:@"Confirm" forState:UIControlStateNormal];
            
            releaseButton.hidden = YES;
            cancelButton.hidden = NO;
            confirmButton.hidden = NO;
            
        }
        else if ([[[self.OrderListArray objectAtIndex:ip.row] objectForKey:@"orderh_status"] isEqualToString:@"CLSD"]){
            
            
            [confirmButton setTitle:@"Confirm" forState:UIControlStateNormal];
            
            releaseButton.hidden = YES;
            cancelButton.hidden = YES;
            confirmButton.hidden = YES;
            
        }
        else
        {
            [confirmButton setTitle:@"Teco" forState:UIControlStateNormal];
            releaseButton.hidden = YES;
            confirmButton.hidden = NO;
            cancelButton.hidden = NO;
            
        }
     }
    
    [MyOrdersTableView reloadData];
}


-(void)operationcheckBoxClicked:(id)sender{
    
    NSIndexPath *ip = [self GetCellFromTableView:operationsTableView Sender:sender];
    NSInteger i = ip.row;
    
    UIButton *tappedButton = (UIButton*)sender;
    
    if([tappedButton.currentImage isEqual:[UIImage imageNamed:@"checkbox_unselected.png"]]) {
        [sender  setImage:[UIImage imageNamed: @"checkbox_selected.png"] forState:UIControlStateNormal];
        
        [self.selectedOperationsCheckBoxArray addObject:[NSNumber numberWithInteger:i]];
    }
    else{
        [self.selectedOperationsCheckBoxArray removeObject:[NSNumber numberWithInteger:i]];
        
        [sender setImage:[UIImage imageNamed:@"checkbox_unselected.png"]forState:UIControlStateNormal];
    }
}
-(void)detailConfirmOperationCheckBoxSelected:(id)sender{
    
    //    startDateTextField.text=[[self.OrderListArray objectAtIndex:selectedIndex] objectAtIndex:13];
    //    endDatetTextfield.text=[[self.OrderListArray objectAtIndex:selectedIndex] objectAtIndex:14];
    
    
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    
    [dateFormatter setDateFormat:@"yyyy-MM-dd"];
    //            NSString *filterString = [NSString stringWithFormat:@"oh_objectID like '%@%%' or orderh_shorttext like '%@%%' or orderh_priority_name like '%@%%' or orderh_startdate like '%@%%' or orderh_status like '%@%%' or orderh_euipno_id like '%@%%'",searchText,searchText,searchText,searchText,searchText,searchText];
    
    NSDate *startDateFormatter = [dateFormatter dateFromString:[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"orderh_startdate"]];
    NSDate *endDateFormatter = [dateFormatter dateFromString:[[self.OrderListArray objectAtIndex:selectedIndex] objectForKey:@"orderh_enddate"]];
    
    // Convert date object into desired format
    [dateFormatter setDateFormat:@"MMM dd, yyyy"];
    
    NSString *convertedStartDateString = [dateFormatter stringFromDate:startDateFormatter];
    
    NSString *convertedEndDateString = [dateFormatter stringFromDate:endDateFormatter];
    
    if ([NullChecker isNull:convertedStartDateString]) {
        
        convertedStartDateString=@"";
    }
    
    if ([NullChecker isNull:convertedEndDateString]) {
        
        convertedEndDateString=@"";
    }
    
    startDateTextField.text=convertedStartDateString;
    endDatetTextfield.text=convertedEndDateString;
    [self disableOperationFields];
    confirmScrollview.contentInset=UIEdgeInsetsMake(0.0,0.0,400,0.0);
    [confirmationView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
     [self.view addSubview:confirmationView];
 
}

-(void)enableOperationFields{
    
    reasonTextField.userInteractionEnabled = YES;
    startDateTextField.userInteractionEnabled = YES;
    endDatetTextfield.userInteractionEnabled = YES;
    remainWorkCheckBoxBtn.userInteractionEnabled = YES;
    finalCheckBoxBtn.userInteractionEnabled = YES;
    //    saveOperationDetailsButton.hidden = NO;
    
    confirmationTextview.userInteractionEnabled = YES;
    saveOperationDetailsButton.userInteractionEnabled = YES;
    [remainWorkCheckBoxBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
    [finalCheckBoxBtn setImage:[UIImage imageNamed:@"radioselection.png"] forState:UIControlStateNormal];
    
}

-(void)disableOperationFields{
    
    reasonTextField.userInteractionEnabled = NO;
    startDateTextField.userInteractionEnabled = NO;
    endDatetTextfield.userInteractionEnabled = NO;
    remainWorkCheckBoxBtn.userInteractionEnabled = NO;
    finalCheckBoxBtn.userInteractionEnabled = NO;
    //    saveOperationDetailsButton.hidden = YES;
    confirmationTextview.userInteractionEnabled = NO;
    saveOperationDetailsButton.userInteractionEnabled = NO;
    [remainWorkCheckBoxBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
    [finalCheckBoxBtn setImage:[UIImage imageNamed:@"radiounselection.png"] forState:UIControlStateNormal];
    
}

-(IBAction)selectAllOperaButtonClicked:(id)sender
{
    
    UIButton *tappedButton = (UIButton*)sender;
    
    if([tappedButton.currentImage isEqual:[UIImage imageNamed:@"radiounselection.png"]]) {
        [sender  setImage:[UIImage imageNamed: @"radioselection.png"] forState:UIControlStateNormal];
        
        for (int i=0; i<[self.operationDetailsArray count]; i++) {
            [self.selectedOperationsCheckBoxArray addObject:[NSNumber numberWithInteger:i]];
        }
        
     }
    else{
        
        for (int i=0; i<[self.operationDetailsArray count]; i++) {
            [self.selectedOperationsCheckBoxArray removeObject:[NSNumber numberWithInteger:i]];
        }
        
        
        [sender setImage:[UIImage imageNamed:@"radiounselection.png"]forState:UIControlStateNormal];
    }
 
    [operationsTableView reloadData];
 }

-(void)checkBoxMeasureDocsClicked:(id)sender{
    
    NSIndexPath *ip = [self GetCellFromTableView:measurementDocTableView Sender:sender];
    NSInteger i = ip.row;
    
    UIButton *tappedButton = (UIButton*)sender;
    
    if([tappedButton.currentImage isEqual:[UIImage imageNamed:@"radiounselection.png"]]) {
        
        [sender  setImage:[UIImage imageNamed: @"radioselection.png"] forState:UIControlStateNormal];
        [[self.mesurementDocumentArray objectAtIndex:i] replaceObjectAtIndex:22 withObject:@"X"];
        [self.selectedMeasureDocsCheckBoxArray addObject:[NSNumber numberWithInteger:i]];
        
     }
    else
    {
        [sender setImage:[UIImage imageNamed:@"radiounselection.png"]forState:UIControlStateNormal];
        [[self.mesurementDocumentArray objectAtIndex:i] replaceObjectAtIndex:22 withObject:@""];
        [self.selectedMeasureDocsCheckBoxArray removeObject:[NSNumber numberWithInteger:i]];
     }
    
}



-(IBAction)attachmentsBtnClicked:(id)sender{
    
    [attachView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    
    [self.view addSubview:attachView];
    
}

-(IBAction)addAttachmentsClicked:(id)sender{
    
    [attachView removeFromSuperview];
    
}

-(IBAction)cancelttachmentsClicked:(id)sender{
    
    [attachView removeFromSuperview];
    
}




#pragma mark-
#pragma mark- request Delegate

- (void)resultData:(NSDictionary *)resultData withErrorDescription:(NSString *)errorDescription requestID:(WebServiceRequest)requestID :(int)statusCode
{
    [selectedCheckBoxArray removeAllObjects];
    
    switch (requestID) {
            
        case ORDER_WOCO:
            
            if (!errorDescription.length) {
                
                NSMutableDictionary *parsedDictionary = [[Response sharedInstance] parseForChangeOrder:resultData];
                
                if ([parsedDictionary objectForKey:@"Message"]) {
                    
                    [[DataBase sharedInstance] deleteOrderTransactions];
                    
                    NSString *messageCompare;
                    NSArray *messageArray = [[parsedDictionary objectForKey:@"Message"] componentsSeparatedByString:@" "];
                    if ([[[messageArray firstObject] uppercaseString] isEqualToString:@"S"]) {
                        
                        [[DataBase sharedInstance] updateForChangeOrder:[self.orderHeaderDetails objectForKey:@"ID"]];
                        
                        [[DataBase sharedInstance] updateSyncLogForCategory:@"Order" action:@"Change" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"]];
                        
                        if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                        {
                            [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Activity:Change Order #Orderno:%@ #Mode:Online #Class:Very Important #MUser:%@ #DeviceId:%@",[parsedDictionary objectForKey:@"OBJECTID"],decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
                            
                        }
                        
                        // workApprovalObjArt=@"";
                        
                        if ([parsedDictionary objectForKey:@"resultHeader"]) {
                            
                            [[DataBase sharedInstance] deleteOrderTransactions];
                            
                            if([[DataBase sharedInstance] updateOrderWithObjectid:[parsedDictionary objectForKey:@"OBJECTID"] forHeaderID:[self.orderHeaderDetails objectForKey:@"ID"]])
                            {
                                [[DataBase sharedInstance] updateSyncLogForCategory:@"Order" action:@"Create" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"]];
                                
                                if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                                {
                                    [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Activity:WOCO Order #Orderno:%@ #Mode:Online #Class:Very Important #MUser:%@ #DeviceId:%@",[parsedDictionary objectForKey:@"OBJECTID"],decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
                                }
                                
                                [self resetAllValues];
                                
                                if ([parsedDictionary objectForKey:@"resultHeader"]) {
                                    
                                    NSMutableDictionary *orderDetailDictionary = [[NSMutableDictionary alloc] init];
                                    id responseObject;
                                    NSMutableArray *orderOperationArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderDocsArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderHeaderArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderWsmSafetyMeasuresArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmWorkApprovalListArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmWorkApplicationListArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmIssuePermitsArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmOperationWCDArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmOperationWCDTaggingConditionsArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderWcmPermitsStandardCheckPoints = [NSMutableArray new];
                                    
                                    NSMutableArray *orderStatusArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderOlistArray = [[NSMutableArray alloc] init];
                                    
                                    NSMutableArray *orderMeasurementDocumentsArray = [NSMutableArray new];
                                    
                                    NSDictionary *headerDictionary;
                                    
                                    responseObject = nil;
                                    responseObject = [parsedDictionary objectForKey:@"resultHeader"];
                                    
                                    [orderHeaderArray addObjectsFromArray:responseObject];
                                    
                                    NSDateFormatter *dateFormate = [[NSDateFormatter alloc] init];
                                    [dateFormate setDateFormat:@"yyyy-MM-dd"];
                                    NSMutableDictionary *currentHeaderDictionary;
                                    
                                    for (int i=0; i<[orderHeaderArray count]; i++) {
                                        
                                        if ([[orderHeaderArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderHeaderArray objectAtIndex:i];
                                            currentHeaderDictionary = [[NSMutableDictionary alloc] init];
                                            if ([headerDictionary objectForKey:@"Aufnr"]) {
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Aufnr"] copy] forKey:@"OBJECTID"];
                                            }
                                            else
                                            {
                                                [currentHeaderDictionary setObject:@" " forKey:@"OBJECTID"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Auart"] copy] forKey:@"OID"];
                                            
                                            if ([NullChecker isNull:[headerDictionary objectForKey:@"Ktext"]]) {
                                                [currentHeaderDictionary setObject:@"" forKey:@"SHORTTEXT"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Ktext"] copy] forKey:@"SHORTTEXT"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Gltrp"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Gltrp"] forKey:@"EDATE"];
                                                
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"EDATE"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Gstrp"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Gstrp"] forKey:@"SDATE"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"SDATE"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Ernam"] copy] forKey:@"REPORTEDBY"];
                                            if ([headerDictionary objectForKey:@"Priok"]) {
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Priok"] copy] forKey:@"OPID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"OPID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Equnr"]) {
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Equnr"] copy] forKey:@"EQID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"EQID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Strno"]) {
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Strno"] copy] forKey:@"FID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"FID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Xstatus"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Xstatus"] forKey:@"OSTATUS"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"Assigned" forKey:@"OSTATUS"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Docs"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Docs"] forKey:@"DOCS"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"DOCS"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Werks"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Werks"] forKey:@"PLANTID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"PLANTID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Plantname"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Plantname"] forKey:@"PLANTNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"PLANTNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Arbpl"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Arbpl"] forKey:@"WORKCENTERID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"WORKCENTERID"];
                                            }
                                            
                                            
                                            
                                            if ([headerDictionary objectForKey:@"Ingrp"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ingrp"] forKey:@"PLANNERGROUP"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"PLANNERGROUP"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Ingrpname"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ingrpname"] forKey:@"PLANNERGROUPNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"PLANNERGROUPNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"ParnrVw"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"ParnrVw"] forKey:@"PARNRID"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"PARNRID"];
                                            }
                                            
                                            
                                            if ([headerDictionary objectForKey:@"NameVw"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"NameVw"] forKey:@"NAMEVW"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"NAMEVW"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Wkctrname"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Wkctrname"] forKey:@"WORKCENTERNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"WORKCENTERNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Ausvn"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ausvn"] forKey:@"MALFUNCTIONSTARTDATE"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"MALFUNCTIONSTARTDATE"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Ausbs"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ausbs"] forKey:@"MALFUNCTIONENDDATE"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"MALFUNCTIONENDDATE"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Qmnam"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Qmnam"] forKey:@"NREPORTEDBY"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"NREPORTEDBY"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Msaus"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Msaus"] forKey:@"BREAKDOWN"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"BREAKDOWN"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Auswk"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auswk"] forKey:@"EFFECTID"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"EFFECTID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Auswkt"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auswkt"] forKey:@"EFFECTNAME"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"EFFECTNAME"];
                                            }
                                            
                                            
                                            if ([headerDictionary objectForKey:@"Anlzu"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Anlzu"] forKey:@"SYSTEMCONDITIONID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"SYSTEMCONDITIONID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Anlzux"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Anlzux"] forKey:@"SYSTEMCONDITIONTEXT"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"SYSTEMCONDITIONTEXT"];
                                            }
                                            
                                            
                                            if ([headerDictionary objectForKey:@"ParnrVw"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"ParnrVw"] forKey:@"PARNRID"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"PARNRID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"NameVw"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"NameVw"] forKey:@"PARNRTEXT"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"PARNRTEXT"];
                                                
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Ingrp"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ingrp"] forKey:@"PLANNERGROUP"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"PLANNERGROUP"];
                                                
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Ingrpname"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ingrpname"] forKey:@"PLANNERGROUPNAME"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"PLANNERGROUPNAME"];
                                                
                                            }
                                            
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"LATITUDE"];
                                            [currentHeaderDictionary setObject:@"" forKey:@"LONGITUDE"];
                                            [currentHeaderDictionary setObject:@"" forKey:@"ALTITUDE"];
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"workarea"];
                                            [currentHeaderDictionary setObject:@"" forKey:@"costcenter"];
                                            
                                            if ([headerDictionary objectForKey:@"Kokrs"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kokrs"] forKey:@"workarea"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Kostl"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kostl"] forKey:@"costcenter"];
                                            }
                                            
                                            
                                            if ([headerDictionary objectForKey:@"EquiHistory"]) {
                                                id equipmentHisory = [headerDictionary objectForKey:@"EquiHistory"];
                                                if ([equipmentHisory objectForKey:@"item"]) {
                                                    equipmentHisory = [equipmentHisory objectForKey:@"item"];
                                                    if ([equipmentHisory isKindOfClass:[NSDictionary class]]) {
                                                        [currentHeaderDictionary setObject:[NSMutableArray arrayWithObject:equipmentHisory] forKey:@"EQUIPMENTHISTORY"];
                                                    }
                                                    else if ([equipmentHisory isKindOfClass:[NSArray class]]){
                                                        [currentHeaderDictionary setObject:equipmentHisory forKey:@"EQUIPMENTHISTORY"];
                                                    }
                                                }
                                            }
                                            
                                            //                                    if ([headerDictionary objectForKey:@"Fields"]) {
                                            //                                        NSMutableArray *fieldsMutArray = [NSMutableArray new];
                                            //                                        NSArray *fieldsArray = [[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                                            //                                        for (int i =0; i<[fieldsArray count]; i++) {
                                            //                                            NSString *fieldValue,*fieldName,*fLabel,*tabName,*dataType,*sequence,*length;
                                            //                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:i] objectForKey:@"Fieldname"]]) {
                                            //                                                fieldName = @"";
                                            //                                            }
                                            //                                            else{
                                            //                                                fieldName = [[fieldsArray objectAtIndex:i] objectForKey:@"Fieldname"];
                                            //                                            }
                                            //
                                            //                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:i] objectForKey:@"Flabel"]]) {
                                            //                                                fLabel = @"";
                                            //                                            }
                                            //                                            else{
                                            //                                                fLabel = [[fieldsArray objectAtIndex:i] objectForKey:@"Flabel"];
                                            //                                            }
                                            //
                                            //                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:i] objectForKey:@"Tabname"]]) {
                                            //                                                tabName = @"";
                                            //                                            }
                                            //                                            else{
                                            //                                                tabName = [[fieldsArray objectAtIndex:i] objectForKey:@"Tabname"];
                                            //                                            }
                                            //
                                            //                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:i] objectForKey:@"Value"]]) {
                                            //                                                fieldValue = @"";
                                            //                                            }
                                            //                                            else{
                                            //                                                fieldValue = [[fieldsArray objectAtIndex:i] objectForKey:@"Value"];
                                            //                                            }
                                            //
                                            //                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:i] objectForKey:@"Datatype"]]) {
                                            //                                                dataType = @"";
                                            //                                            }
                                            //                                            else{
                                            //                                                dataType = [[fieldsArray objectAtIndex:i] objectForKey:@"Datatype"];
                                            //                                            }
                                            //
                                            //                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:i] objectForKey:@"Sequence"]]) {
                                            //                                                sequence = @"";
                                            //                                            }
                                            //                                            else{
                                            //                                                sequence = [[fieldsArray objectAtIndex:i] objectForKey:@"Sequence"];
                                            //                                            }
                                            //
                                            //                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:i] objectForKey:@"Length"]]) {
                                            //                                                length = @"";
                                            //                                            }
                                            //                                            else{
                                            //                                                length = [[fieldsArray objectAtIndex:i] objectForKey:@"Length"];
                                            //                                            }
                                            //
                                            //
                                            //                                            [fieldsMutArray addObject:[NSMutableArray arrayWithObjects:@"W",@"WH",tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                            //                                        }
                                            //
                                            //                                        [currentHeaderDictionary setObject:fieldsMutArray forKey:@"CFH"];
                                            //                                    }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"LONGTEXT"];
                                            [currentHeaderDictionary setObject:[[DataBase sharedInstance] fetchNameForIDKey:@"ORDEROBJECTID" forValue:[currentHeaderDictionary objectForKey:@"OBJECTID"]] forKey:@"ID"];
                                            if (![[currentHeaderDictionary objectForKey:@"ID"] length]) {
                                                
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Auarttext"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auarttext"] forKey:@"ONAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Priokx"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Priokx"] forKey:@"OPNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"OPNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Pltxt"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Pltxt"] forKey:@"FNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"FNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Eqktx"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Eqktx"] forKey:@"EQNAME"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"EQNAME"];
                                            }
                                            
                                            if ([headerDictionary  objectForKey:@"Bemot"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Bemot"] forKey:@"ACCINCID"];
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Bemot"] forKey:@"ACCINCNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"ACCINCID"];
                                                [currentHeaderDictionary setObject:@"" forKey:@"ACCINCNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Kokrs"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kokrs"] forKey:@"workarea"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"workarea"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Kostl"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kostl"] forKey:@"costcenter"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"costcenter"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"NOSYNCLOG"];
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"QMNUM"];
                                            
                                            if ([headerDictionary objectForKey:@"Qmnum"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Qmnum"] forKey:@"QMNUM"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr01"];
                                            if ([headerDictionary objectForKey:@"Usr01"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr01"] forKey:@"usr01"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr02"];
                                            if ([headerDictionary objectForKey:@"Usr02"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr02"] forKey:@"usr02"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr03"];
                                            if ([headerDictionary objectForKey:@"Usr03"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr03"] forKey:@"usr03"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr04"];
                                            if ([headerDictionary objectForKey:@"Usr04"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr04"] forKey:@"usr04"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr05"];
                                            if ([headerDictionary objectForKey:@"Usr05"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr04"] forKey:@"usr05"];
                                            }
                                            
                                            [orderDetailDictionary setObject:[NSMutableArray arrayWithObjects:currentHeaderDictionary,[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array], nil] forKey:[currentHeaderDictionary objectForKey:@"OBJECTID"]];
                                        }
                                    }
                                    
                                    [orderHeaderArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderOlistDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempOlistDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultOrderOlist"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultOrderOlist"];
                                        
                                        [orderOlistArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderOlistArray count]; i++) {
                                            if ([[orderOlistArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderOlistArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderOlistDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempOlistDictionary = [orderOlistDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempOlistDictionary objectForKey:[headerDictionary objectForKey:@"Obknr"]]) {
                                                            tempOlistDictionary = [tempOlistDictionary objectForKey:[headerDictionary objectForKey:@"Obknr"]];
                                                            [tempOlistDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempOlistDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Obknr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderOlistDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Obknr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderOlistArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderDocsDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempDocsDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultDocs"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultDocs"];
                                        
                                        [orderDocsArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderDocsArray count]; i++) {
                                            if ([[orderDocsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderDocsArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]]) {
                                                    if ([orderDocsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]]) {
                                                        tempDocsDictionary = [orderDocsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]];
                                                        if ([tempDocsDictionary objectForKey:[headerDictionary objectForKey:@"Filename"]]) {
                                                            tempDocsDictionary = [tempDocsDictionary objectForKey:[headerDictionary objectForKey:@"Filename"]];
                                                            [tempDocsDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempDocsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Filename"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderDocsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Filename"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderDocsArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderTransactionDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    
                                    NSMutableDictionary *tempDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultOperationsTransactions"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultOperationsTransactions"];
                                        
                                        [orderOperationArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderOperationArray count]; i++) {
                                            if ([[orderOperationArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderOperationArray objectAtIndex:i];
                                                
                                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    if ([orderTransactionDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                        tempDictionary = [orderTransactionDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                        if ([tempDictionary objectForKey:[headerDictionary objectForKey:@"Vornr"]]) {
                                                            tempDictionary = [tempDictionary objectForKey:[headerDictionary objectForKey:@"Vornr"]];
                                                            [tempDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else
                                                        {
                                                            [tempDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Vornr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderTransactionDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Vornr"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderOperationArray removeAllObjects];
                                    
                                    responseObject = nil;
                                    NSMutableArray *orderTransactionArray = [[NSMutableArray alloc] init];
                                    
                                    if ([parsedDictionary objectForKey:@"resultComponentsTransactions"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultComponentsTransactions"];
                                        
                                        if ([responseObject isKindOfClass:[NSDictionary class]]) {
                                            [orderTransactionArray addObject:responseObject];
                                        }
                                        else if ([responseObject isKindOfClass:[NSArray class]])
                                        {
                                            [orderTransactionArray addObjectsFromArray:responseObject];
                                        }
                                        
                                        NSDictionary *transactionDictionary;
                                        
                                        for (int i=0; i<[orderTransactionArray count]; i++) {
                                            
                                            if ([[orderTransactionArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                
                                                transactionDictionary = [orderTransactionArray objectAtIndex:i];
                                                
                                                if ([orderDetailDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]]) {
                                                    
                                                    if ([orderTransactionDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]]) {
                                                        
                                                        tempDictionary = [orderTransactionDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]];
                                                        
                                                        if ([tempDictionary objectForKey:[transactionDictionary objectForKey:@"Vornr"]]) {
                                                            
                                                            tempDictionary = [tempDictionary objectForKey:[transactionDictionary objectForKey:@"Vornr"]];
                                                            
                                                            if ([tempDictionary objectForKey:@"Components"]) {
                                                                
                                                                NSMutableArray *componentArray = [tempDictionary objectForKey:@"Components"];
                                                                
                                                                [componentArray addObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary]];
                                                            }
                                                            else
                                                            {
                                                                [tempDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary]] forKey:@"Components"];
                                                            }
                                                        }
                                                        else
                                                        {
                                                            [tempDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary] forKey:[transactionDictionary objectForKey:@"Vornr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderTransactionDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary] forKey:[transactionDictionary objectForKey:@"Vornr"]] forKey:[transactionDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [orderTransactionArray removeAllObjects];
                                    }
                                    
                                    NSMutableDictionary *orderMeasurementDocumentsDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    
                                    NSMutableDictionary *measureMentDocsDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultMeasurementDocuments"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultMeasurementDocuments"];
                                        
                                        [orderMeasurementDocumentsArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderMeasurementDocumentsArray count]; i++) {
                                            if ([[orderMeasurementDocumentsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderMeasurementDocumentsArray objectAtIndex:i];
                                                
                                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    if ([orderMeasurementDocumentsDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                        tempDictionary = [orderMeasurementDocumentsDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                        if ([tempDictionary objectForKey:[headerDictionary objectForKey:@"Mdocm"]]) {
                                                            measureMentDocsDictionary = [tempDictionary objectForKey:[headerDictionary objectForKey:@"Mdocm"]];
                                                            [measureMentDocsDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else
                                                        {
                                                            [measureMentDocsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Mdocm"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderMeasurementDocumentsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Mdocm"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderMeasurementDocumentsArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderWSMSafetyMeasuresDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempWSMSafetyMeasuresDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultWSMSafetyMeasures"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultWSMSafetyMeasures"];
                                        
                                        [orderWsmSafetyMeasuresArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWsmSafetyMeasuresArray count]; i++) {
                                            
                                            if ([[orderWsmSafetyMeasuresArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWsmSafetyMeasuresArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]]) {
                                                    if ([orderWSMSafetyMeasuresDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]]) {
                                                        tempWSMSafetyMeasuresDictionary = [orderWSMSafetyMeasuresDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                                        if ([tempWSMSafetyMeasuresDictionary objectForKey:[headerDictionary objectForKey:@"ObjId"]]) {
                                                            tempWSMSafetyMeasuresDictionary = [tempWSMSafetyMeasuresDictionary objectForKey:[headerDictionary objectForKey:@"ObjId"]];
                                                            [tempWSMSafetyMeasuresDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWSMSafetyMeasuresDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"ObjId"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWSMSafetyMeasuresDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"ObjId"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWsmSafetyMeasuresArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderWCMWorkApprovalListDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempWCMWorkApprovalListDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultWorkApprovalsData"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultWorkApprovalsData"];
                                        
                                        [orderWcmWorkApprovalListArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWcmWorkApprovalListArray count]; i++) {
                                            
                                            if ([[orderWcmWorkApprovalListArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWcmWorkApprovalListArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderWCMWorkApprovalListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempWCMWorkApprovalListDictionary = [orderWCMWorkApprovalListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapnr"]]) {
                                                            tempWCMWorkApprovalListDictionary = [tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapnr"]];
                                                            [tempWCMWorkApprovalListDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWCMWorkApprovalListDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapnr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWCMWorkApprovalListDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWcmWorkApprovalListArray removeAllObjects];
                                    
                                    
                                    NSMutableDictionary *orderWCMWorkApplicationListDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempWCMWorkApplicationListDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultWorkApplicationData"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultWorkApplicationData"];
                                        
                                        [orderWcmWorkApplicationListArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWcmWorkApplicationListArray count]; i++) {
                                            
                                            if ([[orderWcmWorkApplicationListArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWcmWorkApplicationListArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderWCMWorkApplicationListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempWCMWorkApplicationListDictionary = [orderWCMWorkApplicationListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempWCMWorkApplicationListDictionary objectForKey:[headerDictionary objectForKey:@"Wapinr"]]) {
                                                            tempWCMWorkApplicationListDictionary = [tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapinr"]];
                                                            [tempWCMWorkApplicationListDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWCMWorkApplicationListDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapinr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWCMWorkApplicationListDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapinr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWcmWorkApplicationListArray removeAllObjects];
                                    
                                    ///
                                    NSMutableDictionary *orderWCMIssuePermitsDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempWCMIssuePermitsDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultIssuePermits"]) {
                                        
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultIssuePermits"];
                                        
                                        
                                        [orderWcmIssuePermitsArray addObjectsFromArray:responseObject];
                                        
                                        
                                        for (int i=0; i<[orderWcmIssuePermitsArray count]; i++) {
                                            
                                            
                                            if ([[orderWcmIssuePermitsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWcmIssuePermitsArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    
                                                    
                                                    if ([orderWCMIssuePermitsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempWCMIssuePermitsDictionary = [orderWCMIssuePermitsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempWCMIssuePermitsDictionary objectForKey:[headerDictionary objectForKey:@"Werks"]]) {
                                                            
                                                            
                                                            tempWCMIssuePermitsDictionary = [tempWCMIssuePermitsDictionary objectForKey:[headerDictionary objectForKey:@"Werks"]];
                                                            
                                                            
                                                            if ([tempWCMIssuePermitsDictionary objectForKey:@"Objects"]) {
                                                                NSMutableArray *objectsArray = [tempWCMIssuePermitsDictionary objectForKey:@"Objects"];
                                                                [objectsArray addObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]];
                                                            }
                                                            else{
                                                                
                                                                
                                                                [tempWCMIssuePermitsDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]] forKey:@"Objects"];
                                                            }
                                                        }
                                                        else{
                                                            
                                                            
                                                            [tempWCMIssuePermitsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Werks"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWCMIssuePermitsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Werks"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    [orderWcmIssuePermitsArray removeAllObjects];
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultOperationWCDItemData"];
                                    
                                    for (int i = 0; i<[responseObject count]; i++) {
                                        NSMutableArray *orderDetailWCMOperationWCDTaggingConditionsArray = [NSMutableArray new];
                                        
                                        tempDictionary = [responseObject objectAtIndex:i];
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Wcnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcitm"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Wcitm"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Itmtyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Itmtyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Seq"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Seq"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Pred"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Pred"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Succ"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Succ"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Ccobj"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Ccobj"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Cctyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Cctyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tggrp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tggrp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgstep"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgstep"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgproc"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgproc"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgtyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgtyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgseq"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgseq"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgtxt"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgtxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unstep"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unstep"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unproc"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unproc"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Untyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Untyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unseq"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unseq"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Untxt"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Untxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phblflg"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phblflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phbltyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phbltyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phblnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phblnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgflg"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgform"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgform"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unform"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unform"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Control"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Control"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Location"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Location"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Btg"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Btg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etg"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Etg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Bug"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Bug"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Eug"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Eug"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        [orderWcmOperationWCDTaggingConditionsArray addObject:orderDetailWCMOperationWCDTaggingConditionsArray];
                                    }
                                    
                                    ///
                                    responseObject = nil;
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultStandardCheckPoints"];
                                    
                                    for (int i = 0; i<[responseObject count]; i++) {
                                        
                                        NSMutableArray *orderDetailWCMStandardCheckPointsArray = [NSMutableArray new];
                                        
                                        tempDictionary = [responseObject objectAtIndex:i];
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapinr"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wapinr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapityp"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wapityp"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"ChkPointType"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"ChkPointType"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wkid"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wkid"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Needid"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Needid"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Value"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Value"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Desctext"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Desctext"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wkgrp"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wkgrp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Needgrp"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Needgrp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tplnr"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Tplnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Equnr"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Equnr"]];
                                        }
                                        
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        
                                        [orderWcmPermitsStandardCheckPoints addObject:orderDetailWCMStandardCheckPointsArray];
                                    }
                                    
                                    NSMutableDictionary *orderWCMOperationWCDDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    
                                    NSMutableDictionary *tempWCMOperationWCDDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultOperationWCDData"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultOperationWCDData"];
                                        
                                        [orderWcmOperationWCDArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWcmOperationWCDArray count]; i++) {
                                            
                                            if ([[orderWcmOperationWCDArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWcmOperationWCDArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderWCMOperationWCDDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempWCMOperationWCDDictionary = [orderWCMOperationWCDDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempWCMOperationWCDDictionary objectForKey:[headerDictionary objectForKey:@"Wcnr"]]) {
                                                            tempWCMOperationWCDDictionary = [tempWCMOperationWCDDictionary objectForKey:[headerDictionary objectForKey:@"Wcnr"]];
                                                            [tempWCMOperationWCDDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWCMOperationWCDDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wcnr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWCMOperationWCDDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wcnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWcmOperationWCDArray removeAllObjects];
                                    
                                    ///
                                    responseObject = nil;
                                    
                                    NSMutableDictionary *orderStatusDictionary = [[NSMutableDictionary alloc] init];
                                    
                                    NSMutableDictionary *tempOrderStatusDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultOrderStatus"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultOrderStatus"];
                                        
                                        [orderStatusArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderStatusArray count]; i++) {
                                            
                                            if ([[orderStatusArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                
                                                headerDictionary = [orderStatusArray objectAtIndex:i];
                                                
                                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    
                                                    if ([orderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                        
                                                        tempOrderStatusDictionary = [orderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                        
                                                        if ([tempOrderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]]) {
                                                            
                                                            tempOrderStatusDictionary = [tempOrderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]];
                                                            
                                                            if ([tempOrderStatusDictionary objectForKey:@"SystemStatus"]) {
                                                                
                                                                NSMutableArray *systemStatusArray = [tempOrderStatusDictionary objectForKey:@"SystemStatus"];
                                                                
                                                                [systemStatusArray addObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]];
                                                            }
                                                            else
                                                            {
                                                                [tempOrderStatusDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]] forKey:@"SystemStatus"];
                                                            }
                                                        }
                                                        else
                                                        {
                                                            [tempOrderStatusDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderStatusDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderStatusArray removeAllObjects];
                                    
                                    if ([parsedDictionary objectForKey:@"resultLongText"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultLongText"];
                                        
                                        NSMutableArray *orderTextnArray = [[NSMutableArray alloc] init];
                                        if ([responseObject isKindOfClass:[NSDictionary class]]) {
                                            [orderTextnArray addObject:responseObject];
                                        }
                                        else if ([responseObject isKindOfClass:[NSArray class]])
                                        {
                                            [orderTextnArray addObjectsFromArray:responseObject];
                                        }
                                        
                                        NSDictionary *textDictionary;
                                        for (int i=0; i<[orderTextnArray count]; i++) {
                                            if ([[orderTextnArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                textDictionary = [orderTextnArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]]) {
                                                    if ([textDictionary objectForKey:@"Activity"]) {
                                                        tempDictionary = [orderTransactionDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]];
                                                        if (tempDictionary) {
                                                            tempDictionary = [tempDictionary objectForKey:[textDictionary objectForKey:@"Activity"]];
                                                            if (tempDictionary) {
                                                                id longText = [tempDictionary objectForKey:@"OPTLONGTEXT"];
                                                                NSString *textLine = [textDictionary objectForKey:@"TextLine"];
                                                                if (!textLine.length) {
                                                                    textLine = @"";
                                                                }
                                                                if ([longText length]) {
                                                                    [tempDictionary setObject:[NSString stringWithFormat:@"%@\n%@",longText,textLine] forKey:@"OPTLONGTEXT"];
                                                                }
                                                                else
                                                                {
                                                                    [tempDictionary setObject:[NSString stringWithString:textLine] forKey:@"OPTLONGTEXT"];
                                                                }
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        NSMutableDictionary *headerDictionary = [[orderDetailDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]] firstObject];
                                                        NSString *textLine = [textDictionary objectForKey:@"TextLine"];
                                                        
                                                        if (!textLine.length) {
                                                            textLine = @"";
                                                        }
                                                        
                                                        if ([[headerDictionary objectForKey:@"LONGTEXT"] length]) {
                                                            [headerDictionary setObject:[NSString stringWithFormat:@"%@\n%@",[headerDictionary objectForKey:@"LONGTEXT"],textLine] forKey:@"LONGTEXT"];
                                                        }
                                                        else
                                                        {
                                                            [headerDictionary setObject:[NSString stringWithFormat:@"%@",textLine] forKey:@"LONGTEXT"];
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [orderTransactionArray removeAllObjects];
                                    }
                                    
                                    /////
                                    responseObject = nil;
                                    
                                    [orderWcmWorkApplicationListArray addObjectsFromArray:[orderWCMWorkApplicationListDictionary allKeys]];
                                    
                                    NSArray *recordIDWCMWorkApplicationListArray;
                                    NSDictionary *WCMWorkApplicationListDictionary;
                                    
                                    for (int i =0; i<[orderWcmWorkApplicationListArray  count]; i++) {
                                        
                                        NSMutableArray *wcmWorkApplicationListArray = [NSMutableArray new];
                                        
                                        WCMWorkApplicationListDictionary = [orderWCMWorkApplicationListDictionary objectForKey:[orderWcmWorkApplicationListArray objectAtIndex:i]];
                                        recordIDWCMWorkApplicationListArray = [WCMWorkApplicationListDictionary allKeys];
                                        
                                        for (int j=0; j<[recordIDWCMWorkApplicationListArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWCMWorkApplicationListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WCMWorkApplicationListDictionary objectForKey:[recordIDWCMWorkApplicationListArray objectAtIndex:j]];
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapinr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Wapinr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];//Action
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begru"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];//UserGroup id
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Begru"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begtx"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];//UserGroup text
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Begtx"]];
                                            }
                                            
                                            
                                            [wcmWorkApplicationListArray addObject:orderDetailWCMWorkApplicationListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWcmWorkApplicationListArray objectAtIndex:i]] replaceObjectAtIndex:8 withObject:wcmWorkApplicationListArray];
                                    }
                                    
                                    [orderWcmWorkApplicationListArray removeAllObjects];
                                    
                                    /////
                                    responseObject = nil;
                                    
                                    [orderWcmOperationWCDArray addObjectsFromArray:[orderWCMOperationWCDDictionary allKeys]];
                                    
                                    NSArray *recordIDWCMOperationWCDListArray;
                                    NSDictionary *WCMOperationWCDListDictionary;
                                    
                                    for (int i =0; i<[orderWcmOperationWCDArray  count]; i++) {
                                        
                                        NSMutableArray *wcmOperationWCDListArray = [NSMutableArray new];
                                        
                                        WCMOperationWCDListDictionary = [orderWCMOperationWCDDictionary objectForKey:[orderWcmOperationWCDArray objectAtIndex:i]];
                                        recordIDWCMOperationWCDListArray = [WCMOperationWCDListDictionary allKeys];
                                        
                                        for (int j=0; j<[recordIDWCMOperationWCDListArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWCMOperationWCDListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WCMOperationWCDListDictionary objectForKey:[recordIDWCMOperationWCDListArray objectAtIndex:j]];
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcnr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Wcnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];//Action
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begru"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];//UserGroup id
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Begru"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begtx"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];//UserGroup text
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Begtx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Tagtext"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                
                                                id   responseTagObject = [tempDictionary objectForKey:@"Tagtext"];
                                                
                                                NSMutableArray *orderTagTextArray = [[NSMutableArray alloc] init];
                                                if ([[responseTagObject objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                                    [orderTagTextArray addObject:[responseTagObject objectForKey:@"item"]];
                                                }
                                                else if ([[responseTagObject objectForKey:@"item"] isKindOfClass:[NSArray class]])
                                                {
                                                    [orderTagTextArray addObjectsFromArray:[responseTagObject objectForKey:@"item"]];
                                                }
                                                
                                                NSMutableString *taggingText=[[NSMutableString alloc] initWithString:@""];
                                                
                                                for (int t=0; t<[orderTagTextArray count]; t++) {
                                                    
                                                    NSString *textLine = [[orderTagTextArray objectAtIndex:t] objectForKey:@"TextLine"];
                                                    if (!textLine.length) {
                                                        textLine = @"";
                                                    }
                                                    
                                                    [taggingText appendString:[NSString stringWithFormat:@"%@\n",textLine]];
                                                    
                                                }
                                                
                                                [orderDetailWCMOperationWCDListArray addObject:taggingText];
                                                
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Untagtext"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                
                                                id   responseUnTagObject = [tempDictionary objectForKey:@"Untagtext"];
                                                
                                                NSMutableArray *orderUnTagTextArray = [[NSMutableArray alloc] init];
                                                if ([[responseUnTagObject objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                                    [orderUnTagTextArray addObject:[responseUnTagObject objectForKey:@"item"]];
                                                }
                                                else if ([[responseUnTagObject objectForKey:@"item"] isKindOfClass:[NSArray class]])
                                                {
                                                    [orderUnTagTextArray addObjectsFromArray:[responseUnTagObject objectForKey:@"item"]];
                                                }
                                                
                                                NSMutableString *unTaggingText=[[NSMutableString alloc] initWithString:@""];
                                                
                                                for (int t=0; t<[orderUnTagTextArray count]; t++) {
                                                    
                                                    NSString *textLine = [[orderUnTagTextArray objectAtIndex:t] objectForKey:@"TextLine"];
                                                    if (!textLine.length) {
                                                        textLine = @"";
                                                    }
                                                    
                                                    [unTaggingText appendString:[NSString stringWithFormat:@"%@\n",textLine]];
                                                }
                                                
                                                [orderDetailWCMOperationWCDListArray addObject:unTaggingText];
                                                
                                            }
                                            
                                            [wcmOperationWCDListArray addObject:orderDetailWCMOperationWCDListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWcmOperationWCDArray objectAtIndex:i]] replaceObjectAtIndex:10 withObject:wcmOperationWCDListArray];
                                    }
                                    
                                    [orderWcmWorkApplicationListArray removeAllObjects];
                                    
                                    /////
                                    responseObject = nil;
                                    
                                    [orderWcmWorkApprovalListArray addObjectsFromArray:[orderWCMWorkApprovalListDictionary allKeys]];
                                    
                                    NSArray *recordIDWCMWorkApprovalListArray;
                                    NSDictionary *WCMWorkApprovalListDictionary;
                                    
                                    for (int i =0; i<[orderWcmWorkApprovalListArray  count]; i++) {
                                        
                                        WCMWorkApprovalListDictionary = [orderWCMWorkApprovalListDictionary objectForKey:[orderWcmWorkApprovalListArray objectAtIndex:i]];
                                        recordIDWCMWorkApprovalListArray = [WCMWorkApprovalListDictionary allKeys];
                                        NSMutableArray *wcmWorkApprovalListArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDWCMWorkApprovalListArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWCMWorkApprovalListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WCMWorkApprovalListDictionary objectForKey:[recordIDWCMWorkApprovalListArray objectAtIndex:j]];
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapnr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Wapnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pappr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Pappr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];//Action
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begru"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];//UserGroup id
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Begru"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begtx"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];//UserGroup text
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Begtx"]];
                                            }
                                            
                                            
                                            [wcmWorkApprovalListArray addObject:orderDetailWCMWorkApprovalListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWcmWorkApprovalListArray objectAtIndex:i]] replaceObjectAtIndex:1 withObject:wcmWorkApprovalListArray];
                                    }
                                    
                                    [orderWcmWorkApprovalListArray removeAllObjects];
                                    
                                    /////
                                    responseObject = nil;
                                    
                                    [orderWcmIssuePermitsArray addObjectsFromArray:[orderWCMIssuePermitsDictionary allKeys]];
                                    
                                    NSArray *recordIDWCMIssuePermitsArray;
                                    NSDictionary *WCMIssuePermitsDictionary;
                                    
                                    for (int i =0; i<[orderWcmIssuePermitsArray  count]; i++) {
                                        
                                        WCMIssuePermitsDictionary = [orderWCMIssuePermitsDictionary objectForKey:[orderWcmIssuePermitsArray objectAtIndex:i]];
                                        recordIDWCMIssuePermitsArray = [WCMIssuePermitsDictionary allKeys];
                                        
                                        NSMutableArray *wcmIssuePermitsArray = [NSMutableArray new];
                                        
                                        
                                        for (int j=0; j<[recordIDWCMIssuePermitsArray count]; j++) {
                                            
                                            
                                            tempDictionary = [WCMIssuePermitsDictionary objectForKey:[recordIDWCMIssuePermitsArray objectAtIndex:j]];
                                            
                                            
                                            NSMutableArray *temPArray=[NSMutableArray new];
                                            
                                            
                                            if ([tempDictionary isKindOfClass:[NSDictionary class]]){
                                                
                                                
                                                if ([tempDictionary objectForKey:@"Objects"]) {
                                                    
                                                    
                                                    [temPArray addObjectsFromArray:[tempDictionary objectForKey:@"Objects"]];
                                                    
                                                    
                                                    for (int k=0; k<[temPArray count]; k++) {
                                                        
                                                        
                                                        NSMutableArray *orderDetailWCMIssuePermitsArray = [NSMutableArray new];
                                                        
                                                        
                                                        NSDictionary *tempObjectsDictionary = [temPArray objectAtIndex:k];
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Aufnr"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[NSString stringWithFormat:@"%lld",[[tempObjectsDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Objnr"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            
                                                            
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Objnr"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Counter"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Counter"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Werks"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Werks"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Crname"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Crname"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Objart"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Objart"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Objtyp"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Objtyp"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Pmsog"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Pmsog"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Gntxt"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Gntxt"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Geniakt"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Geniakt"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Genvname"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Genvname"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Hilvl"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Hilvl"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Procflg"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Procflg"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Direction"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Direction"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Copyflg"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Copyflg"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Mandflg"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Mandflg"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Deacflg"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Deacflg"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Status"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Status"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Asgnflg"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Asgnflg"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Autoflg"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Autoflg"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Agent"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Agent"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Valflg"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Valflg"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Wcmuse"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Wcmuse"]];
                                                        }
                                                        
                                                        
                                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Action"]]) {
                                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                                        }
                                                        else{
                                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Action"]];
                                                        }
                                                        
                                                        
                                                        [wcmIssuePermitsArray addObject:orderDetailWCMIssuePermitsArray];
                                                    }
                                                }
                                                
                                                
                                                NSMutableArray *orderDetailWCMIssuePermitsArray = [NSMutableArray new];
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    
                                                    
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Counter"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Counter"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Werks"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Werks"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Crname"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Crname"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Pmsog"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Pmsog"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Gntxt"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Gntxt"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Geniakt"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Geniakt"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Genvname"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Genvname"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Hilvl"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Hilvl"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Procflg"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Procflg"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Direction"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Direction"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Copyflg"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Copyflg"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Mandflg"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Mandflg"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Deacflg"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Deacflg"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Status"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Status"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Asgnflg"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Asgnflg"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Autoflg"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Autoflg"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Agent"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Agent"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Valflg"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Valflg"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcmuse"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Wcmuse"]];
                                                }
                                                
                                                
                                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Action"]];
                                                }
                                                
                                                
                                                [wcmIssuePermitsArray addObject:orderDetailWCMIssuePermitsArray];
                                            }
                                            
                                            
                                            [[orderDetailDictionary objectForKey:[orderWcmIssuePermitsArray objectAtIndex:i]] replaceObjectAtIndex:9 withObject:wcmIssuePermitsArray];
                                            
                                        }
                                    }
                                    
                                    [orderWcmIssuePermitsArray removeAllObjects];
                                    
                                    //////////
                                    [orderDocsArray addObjectsFromArray:[orderDocsDictionary allKeys]];
                                    NSArray *recordIDDocsArray;
                                    NSDictionary *docsDictionary;
                                    
                                    for (int i =0; i<[orderDocsArray  count]; i++) {
                                        docsDictionary = [orderDocsDictionary objectForKey:[orderDocsArray objectAtIndex:i]];
                                        recordIDDocsArray = [docsDictionary allKeys];
                                        NSMutableArray *orderDocsListArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDDocsArray count]; j++) {
                                            NSMutableArray *orderDetailDocsListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [docsDictionary objectForKey:[recordIDDocsArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Zobjid"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Zobjid"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"DocId"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"DocId"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"DocType"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"DocType"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Filename"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Filename"]];
                                            }
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Filetype"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Filetype"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Fsize"]]) {
                                                
                                                [orderDetailDocsListArray addObject:@""];//Size
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Fsize"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtype"]]) {
                                                
                                                [orderDetailDocsListArray addObject:@""];//Objtype
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Objtype"]];
                                            }
                                            
                                            [orderDetailDocsListArray addObject:@""];//Content
                                            [orderDetailDocsListArray addObject:@""];//Action
                                            
                                            [orderDocsListArray addObject:orderDetailDocsListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderDocsArray objectAtIndex:i]] replaceObjectAtIndex:2 withObject:orderDocsListArray];
                                    }
                                    
                                    [orderDocsArray removeAllObjects];
                                    
                                    [orderTransactionArray addObjectsFromArray:[orderTransactionDictionary allKeys]];
                                    NSArray *recordIDArray;
                                    NSDictionary *componentDictionary;
                                    
                                    for (int i =0; i<[orderTransactionArray  count]; i++) {
                                        componentDictionary = [orderTransactionDictionary objectForKey:[orderTransactionArray objectAtIndex:i]];
                                        recordIDArray = [componentDictionary allKeys];
                                        NSMutableArray *orderTransactionListArray = [NSMutableArray new];
                                        NSMutableArray *orderPartsListArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailTransactionListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [componentDictionary objectForKey:[recordIDArray objectAtIndex:j]];
                                            
                                            //CREATE TABLE "ORDER_TRANSACTION" ("ordert_header_id" VARCHAR,"ordert_vornr_operation" VARCHAR,"ordert_operation_name" VARCHAR,"ordert_duration_name" VARCHAR,"ordert_duration_id" VARCHAR,"ordert_fsavd" VARCHAR,"ordert_ssedd" VARCHAR,"ordert_rueck" VARCHAR,"ordert_aueru" VARCHAR,"ordert_operation_action" VARCHAR,"ordert_status" VARCHAR,"ordert_conftext" VARCHAR,"ordert_actwork" VARCHAR,"ordert_unwork" VARCHAR,"ordert_larnt" VARCHAR,"ordert_pernr" VARCHAR,"ordert_plnal" VARCHAR,"ordert_plnnr" VARCHAR,"ordert_plnty" VARCHAR,"ordert_steus" VARCHAR,"ordert_operationlongtext" VARCHAR,"usr01" VARCHAR,"bemot" VARCHAR,"grund" VARCHAR,"learr" VARCHAR,"leknw" VARCHAR,"operation_plantid" VARCHAR,"operation_plantname" VARCHAR,"operation_workcenterid" VARCHAR,"operation_workcentertext" VARCHAR,"ordert_steustext" VARCHAR)
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Aufnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Vornr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Ltxa1"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Ltxa1"]];//Operation short text
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dauno"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Dauno"]];//duration
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Daune"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Daune"]];//duration id
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Fsavd"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Fsavd"]];//date
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Ssedd"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Ssedd"]];//date
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rueck"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Rueck"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aueru"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//for aueru
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Aueru"]];
                                            }
                                            
                                            [orderDetailTransactionListArray addObject:@""];//For OperationAction
                                            [orderDetailTransactionListArray addObject:@""];//For Status
                                            [orderDetailTransactionListArray addObject:@""];//For Confirmation text in Confirm Order
                                            [orderDetailTransactionListArray addObject:@""];//For Actual Work Text
                                            [orderDetailTransactionListArray addObject:@""];//For Actual Work Units
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Larnt"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Larnt"]];//Activity Type
                                            }
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pernr"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Pernr"]];//Personal No
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnal"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnal"]];//Group Counter
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnnr"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnnr"]];//key for task list group
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnty"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnty"]];//Task list type
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Steus"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Steus"]];//Control Key
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"OPTLONGTEXT"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"OPTLONGTEXT"]];
                                            }//For Long Text
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usr01"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Usr01"]];
                                            }//For Actual Work
                                            
                                            [orderDetailTransactionListArray addObject:@""];//Bemot(Accounting Indicator)
                                            [orderDetailTransactionListArray addObject:@""];//grund(ConfirmReason)
                                            [orderDetailTransactionListArray addObject:@""];//Learr(noRemainingWork)
                                            [orderDetailTransactionListArray addObject:@""];//Leknw(confirmreason)
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Werks"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//Werks
                                                
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Werks"]];//Werks
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"WerksText"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//WerksText
                                                
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"WerksText"]];//WersText
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Arbpl"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//Arbpl
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Arbpl"]];//Arbpl
                                                
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ArbplText"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//ArbplText
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"ArbplText"]];//ArbplText
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SteusText"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//SteusText
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"SteusText"]];//SteusText
                                            }
                                            
                                            id customFieldsOperationsTransactionsID;
                                            if ([tempDictionary objectForKey:@"Fields"]) {
                                                NSArray *fieldsArray = [[tempDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                                                NSMutableArray *transactionsOperationsCustomFields = [NSMutableArray new];
                                                for (int l =0; l<[fieldsArray count]; l++) {
                                                    NSString *fieldValue,*fieldName,*fLabel,*tabName,*docType,*docTypeItem,*dataType,*sequence,*length;
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"]]) {
                                                        fieldName = @"";
                                                    }
                                                    else{
                                                        fieldName = [[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"]]) {
                                                        fLabel = @"";
                                                    }
                                                    else{
                                                        fLabel = [[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"]]) {
                                                        tabName = @"";
                                                    }
                                                    else{
                                                        tabName = [[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Value"]]) {
                                                        fieldValue = @"";
                                                    }
                                                    else{
                                                        fieldValue = [[fieldsArray objectAtIndex:l] objectForKey:@"Value"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"]]) {
                                                        docType = @"";
                                                    }
                                                    else{
                                                        docType = [[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"]]) {
                                                        docTypeItem = @"";
                                                    }
                                                    else{
                                                        docTypeItem = [[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"]]) {
                                                        dataType = @"";
                                                    }
                                                    else{
                                                        dataType = [[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"]]) {
                                                        sequence = @"";
                                                    }
                                                    else{
                                                        sequence = [[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Length"]]) {
                                                        length = @"";
                                                    }
                                                    else{
                                                        length = [[fieldsArray objectAtIndex:l] objectForKey:@"Length"];
                                                    }
                                                    
                                                    if ([docTypeItem isEqualToString:@"WO"]) {
                                                        [transactionsOperationsCustomFields addObject:[NSMutableArray arrayWithObjects:docType,docTypeItem,tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                                    }
                                                }
                                                
                                                customFieldsOperationsTransactionsID = transactionsOperationsCustomFields;
                                            }
                                            
                                            [orderTransactionListArray addObject:[NSArray arrayWithObjects:orderDetailTransactionListArray,customFieldsOperationsTransactionsID, nil]];
                                            
                                            if ([tempDictionary objectForKey:@"Components"]) {
                                                
                                                //CREATE TABLE "ORDER_PARTS" ("ordert_header_id" VARCHAR, "ordert_vornr_operation" VARCHAR, "ordert_quantity" INTEGER, "ordert_lgort" VARCHAR, "ordert_lgorttext" VARCHAR, "ordert_matnr" VARCHAR, "ordert_matnrtext" VARCHAR, "ordert_meins" VARCHAR, "ordert_posnr" VARCHAR, "ordert_postp" VARCHAR, "ordert_postptext" VARCHAR, "ordert_rsnum" VARCHAR, "ordert_rspos" VARCHAR, "ordert_werks" VARCHAR, "ordert_werkstext" VARCHAR)
                                                
                                                for (int k =0; k<[[tempDictionary objectForKey:@"Components"] count]; k++) {
                                                    
                                                    NSMutableArray *orderDetailComponentTransactionListArray = [NSMutableArray new];
                                                    
                                                    NSDictionary *tempCompenetsDictionary = [[tempDictionary objectForKey:@"Components"] objectAtIndex:k];
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Aufnr"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Vornr"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Vornr"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Bdmng"]]) {
                                                        
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Bdmng"]];//Quantity
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Lgort"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Lgort"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"LgortText"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"LgortText"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Matnr"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Matnr"]];//ComponentID
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"MatnrText"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"MatnrText"]];//ComponentName
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Meins"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Meins"]];//Meins
                                                        
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Posnr"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Posnr"]];
                                                    }
                                                    
                                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Postp"]]){
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Postp"]];//Item Category in Components
                                                    }
                                                    
                                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"PostpText"]]){
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"PostpText"]];//Item Category in Components
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Rsnum"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Rsnum"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Rspos"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Rspos"]];
                                                    }
                                                    
                                                    if ([tempCompenetsDictionary objectForKey:@"Werks"]) {
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Werks"]];//Werks
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:@""];//Werks
                                                    }
                                                    
                                                    if ([tempCompenetsDictionary objectForKey:@"WerksText"]) {
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"WerksText"]];//Werks
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:@""];//WerksText
                                                    }
                                                    
                                                    [orderDetailComponentTransactionListArray addObject:@""];//ComponentAction
                                                    
                                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Wempf"]]){
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Wempf"]];//receipt
                                                    }
                                                    
                                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Ablad"]]){
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Ablad"]];//unload
                                                    }
                                                    
                                                    
                                                    id customFieldsComponentsTransactionsID;
                                                    NSMutableArray *transactionsComponentsCustomFields = [NSMutableArray new];
                                                    
                                                    if ([tempCompenetsDictionary objectForKey:@"Fields"]) {
                                                        
                                                        NSMutableArray *fieldsArray=[NSMutableArray new];
                                                        
                                                        if ([[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                                            
                                                            [fieldsArray addObjectsFromArray:[NSMutableArray arrayWithObject:[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"]]];
                                                        }
                                                        else if ([[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSArray class]]){
                                                            
                                                            [fieldsArray addObjectsFromArray:[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"]];
                                                            
                                                        }
                                                        
                                                        
                                                        for (int l =0; l<[fieldsArray count]; l++) {
                                                            NSString *fieldValue,*fieldName,*fLabel,*tabName,*docType,*docTypeItem,*dataType,*sequence,*length;
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"]]) {
                                                                fieldName = @"";
                                                            }
                                                            else{
                                                                fieldName = [[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"]]) {
                                                                fLabel = @"";
                                                            }
                                                            else{
                                                                fLabel = [[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"]]) {
                                                                tabName = @"";
                                                            }
                                                            else{
                                                                tabName = [[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Value"]]) {
                                                                fieldValue = @"";
                                                            }
                                                            else{
                                                                fieldValue = [[fieldsArray objectAtIndex:l] objectForKey:@"Value"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"]]) {
                                                                docType = @"";
                                                            }
                                                            else{
                                                                docType = [[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"]]) {
                                                                docTypeItem = @"";
                                                            }
                                                            else{
                                                                docTypeItem = [[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"]]) {
                                                                dataType = @"";
                                                            }
                                                            else{
                                                                dataType = [[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"]]) {
                                                                sequence = @"";
                                                            }
                                                            else{
                                                                sequence = [[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Length"]]) {
                                                                length = @"";
                                                            }
                                                            else{
                                                                length = [[fieldsArray objectAtIndex:l] objectForKey:@"Length"];
                                                            }
                                                            
                                                            if ([docTypeItem isEqualToString:@"WC"]){
                                                                [transactionsComponentsCustomFields addObject:[NSMutableArray arrayWithObjects:docType,docTypeItem,tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                                            }
                                                        }
                                                        
                                                        customFieldsComponentsTransactionsID = transactionsComponentsCustomFields;
                                                    }
                                                    
                                                    [orderPartsListArray addObject:[NSArray arrayWithObjects:orderDetailComponentTransactionListArray,customFieldsComponentsTransactionsID, nil]];
                                                }
                                            }
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderTransactionArray objectAtIndex:i]] replaceObjectAtIndex:3 withObject:orderTransactionListArray];
                                        
                                        [[orderDetailDictionary objectForKey:[orderTransactionArray objectAtIndex:i]] replaceObjectAtIndex:4 withObject:orderPartsListArray];
                                    }
                                    
                                    [orderTransactionArray removeAllObjects];
                                    
                                    ////////////
                                    
                                    [orderWsmSafetyMeasuresArray addObjectsFromArray:[orderWSMSafetyMeasuresDictionary allKeys]];
                                    
                                    NSArray *recordIDWSMSafetyMeasuresArray;
                                    NSDictionary *WSMSafetyMeasuresDictionary;
                                    
                                    for (int i =0; i<[orderWsmSafetyMeasuresArray count]; i++) {
                                        
                                        WSMSafetyMeasuresDictionary = [orderWSMSafetyMeasuresDictionary objectForKey:[orderWsmSafetyMeasuresArray objectAtIndex:i]];
                                        recordIDWSMSafetyMeasuresArray = [WSMSafetyMeasuresDictionary allKeys];
                                        NSMutableArray *orderWSMSafetyMeasuresListArray = [NSMutableArray new];
                                        
                                        //CREATE TABLE "ORDER_WSM_SAFETYMEASURES" ("orderwsm_header_id" VARCHAR, "orderwsm_aufnr" VARCHAR, "orderwsm_vornr_operation" VARCHAR,"orderwsm_description" VARCHAR, "orderwsm_safety_text_no" VARCHAR, "orderwsm_objid" VARCHAR, "orderwsm_objtype" VARCHAR, "orderwsm_safetychar" VARCHAR, "orderwsm_safetychar_text" VARCHAR, "orderwsm_action" VARCHAR)
                                        
                                        for (int j=0; j<[recordIDWSMSafetyMeasuresArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWSMSafetyListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WSMSafetyMeasuresDictionary objectForKey:[recordIDWSMSafetyMeasuresArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"EamsAufnr"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                            }
                                            
                                            
                                            [orderDetailWSMSafetyListArray addObject:@""];//operation
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Description"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"Description"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"EamsSafetyTextNo"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"EamsSafetyTextNo"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ObjId"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"ObjId"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ObjType"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                
                                                if ([[tempDictionary objectForKey:@"ObjType"] isEqualToString:@"DO"]) {
                                                    
                                                    [orderDetailWSMSafetyListArray addObject:@"Document"];
                                                }
                                                else{
                                                    
                                                    [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"ObjType"]];
                                                }
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SafetyChar"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"SafetyChar"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SafetyCharTxt"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"SafetyCharTxt"]];
                                            }
                                            
                                            [orderDetailWSMSafetyListArray addObject:@""];//selection
                                            
                                            [orderWSMSafetyMeasuresListArray addObject:orderDetailWSMSafetyListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWsmSafetyMeasuresArray objectAtIndex:i]] replaceObjectAtIndex:5 withObject:orderWSMSafetyMeasuresListArray];
                                    }
                                    
                                    [orderWsmSafetyMeasuresArray removeAllObjects];
                                    
                                    ///////////
                                    
                                    
                                    
                                    
                                    
                                    [orderStatusArray addObjectsFromArray:[orderStatusDictionary allKeys]];
                                    
                                    NSArray *recordIDorderStatusArray;
                                    NSDictionary *EtorderStatusDictionary;
                                    
                                    for (int i =0; i<[orderStatusArray count]; i++) {
                                        
                                        EtorderStatusDictionary = [orderStatusDictionary objectForKey:[orderStatusArray objectAtIndex:i]];
                                        recordIDorderStatusArray = [EtorderStatusDictionary allKeys];
                                        
                                        NSMutableArray *orderStatusDetailArray = [NSMutableArray new];
                                        
                                        BOOL act = NO;
                                        
                                        for (int j=0; j<[recordIDorderStatusArray count]; j++) {
                                            
                                            NSMutableDictionary *orderStatusListDictionary = [NSMutableDictionary new];
                                            
                                            tempDictionary = [EtorderStatusDictionary objectForKey:[recordIDorderStatusArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_aufnr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]] forKey:@"orders_aufnr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_vornr_operation"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Vornr"] forKey:@"orders_vornr_operation"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_objnr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Objnr"] forKey:@"orders_objnr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stsma"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stsma"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stsma"] forKey:@"orders_stsma"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Inist"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_inist"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Inist"] forKey:@"orders_inist"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stonr"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stonr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stonr"] forKey:@"orders_stonr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Hsonr"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_hsonr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Hsonr"] forKey:@"orders_hsonr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Nsonr"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_nsonr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Nsonr"] forKey:@"orders_nsonr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stat"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stat"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Act"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_act"];
                                                
                                                if (act ==YES) {
                                                    [orderStatusListDictionary setObject:@"" forKey:@"orders_selected"];//Selection
                                                }
                                                else{
                                                    
                                                    [orderStatusListDictionary setObject:@"Y" forKey:@"orders_selected"];//Selection
                                                }
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Act"] forKey:@"orders_act"];
                                                [orderStatusListDictionary setObject:@"X" forKey:@"orders_selected"];//Selection
                                                if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"E"]) {
                                                    act = YES;
                                                }
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt04"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_txt04"];
                                            }
                                            else{
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt04"] forKey:@"orders_txt04"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt30"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_txt30"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt30"] forKey:@"orders_txt30"];
                                            }
                                            
                                            [orderStatusDetailArray addObject:orderStatusListDictionary];
                                            
                                            if ([tempDictionary objectForKey:@"SystemStatus"]) {
                                                
                                                if ([[tempDictionary objectForKey:@"SystemStatus"] isKindOfClass:[NSArray class]]) {
                                                    
                                                    id systemStatus = [tempDictionary objectForKey:@"SystemStatus"];
                                                    
                                                    for (int k =0 ; k <[systemStatus count]; k++) {
                                                        
                                                        NSMutableDictionary *orderStatusListDictionary = [NSMutableDictionary new];
                                                        
                                                        tempDictionary = [systemStatus objectAtIndex:k];
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_aufnr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]] forKey:@"orders_aufnr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_vornr_operation"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Vornr"] forKey:@"orders_vornr_operation"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_objnr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Objnr"] forKey:@"orders_objnr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stsma"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stsma"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stsma"] forKey:@"orders_stsma"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Inist"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_inist"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Inist"] forKey:@"orders_inist"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stonr"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stonr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stonr"] forKey:@"orders_stonr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Hsonr"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_hsonr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Hsonr"] forKey:@"orders_hsonr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Nsonr"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_nsonr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Nsonr"] forKey:@"orders_nsonr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stat"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stat"];
                                                        }
                                                        else{
                                                            
                                                            if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"I"]) {
                                                                
                                                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                                            }
                                                            else{
                                                                
                                                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                                                
                                                            }
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Act"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_act"];
                                                            if (act ==YES) {
                                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_selected"];//Selection
                                                            }
                                                            else{
                                                                [orderStatusListDictionary setObject:@"Y" forKey:@"orders_selected"];//Selection
                                                            }
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Act"] forKey:@"orders_act"];
                                                            
                                                            [orderStatusListDictionary setObject:@"X" forKey:@"orders_selected"];//Selection
                                                            
                                                            if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"E"]) {
                                                                act = YES;
                                                            }
                                                            
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt04"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_txt04"];
                                                        }
                                                        else{
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt04"] forKey:@"orders_txt04"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt30"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_txt30"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt30"] forKey:@"orders_txt30"];
                                                        }
                                                        
                                                        [orderStatusDetailArray addObject:orderStatusListDictionary];
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderStatusArray objectAtIndex:i]] replaceObjectAtIndex:6 withObject:orderStatusDetailArray];
                                    }
                                    
                                    [orderStatusArray removeAllObjects];
                                    
                                    ////////////
                                    
                                    [orderOlistArray addObjectsFromArray:[orderOlistDictionary allKeys]];
                                    
                                    NSArray *recordOlistArray;
                                    NSDictionary *orderObjectlistDictionary;
                                    
                                    for (int i =0; i<[orderOlistArray count]; i++) {
                                        
                                        orderObjectlistDictionary = [orderOlistDictionary objectForKey:[orderOlistArray objectAtIndex:i]];
                                        recordOlistArray = [orderObjectlistDictionary allKeys];
                                        NSMutableArray *orderObjectListArray = [NSMutableArray new];
                                        
                                        //CREATE TABLE "ORDER_OBJECTS" ("orderobject_header_id" VARCHAR, "orderobject_aufnr" VARCHAR, "orderobject_obknr" VARCHAR, "orderobject_obzae" VARCHAR, "orderobject_qmnum" VARCHAR, "orderobject_equnr" VARCHAR, "orderobject_strno" VARCHAR, "orderobject_tplnr" VARCHAR, "orderobject_bautl" VARCHAR, "orderobject_qmtxt" VARCHAR, "orderobject_pltxt" VARCHAR, "orderobject_eqktx" VARCHAR, "orderobject_maktx" VARCHAR, "orderobject_action" VARCHAR)
                                        
                                        for (int j=0; j<[recordOlistArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailObjectListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [orderObjectlistDictionary objectForKey:[recordOlistArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Obknr"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Obknr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Obzae"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Obzae"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Qmnum"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Qmnum"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Equnr"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Equnr"]];
                                                
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Strno"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Strno"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Tplnr"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Tplnr"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Bautl"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Bautl"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Qmtxt"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Qmtxt"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Pltxt"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Pltxt"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Eqktx"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Eqktx"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Maktx"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Maktx"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            [orderObjectListArray addObject:orderDetailObjectListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderOlistArray objectAtIndex:i]] replaceObjectAtIndex:7 withObject:orderObjectListArray];
                                    }
                                    
                                    [orderOlistArray removeAllObjects];
                                    
                                    ////////////
                                    
                                    responseObject = nil;
                                    
                                    [orderMeasurementDocumentsArray addObjectsFromArray:[orderMeasurementDocumentsDictionary allKeys]];
                                    
                                    NSArray *recordIDMDocsArray;
                                    NSDictionary *mDocsDictionary;
                                    
                                    for (int i =0; i<[orderMeasurementDocumentsArray  count]; i++) {
                                        mDocsDictionary = [orderMeasurementDocumentsDictionary objectForKey:[orderMeasurementDocumentsArray objectAtIndex:i]];
                                        recordIDMDocsArray = [mDocsDictionary allKeys];
                                        NSMutableArray *orderDocsListArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDMDocsArray count]; j++) {
                                            NSMutableArray *orderDetailMDocsListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [mDocsDictionary objectForKey:[recordIDMDocsArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Qmnum"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Qmnum"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Aufnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Vornr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mdocm"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mdocm"]];
                                            }
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Point"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Point"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mpobj"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mpobj"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mpobt"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mpobt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Psort"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Psort"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pttxt"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Pttxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Atinn"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Atinn"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Idate"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Idate"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Itime"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Itime"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mdtxt"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mdtxt"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Readr"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Readr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Atbez"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Atbez"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Msehi"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];//
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Msehi"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Msehl"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Msehl"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Readc"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Readc"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Desic"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Desic"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prest"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Prest"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Docaf"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Docaf"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            
                                            [orderDocsListArray addObject:orderDetailMDocsListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderMeasurementDocumentsArray objectAtIndex:i]] replaceObjectAtIndex:11 withObject:orderDocsListArray];
                                    }
                                    
                                    [orderMeasurementDocumentsArray removeAllObjects];
                                    
                                    ///
                                    
                                    NSArray *objectIds = [orderDetailDictionary allKeys];
                                    
                                    if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                                    {
                                        [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#No of Due Orders received:%lu",(unsigned long)[objectIds count]]];
                                    }
                                    
                                    for (int i=0; i<[objectIds count]; i++) {
                                        
                                        if (i ==1) {
                                            
                                            [orderWcmOperationWCDTaggingConditionsArray removeAllObjects];
                                            [orderWcmPermitsStandardCheckPoints removeAllObjects];
                                        }
                                        
                                        [[DataBase sharedInstance] insertDataIntoOrderHeader:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] firstObject] withAttachments:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:2] withPermitWorkApprovalsDetails:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:1] withOperation:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:3] withParts:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:4] withWSM:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:5] withObjects:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:7] withSystemStatus:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:6] withPermitsWorkApplications:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:8] withIssuePermits:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:9] withPermitsOperationWCD:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:10] withPermitsOperationWCDTagiingConditions:orderWcmOperationWCDTaggingConditionsArray withPermitsStandardCheckPoints:orderWcmPermitsStandardCheckPoints withMeasurementDocs:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:11]];
                                    }
                                    
                                }
                                
                                messageCompare = [[parsedDictionary objectForKey:@"Message"] substringFromIndex:1];
                                
                            }
                        }
                        
                       // [ActivityView dismiss];
 
                    }
                    else if ([[[messageArray firstObject] uppercaseString] isEqualToString:@"E"])
                    {
                        
                      //  [ActivityView dismiss];

                        [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"WOCO" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:[[parsedDictionary objectForKey:@"Message"] substringFromIndex:1]];
                        
                        
                        messageCompare = [[parsedDictionary objectForKey:@"Message"] substringFromIndex:1];
                        
                    }
                    else
                    {
                        
                      //  [ActivityView dismiss];

                        [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"WOCO" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:[parsedDictionary objectForKey:@"Message"]];
                        messageCompare = [parsedDictionary objectForKey:@"Message"];
                        
                    }
                    
                    if ([[[messageArray firstObject] uppercaseString] isEqualToString:@"S"]) {
                        
                        [self showAlertMessageWithTitle:@"FieldTekPro" message:messageCompare cancelButtonTitle:@"OK" withactionType:@"Multiple" forMethod:@"WOCO Response"];
 
                    }
                    else
                    {
 
                        [self showAlertMessageWithTitle:@"FieldTekPro" message:messageCompare cancelButtonTitle:@"OK" withactionType:@"Multiple" forMethod:@""];
 
                    }
                }
                else if ([parsedDictionary objectForKey:@"ERROR"]){
                    
                    [MBProgressHUD hideHUDForView:self.view animated:YES];

                     [self showAlertMessageWithTitle:@"Information" message:@"No Data Found" cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
                    
                    [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"WOCO" objectid:[self.orderHeaderDetails objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:[parsedDictionary objectForKey:@"ERROR"]];
                }
                else
                {
                    [MBProgressHUD hideHUDForView:self.view animated:YES];

                    [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"WOCO" objectid:[self.orderHeaderDetails objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:NSLocalizedString(@"ErrorMessage", nil)];
 
                [self showAlertMessageWithTitle:@"Information" message:NSLocalizedString(@"ErrorMessage", nil) cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
                    
                }
            }
            
            break;
            
        case ORDER_CANCEL:
            if (!errorDescription.length) {
                NSMutableDictionary *parseDictionary = [[Response sharedInstance] parseForCancelOrder:resultData];
                
                if ([parseDictionary objectForKey:@"Message"]){
                    
                    NSArray *arrayMessage = [parseDictionary objectForKey:@"Message"];
                    NSMutableString *messageContent = [[NSMutableString alloc]init];
                    // NSString *objectNumber;
                    
                    [messageContent setString:@""];
                    
                    for (int i =0; i<[arrayMessage count]; i++) {
                        
                        if ([[[arrayMessage objectAtIndex:i] substringToIndex:1] isEqualToString:@"S"]) {
                            //objectNumber = [[[arrayMessage objectAtIndex:i] componentsSeparatedByString:@" "] objectAtIndex:2];
                            [[DataBase sharedInstance] updateSyncLogForCategory:@"Order" action:@"Cancel" objectid:[parseDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:[parseDictionary objectForKey:@"OBJECTID"]]];
                            
                            if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                            {
                                [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Activity:Cancel Order #Orderno:%@ #Mode:Online #Class:Very Important #MUser:%@ #DeviceId:%@",[parseDictionary objectForKey:@"OBJECTID"],decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
                            }
                            
                            //[[DataBase sharedInstance] updateOrderWithObjectid:[parseDictionary objectForKey:@"OBJECTID"] forHeaderID:[self.orderHeaderDetails objectForKey:[parseDictionary objectForKey:@"OBJECTID"]]];
                            
                            [[DataBase sharedInstance] updateOrderStatus:[self.orderHeaderDetails objectForKey:[parseDictionary objectForKey:@"OBJECTID"]] :@"Cancelled"];
                            
                            
                            [messageContent appendString:[NSString stringWithFormat:@"%@\n",[[[parseDictionary objectForKey:@"Message"] objectAtIndex:i] substringFromIndex:1]]];
                        }
                        else  if ([[[arrayMessage objectAtIndex:i] substringToIndex:1] isEqualToString:@"E"]) {
                            // objectNumber = [[[arrayMessage objectAtIndex:i] componentsSeparatedByString:@" "] objectAtIndex:2];
                            
                            [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Cancel" objectid:[parseDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:[parseDictionary objectForKey:@"OBJECTID"]] message:[[arrayMessage objectAtIndex:i] substringFromIndex:1]];
                            
                            [messageContent appendString:[NSString stringWithFormat:@"%@\n",[[[parseDictionary objectForKey:@"Message"] objectAtIndex:i] substringFromIndex:1]]];
                        }
                        else{
                            // objectNumber = [[[arrayMessage objectAtIndex:i] componentsSeparatedByString:@" "] objectAtIndex:2];
                            
                            [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Cancel" objectid:[parseDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:[parseDictionary objectForKey:@"OBJECTID"]] message:[arrayMessage objectAtIndex:i]];
                            
                            
                            [[DataBase sharedInstance] updateOrderStatus:[self.orderHeaderDetails objectForKey:[parseDictionary objectForKey:@"OBJECTID"]]];
                            [messageContent appendString:[NSString stringWithFormat:@"%@\n",[[parseDictionary objectForKey:@"Message"] objectAtIndex:i]]];
                        }
                        
                        [self.orderHeaderDetails removeObjectForKey:[parseDictionary objectForKey:@"OBJECTID"]];
                    }
                    
 
                    [self showAlertMessageWithTitle:@"FieldTekPro" message:messageContent cancelButtonTitle:@"Ok" withactionType:@"Multiple" forMethod:@"Cancel Response"];
                    
                }
                else if ([parseDictionary objectForKey:@"OBJECTID"]){
                    [[DataBase sharedInstance] updateSyncLogForCategory:@"Order" action:@"Cancel" objectid:[parseDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:[parseDictionary objectForKey:@"OBJECTID"]]];
                    
                    if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                    {
                        [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Activity:Cancel Order #Orderno:%@ #Mode:Online #Class:Very Important #MUser:%@ #DeviceId:%@",[parseDictionary objectForKey:@"OBJECTID"],decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
                    }
                    
                    [[DataBase sharedInstance] updateOrderStatus:[self.orderHeaderDetails objectForKey:[parseDictionary objectForKey:@"OBJECTID"]] :@"Cancelled"];
                    
 
                      [self showAlertMessageWithTitle:@"FieldTekPro" message:[NSString stringWithFormat:@"Order %@ is cancelled successfully",[parseDictionary objectForKey:@"OBJECTID"]] cancelButtonTitle:@"Ok" withactionType:@"Multiple" forMethod:@"Cancel Response"];
                    
                }
            }
            else{
                
                if (self.orderHeaderDetails.count) {
                    NSArray *objectIds = [self.orderHeaderDetails allKeys];
                    for (int i=0; i<[objectIds count]; i++) {
                        [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Cancel" objectid:[objectIds objectAtIndex:i] UUID:[self.orderHeaderDetails objectForKey:[objectIds objectAtIndex:i]] message:errorDescription];
                    }
 
                    [self showAlertMessageWithTitle:@"FieldTekPro" message:errorDescription cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                    
                }
            }
            
            [MBProgressHUD hideHUDForView:self.view animated:YES];
            
            [self.orderHeaderDetails removeAllObjects];
            [selectedCheckBoxArray removeAllObjects];
            [inputsDictionary removeAllObjects];
            [inputsDictionary setObject:@"ORDER BY oh_upadated_Date DESC" forKey:@"RECENT"];
            [self searchMyOrdersFromSqlite:inputsDictionary];
            
            break;
            
        case GET_SYNC_MAP_DATA:
            
            if (!errorDescription.length) {
                
                [[Response sharedInstance] parseForSyncMapData:resultData];
                
                [self functionForSyncMapData];
            }
            else{
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];
 
                [self showAlertMessageWithTitle:@"FieldTekPro" message:errorDescription cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                
            }
            
            break;
            
        case GET_LOAD_SETTINGS:
            
            if (!errorDescription.length) {
                
                NSMutableDictionary *parsedDictionary = [[Response sharedInstance] parseForLoadSettings:resultData];
                
                if ([parsedDictionary objectForKey:@"resultRefresh"]) {
                    if ([[parsedDictionary objectForKey:@"resultRefresh"] isKindOfClass:[NSArray class]]) {
                        if ([[parsedDictionary objectForKey:@"resultRefresh"] objectAtIndex:0]) {
                            
                            if ([[[parsedDictionary objectForKey:@"resultRefresh"] objectAtIndex:0] objectForKey:@"Dord"]) {
                                if ([[[[parsedDictionary objectForKey:@"resultRefresh"] objectAtIndex:0] objectForKey:@"Dord"] isEqualToString:@"X"]) {
                                    [self getDueOrders];
                                    
                                }
                                else{
                                    
                             [MBProgressHUD hideHUDForView:self.view animated:YES];
                                    
                                 
                            [self showAlertMessageWithTitle:@"Info" message:@"No changes for you." cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                                    
                                }
                            }
                        }
                    }
                    else if ([[parsedDictionary objectForKey:@"resultRefresh"] isKindOfClass:[NSDictionary class]]){
                        
                        if ([[parsedDictionary objectForKey:@"resultRefresh"] objectForKey:@"Dord"]) {
                            if ([[[parsedDictionary objectForKey:@"resultRefresh"] objectForKey:@"Dord"] isEqualToString:@"X"]) {
                                
                                [self getDueOrders];
                            }
                            else{
                                
                                [MBProgressHUD hideHUDForView:self.view animated:YES];

                    [self showAlertMessageWithTitle:@"Info" message:@"No changes for you." cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                                
                            }
                        }
                    }
                }
                
                else{
 
                    [MBProgressHUD hideHUDForView:self.view animated:YES];
                    
                 }
            }
            else{
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];
 
                [self showAlertMessageWithTitle:@"FieldTekPro" message:errorDescription cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                
            }
            
            break;
            
        case GET_LIST_OF_DUE_ORDERS:
            
            if (!errorDescription.length) {
                NSMutableDictionary *parsedDictionary = [[Response sharedInstance] parseForListOfDueOrders:resultData];
                
                // if ([parsedDictionary count] == 0) {
                [[DataBase sharedInstance] deleteinsertDataIntoHeader:@"O"];
                // }
                
                if ([parsedDictionary objectForKey:@"resultHeader"]) {
                    
                    NSMutableDictionary *orderDetailDictionary = [[NSMutableDictionary alloc] init];
                    id responseObject;
                    NSMutableArray *orderOperationArray = [[NSMutableArray alloc] init];
                    NSMutableArray *orderDocsArray = [[NSMutableArray alloc] init];
                    NSMutableArray *orderHeaderArray = [[NSMutableArray alloc] init];
                    NSMutableArray *orderWsmSafetyMeasuresArray = [[NSMutableArray alloc]init];
                    NSMutableArray *orderWcmWorkApprovalListArray = [[NSMutableArray alloc]init];
                    NSMutableArray *orderWcmWorkApplicationListArray = [[NSMutableArray alloc]init];
                    NSMutableArray *orderWcmIssuePermitsArray = [[NSMutableArray alloc]init];
                    NSMutableArray *orderWcmOperationWCDArray = [[NSMutableArray alloc]init];
                    NSMutableArray *orderWcmOperationWCDTaggingConditionsArray = [[NSMutableArray alloc] init];
                    NSMutableArray *orderWcmPermitsStandardCheckPoints = [NSMutableArray new];
                    
                    NSMutableArray *orderStatusArray = [[NSMutableArray alloc] init];
                    NSMutableArray *orderOlistArray = [[NSMutableArray alloc] init];
                    
                    NSMutableArray *orderMeasurementDocumentsArray = [NSMutableArray new];
                    
                    NSDictionary *headerDictionary;
                    
                    responseObject = nil;
                    responseObject = [parsedDictionary objectForKey:@"resultHeader"];
                    
                    [orderHeaderArray addObjectsFromArray:responseObject];
                    
                    NSDateFormatter *dateFormate = [[NSDateFormatter alloc] init];
                    [dateFormate setDateFormat:@"yyyy-MM-dd"];
                    NSMutableDictionary *currentHeaderDictionary;
                    
                    for (int i=0; i<[orderHeaderArray count]; i++) {
                        
                        if ([[orderHeaderArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                            headerDictionary = [orderHeaderArray objectAtIndex:i];
                            currentHeaderDictionary = [[NSMutableDictionary alloc] init];
                            if ([headerDictionary objectForKey:@"Aufnr"]) {
                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Aufnr"] copy] forKey:@"OBJECTID"];
                                
                            }
                            else
                            {
                                [currentHeaderDictionary setObject:@" " forKey:@"OBJECTID"];
                            }
                            
                            
                            
                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Auart"] copy] forKey:@"OID"];
                            
                            if ([NullChecker isNull:[headerDictionary objectForKey:@"Ktext"]]) {
                                [currentHeaderDictionary setObject:@"" forKey:@"SHORTTEXT"];
                            }
                            else{
                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Ktext"] copy] forKey:@"SHORTTEXT"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Gltrp"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Gltrp"] forKey:@"EDATE"];
                                
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"EDATE"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Gstrp"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Gstrp"] forKey:@"SDATE"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"SDATE"];
                            }
                            
                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Ernam"] copy] forKey:@"REPORTEDBY"];
                            if ([headerDictionary objectForKey:@"Priok"]) {
                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Priok"] copy] forKey:@"OPID"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"OPID"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Equnr"]) {
                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Equnr"] copy] forKey:@"EQID"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"EQID"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Strno"]) {
                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Strno"] copy] forKey:@"FID"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"FID"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Xstatus"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Xstatus"] forKey:@"OSTATUS"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"Assigned" forKey:@"OSTATUS"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Docs"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Docs"] forKey:@"DOCS"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"DOCS"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Werks"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Werks"] forKey:@"PLANTID"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"PLANTID"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Plantname"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Plantname"] forKey:@"PLANTNAME"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"PLANTNAME"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Arbpl"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Arbpl"] forKey:@"WORKCENTERID"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"WORKCENTERID"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Wkctrname"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Wkctrname"] forKey:@"WORKCENTERNAME"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"WORKCENTERNAME"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Ausvn"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ausvn"] forKey:@"MALFUNCTIONSTARTDATE"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"MALFUNCTIONSTARTDATE"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Ausbs"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ausbs"] forKey:@"MALFUNCTIONENDDATE"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"MALFUNCTIONENDDATE"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Qmnam"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Qmnam"] forKey:@"NREPORTEDBY"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"NREPORTEDBY"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Msaus"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Msaus"] forKey:@"BREAKDOWN"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"BREAKDOWN"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Auswk"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auswk"] forKey:@"EFFECTID"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"EFFECTID"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Auswkt"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auswkt"] forKey:@"EFFECTNAME"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"EFFECTNAME"];
                            }
                            
                            
                            if ([headerDictionary objectForKey:@"Anlzu"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Anlzu"] forKey:@"SYSTEMCONDITIONID"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"SYSTEMCONDITIONID"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Anlzux"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Anlzux"] forKey:@"SYSTEMCONDITIONTEXT"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"SYSTEMCONDITIONTEXT"];
                            }
                            
                            
                            
                            if ([headerDictionary objectForKey:@"ParnrVw"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"ParnrVw"] forKey:@"PARNRID"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"PARNRID"];
                            }
                            
                            if ([headerDictionary objectForKey:@"NameVw"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"NameVw"] forKey:@"NAMEVW"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"NAMEVW"];
                                
                            }
                            
                            if ([headerDictionary objectForKey:@"Ingrp"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ingrp"] forKey:@"PLANNERGROUP"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"PLANNERGROUP"];
                                
                            }
                            
                            if ([headerDictionary objectForKey:@"Ingrpname"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ingrpname"] forKey:@"PLANNERGROUPNAME"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"PLANNERGROUPNAME"];
                                
                            }
                            
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"LATITUDE"];
                            [currentHeaderDictionary setObject:@"" forKey:@"LONGITUDE"];
                            [currentHeaderDictionary setObject:@"" forKey:@"ALTITUDE"];
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"workarea"];
                            [currentHeaderDictionary setObject:@"" forKey:@"costcenter"];
                            
                            if ([headerDictionary objectForKey:@"Kokrs"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kokrs"] forKey:@"workarea"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Kostl"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kostl"] forKey:@"costcenter"];
                            }
                            
                            
                            if ([headerDictionary objectForKey:@"EquiHistory"]) {
                                id equipmentHisory = [headerDictionary objectForKey:@"EquiHistory"];
                                if ([equipmentHisory objectForKey:@"item"]) {
                                    equipmentHisory = [equipmentHisory objectForKey:@"item"];
                                    if ([equipmentHisory isKindOfClass:[NSDictionary class]]) {
                                        [currentHeaderDictionary setObject:[NSMutableArray arrayWithObject:equipmentHisory] forKey:@"EQUIPMENTHISTORY"];
                                    }
                                    else if ([equipmentHisory isKindOfClass:[NSArray class]]){
                                        [currentHeaderDictionary setObject:equipmentHisory forKey:@"EQUIPMENTHISTORY"];
                                    }
                                }
                            }
                            
                            if ([headerDictionary objectForKey:@"Fields"]) {
                                NSMutableArray *fieldsMutArray = [NSMutableArray new];
                                NSMutableArray *tempfieldsMutArray = [NSMutableArray new];
                                
                                if ([[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                    [tempfieldsMutArray addObjectsFromArray:[NSMutableArray arrayWithObject:[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"]]];
                                }
                                else if ([[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSArray class]]) {
                                    [tempfieldsMutArray addObjectsFromArray:[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"]];
                                }
                                
                                //                                NSArray *fieldsArray = [[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                                for (int i =0; i<[tempfieldsMutArray count]; i++) {
                                    NSString *fieldValue,*fieldName,*fLabel,*tabName,*dataType,*sequence,*length;
                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Fieldname"]]) {
                                        fieldName = @"";
                                    }
                                    else{
                                        fieldName = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Fieldname"];
                                    }
                                    
                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Flabel"]]) {
                                        fLabel = @"";
                                    }
                                    else{
                                        fLabel = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Flabel"];
                                    }
                                    
                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Tabname"]]) {
                                        tabName = @"";
                                    }
                                    else{
                                        tabName = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Tabname"];
                                    }
                                    
                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Value"]]) {
                                        fieldValue = @"";
                                    }
                                    else{
                                        fieldValue = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Value"];
                                    }
                                    
                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Datatype"]]) {
                                        dataType = @"";
                                    }
                                    else{
                                        dataType = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Datatype"];
                                    }
                                    
                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Sequence"]]) {
                                        sequence = @"";
                                    }
                                    else{
                                        sequence = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Sequence"];
                                    }
                                    
                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Length"]]) {
                                        length = @"";
                                    }
                                    else{
                                        length = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Length"];
                                    }
                                    
                                    
                                    [fieldsMutArray addObject:[NSMutableArray arrayWithObjects:@"W",@"WH",tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                }
                                
                                [currentHeaderDictionary setObject:fieldsMutArray forKey:@"CFH"];
                            }
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"LONGTEXT"];
                            [currentHeaderDictionary setObject:[[DataBase sharedInstance] fetchNameForIDKey:@"ORDEROBJECTID" forValue:[currentHeaderDictionary objectForKey:@"OBJECTID"]] forKey:@"ID"];
                            if (![[currentHeaderDictionary objectForKey:@"ID"] length]) {
                                
                            }
                            
                            if ([headerDictionary objectForKey:@"Auarttext"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auarttext"] forKey:@"ONAME"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Priokx"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Priokx"] forKey:@"OPNAME"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"OPNAME"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Pltxt"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Pltxt"] forKey:@"FNAME"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"FNAME"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Eqktx"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Eqktx"] forKey:@"EQNAME"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"EQNAME"];
                            }
                            
                            if ([headerDictionary  objectForKey:@"Bemot"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Bemot"] forKey:@"ACCINCID"];
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Bemot"] forKey:@"ACCINCNAME"];
                            }
                            else{
                                [currentHeaderDictionary setObject:@"" forKey:@"ACCINCID"];
                                [currentHeaderDictionary setObject:@"" forKey:@"ACCINCNAME"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Kokrs"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kokrs"] forKey:@"workarea"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"workarea"];
                            }
                            
                            if ([headerDictionary objectForKey:@"Kostl"]) {
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kostl"] forKey:@"costcenter"];
                            }
                            else{
                                
                                [currentHeaderDictionary setObject:@"" forKey:@"costcenter"];
                            }
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"NOSYNCLOG"];
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"QMNUM"];
                            
                            if ([headerDictionary objectForKey:@"Qmnum"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Qmnum"] forKey:@"QMNUM"];
                            }
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"usr01"];
                            if ([headerDictionary objectForKey:@"Usr01"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr01"] forKey:@"usr01"];
                            }
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"usr02"];
                            if ([headerDictionary objectForKey:@"Usr02"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr02"] forKey:@"usr02"];
                            }
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"usr03"];
                            if ([headerDictionary objectForKey:@"Usr03"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr03"] forKey:@"usr03"];
                            }
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"usr04"];
                            if ([headerDictionary objectForKey:@"Usr04"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr04"] forKey:@"usr04"];
                            }
                            
                            [currentHeaderDictionary setObject:@"" forKey:@"usr05"];
                            if ([headerDictionary objectForKey:@"Usr05"]) {
                                
                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr04"] forKey:@"usr05"];
                            }
                            
                            [orderDetailDictionary setObject:[NSMutableArray arrayWithObjects:currentHeaderDictionary,[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array], nil] forKey:[currentHeaderDictionary objectForKey:@"OBJECTID"]];
                        }
                    }
                    
                    [orderHeaderArray removeAllObjects];
                    
                    NSMutableDictionary *orderOlistDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    NSMutableDictionary *tempOlistDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultOrderOlist"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultOrderOlist"];
                        
                        [orderOlistArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderOlistArray count]; i++) {
                            if ([[orderOlistArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderOlistArray objectAtIndex:i];
                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                    if ([orderOlistDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                        tempOlistDictionary = [orderOlistDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        if ([tempOlistDictionary objectForKey:[headerDictionary objectForKey:@"Obknr"]]) {
                                            tempOlistDictionary = [tempOlistDictionary objectForKey:[headerDictionary objectForKey:@"Obknr"]];
                                            [tempOlistDictionary addEntriesFromDictionary:headerDictionary];
                                        }
                                        else{
                                            [tempOlistDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Obknr"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderOlistDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Obknr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderOlistArray removeAllObjects];
                    
                    NSMutableDictionary *orderDocsDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    NSMutableDictionary *tempDocsDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultDocs"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultDocs"];
                        
                        [orderDocsArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderDocsArray count]; i++) {
                            if ([[orderDocsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderDocsArray objectAtIndex:i];
                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]]) {
                                    if ([orderDocsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]]) {
                                        tempDocsDictionary = [orderDocsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]];
                                        if ([tempDocsDictionary objectForKey:[headerDictionary objectForKey:@"Filename"]]) {
                                            tempDocsDictionary = [tempDocsDictionary objectForKey:[headerDictionary objectForKey:@"Filename"]];
                                            [tempDocsDictionary addEntriesFromDictionary:headerDictionary];
                                        }
                                        else{
                                            [tempDocsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Filename"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderDocsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Filename"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderDocsArray removeAllObjects];
                    
                    NSMutableDictionary *orderTransactionDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    
                    NSMutableDictionary *tempDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultOperationsTransactions"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultOperationsTransactions"];
                        
                        [orderOperationArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderOperationArray count]; i++) {
                            if ([[orderOperationArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderOperationArray objectAtIndex:i];
                                
                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                    if ([orderTransactionDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                        tempDictionary = [orderTransactionDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                        if ([tempDictionary objectForKey:[headerDictionary objectForKey:@"Vornr"]]) {
                                            tempDictionary = [tempDictionary objectForKey:[headerDictionary objectForKey:@"Vornr"]];
                                            [tempDictionary addEntriesFromDictionary:headerDictionary];
                                        }
                                        else
                                        {
                                            [tempDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Vornr"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderTransactionDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Vornr"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderOperationArray removeAllObjects];
                    
                    responseObject = nil;
                    NSMutableArray *orderTransactionArray = [[NSMutableArray alloc] init];
                    
                    if ([parsedDictionary objectForKey:@"resultComponentsTransactions"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultComponentsTransactions"];
                        
                        if ([responseObject isKindOfClass:[NSDictionary class]]) {
                            [orderTransactionArray addObject:responseObject];
                        }
                        else if ([responseObject isKindOfClass:[NSArray class]])
                        {
                            [orderTransactionArray addObjectsFromArray:responseObject];
                        }
                        
                        NSDictionary *transactionDictionary;
                        
                        for (int i=0; i<[orderTransactionArray count]; i++) {
                            
                            if ([[orderTransactionArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                
                                transactionDictionary = [orderTransactionArray objectAtIndex:i];
                                
                                if ([orderDetailDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]]) {
                                    
                                    if ([orderTransactionDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]]) {
                                        
                                        tempDictionary = [orderTransactionDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]];
                                        
                                        if ([tempDictionary objectForKey:[transactionDictionary objectForKey:@"Vornr"]]) {
                                            
                                            tempDictionary = [tempDictionary objectForKey:[transactionDictionary objectForKey:@"Vornr"]];
                                            
                                            if ([tempDictionary objectForKey:@"Components"]) {
                                                
                                                NSMutableArray *componentArray = [tempDictionary objectForKey:@"Components"];
                                                
                                                [componentArray addObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary]];
                                            }
                                            else
                                            {
                                                [tempDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary]] forKey:@"Components"];
                                            }
                                        }
                                        else
                                        {
                                            [tempDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary] forKey:[transactionDictionary objectForKey:@"Vornr"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderTransactionDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary] forKey:[transactionDictionary objectForKey:@"Vornr"]] forKey:[transactionDictionary objectForKey:@"Aufnr"]];
                                    }
                                }
                            }
                        }
                        
                        [orderTransactionArray removeAllObjects];
                    }
                    
                    NSMutableDictionary *orderMeasurementDocumentsDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    
                    NSMutableDictionary *measureMentDocsDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultMeasurementDocuments"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultMeasurementDocuments"];
                        
                        [orderMeasurementDocumentsArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderMeasurementDocumentsArray count]; i++) {
                            if ([[orderMeasurementDocumentsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderMeasurementDocumentsArray objectAtIndex:i];
                                
                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                    if ([orderMeasurementDocumentsDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                        tempDictionary = [orderMeasurementDocumentsDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                        if ([tempDictionary objectForKey:[headerDictionary objectForKey:@"Mdocm"]]) {
                                            measureMentDocsDictionary = [tempDictionary objectForKey:[headerDictionary objectForKey:@"Mdocm"]];
                                            [measureMentDocsDictionary addEntriesFromDictionary:headerDictionary];
                                        }
                                        else
                                        {
                                            [measureMentDocsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Mdocm"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderMeasurementDocumentsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Mdocm"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderMeasurementDocumentsArray removeAllObjects];
                    
                    NSMutableDictionary *orderWSMSafetyMeasuresDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    NSMutableDictionary *tempWSMSafetyMeasuresDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultWSMSafetyMeasures"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultWSMSafetyMeasures"];
                        
                        [orderWsmSafetyMeasuresArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderWsmSafetyMeasuresArray count]; i++) {
                            
                            if ([[orderWsmSafetyMeasuresArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderWsmSafetyMeasuresArray objectAtIndex:i];
                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]]) {
                                    if ([orderWSMSafetyMeasuresDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]]) {
                                        tempWSMSafetyMeasuresDictionary = [orderWSMSafetyMeasuresDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                        if ([tempWSMSafetyMeasuresDictionary objectForKey:[headerDictionary objectForKey:@"ObjId"]]) {
                                            tempWSMSafetyMeasuresDictionary = [tempWSMSafetyMeasuresDictionary objectForKey:[headerDictionary objectForKey:@"ObjId"]];
                                            [tempWSMSafetyMeasuresDictionary addEntriesFromDictionary:headerDictionary];
                                        }
                                        else{
                                            [tempWSMSafetyMeasuresDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"ObjId"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderWSMSafetyMeasuresDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"ObjId"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderWsmSafetyMeasuresArray removeAllObjects];
                    
                    NSMutableDictionary *orderWCMWorkApprovalListDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    NSMutableDictionary *tempWCMWorkApprovalListDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultWorkApprovalsData"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultWorkApprovalsData"];
                        
                        [orderWcmWorkApprovalListArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderWcmWorkApprovalListArray count]; i++) {
                            
                            if ([[orderWcmWorkApprovalListArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderWcmWorkApprovalListArray objectAtIndex:i];
                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                    if ([orderWCMWorkApprovalListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                        tempWCMWorkApprovalListDictionary = [orderWCMWorkApprovalListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        if ([tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapnr"]]) {
                                            tempWCMWorkApprovalListDictionary = [tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapnr"]];
                                            [tempWCMWorkApprovalListDictionary addEntriesFromDictionary:headerDictionary];
                                        }
                                        else{
                                            [tempWCMWorkApprovalListDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapnr"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderWCMWorkApprovalListDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderWcmWorkApprovalListArray removeAllObjects];
                    
                    
                    NSMutableDictionary *orderWCMWorkApplicationListDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    NSMutableDictionary *tempWCMWorkApplicationListDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultWorkApplicationData"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultWorkApplicationData"];
                        
                        [orderWcmWorkApplicationListArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderWcmWorkApplicationListArray count]; i++) {
                            
                            if ([[orderWcmWorkApplicationListArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderWcmWorkApplicationListArray objectAtIndex:i];
                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                    if ([orderWCMWorkApplicationListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                        tempWCMWorkApplicationListDictionary = [orderWCMWorkApplicationListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        if ([tempWCMWorkApplicationListDictionary objectForKey:[headerDictionary objectForKey:@"Wapinr"]]) {
                                            tempWCMWorkApplicationListDictionary = [tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapinr"]];
                                            [tempWCMWorkApplicationListDictionary addEntriesFromDictionary:headerDictionary];
                                        }
                                        else{
                                            [tempWCMWorkApplicationListDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapinr"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderWCMWorkApplicationListDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapinr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderWcmWorkApplicationListArray removeAllObjects];
                    
                    ///
                    NSMutableDictionary *orderWCMIssuePermitsDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    NSMutableDictionary *tempWCMIssuePermitsDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultIssuePermits"]) {
                        
                        
                        responseObject = [parsedDictionary objectForKey:@"resultIssuePermits"];
                        
                        
                        [orderWcmIssuePermitsArray addObjectsFromArray:responseObject];
                        
                        
                        for (int i=0; i<[orderWcmIssuePermitsArray count]; i++) {
                            
                            
                            if ([[orderWcmIssuePermitsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderWcmIssuePermitsArray objectAtIndex:i];
                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                    
                                    
                                    if ([orderWCMIssuePermitsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                        tempWCMIssuePermitsDictionary = [orderWCMIssuePermitsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        if ([tempWCMIssuePermitsDictionary objectForKey:[headerDictionary objectForKey:@"Werks"]]) {
                                            
                                            tempWCMIssuePermitsDictionary = [tempWCMIssuePermitsDictionary objectForKey:[headerDictionary objectForKey:@"Werks"]];
                                            
                                            
                                            if ([tempWCMIssuePermitsDictionary objectForKey:@"Objects"]) {
                                                NSMutableArray *objectsArray = [tempWCMIssuePermitsDictionary objectForKey:@"Objects"];
                                                [objectsArray addObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]];
                                            }
                                            else{
                                                
                                                
                                                [tempWCMIssuePermitsDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]] forKey:@"Objects"];
                                            }
                                        }
                                        else{
                                            
                                            
                                            [tempWCMIssuePermitsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Werks"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderWCMIssuePermitsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Werks"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                    }
                                }
                            }
                        }
                    }
                    [orderWcmIssuePermitsArray removeAllObjects];
                    
                    //
                    
                    responseObject = [parsedDictionary objectForKey:@"resultOperationWCDItemData"];
                    
                    for (int i = 0; i<[responseObject count]; i++) {
                        NSMutableArray *orderDetailWCMOperationWCDTaggingConditionsArray = [NSMutableArray new];
                        
                        tempDictionary = [responseObject objectAtIndex:i];
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcnr"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Wcnr"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcitm"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Wcitm"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Itmtyp"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Itmtyp"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Seq"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Seq"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Pred"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Pred"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Succ"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Succ"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Ccobj"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Ccobj"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Cctyp"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Cctyp"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tggrp"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tggrp"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgstep"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgstep"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgproc"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgproc"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgtyp"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgtyp"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgseq"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgseq"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgtxt"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgtxt"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unstep"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unstep"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unproc"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unproc"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Untyp"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Untyp"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unseq"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unseq"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Untxt"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Untxt"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phblflg"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phblflg"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phbltyp"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phbltyp"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phblnr"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phblnr"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgflg"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgflg"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgform"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgform"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgnr"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgnr"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unform"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unform"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unnr"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unnr"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Control"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Control"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Location"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Location"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Btg"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Btg"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etg"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Etg"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Bug"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Bug"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Eug"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Eug"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                        }
                        
                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                        }
                        else{
                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Action"]];
                        }
                        
                        [orderWcmOperationWCDTaggingConditionsArray addObject:orderDetailWCMOperationWCDTaggingConditionsArray];
                    }
                    
                    ///
                    responseObject = nil;
                    
                    if ([parsedDictionary objectForKey:@"resultStandardCheckPoints"])
                    {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultStandardCheckPoints"];
                        
                        for (int i = 0; i<[responseObject  count]; i++) {
                            
                            NSMutableArray *orderDetailWCMStandardCheckPointsArray = [NSMutableArray new];
                            
                            tempDictionary = [responseObject objectAtIndex:i];
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapinr"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wapinr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapityp"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wapityp"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ChkPointType"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"ChkPointType"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wkid"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wkid"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Needid"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Needid"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Value"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Value"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Desctext"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Desctext"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wkgrp"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wkgrp"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Needgrp"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Needgrp"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Tplnr"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Tplnr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Equnr"]]) {
                                [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Equnr"]];
                            }
                            
                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            
                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                            
                            
                            [orderWcmPermitsStandardCheckPoints addObject:orderDetailWCMStandardCheckPointsArray];
                        }
                    }
                    
                    
                    NSMutableDictionary *orderWCMOperationWCDDictionary = [[NSMutableDictionary alloc] init];
                    responseObject = nil;
                    
                    NSMutableDictionary *tempWCMOperationWCDDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultOperationWCDData"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultOperationWCDData"];
                        
                        [orderWcmOperationWCDArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderWcmOperationWCDArray count]; i++) {
                            
                            if ([[orderWcmOperationWCDArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                headerDictionary = [orderWcmOperationWCDArray objectAtIndex:i];
                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                    if ([orderWCMOperationWCDDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                        tempWCMOperationWCDDictionary = [orderWCMOperationWCDDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        if ([tempWCMOperationWCDDictionary objectForKey:[headerDictionary objectForKey:@"Wcnr"]]) {
                                            tempWCMOperationWCDDictionary = [tempWCMOperationWCDDictionary objectForKey:[headerDictionary objectForKey:@"Wcnr"]];
                                            [tempWCMOperationWCDDictionary addEntriesFromDictionary:headerDictionary];
                                        }
                                        else{
                                            [tempWCMOperationWCDDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wcnr"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderWCMOperationWCDDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wcnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderWcmOperationWCDArray removeAllObjects];
                    
                    ///
                    responseObject = nil;
                    
                    NSMutableDictionary *orderStatusDictionary = [[NSMutableDictionary alloc] init];
                    
                    NSMutableDictionary *tempOrderStatusDictionary;
                    
                    if ([parsedDictionary objectForKey:@"resultOrderStatus"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultOrderStatus"];
                        
                        [orderStatusArray addObjectsFromArray:responseObject];
                        
                        for (int i=0; i<[orderStatusArray count]; i++) {
                            
                            if ([[orderStatusArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                
                                headerDictionary = [orderStatusArray objectAtIndex:i];
                                
                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                    
                                    if ([orderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                        
                                        tempOrderStatusDictionary = [orderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                        
                                        if ([tempOrderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]]) {
                                            
                                            tempOrderStatusDictionary = [tempOrderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]];
                                            
                                            if ([tempOrderStatusDictionary objectForKey:@"SystemStatus"]) {
                                                
                                                NSMutableArray *systemStatusArray = [tempOrderStatusDictionary objectForKey:@"SystemStatus"];
                                                
                                                [systemStatusArray addObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]];
                                            }
                                            else
                                            {
                                                [tempOrderStatusDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]] forKey:@"SystemStatus"];
                                            }
                                        }
                                        else
                                        {
                                            [tempOrderStatusDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]];
                                        }
                                    }
                                    else
                                    {
                                        [orderStatusDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                    }
                                }
                            }
                        }
                    }
                    
                    [orderStatusArray removeAllObjects];
                    
                    if ([parsedDictionary objectForKey:@"resultLongText"]) {
                        
                        responseObject = [parsedDictionary objectForKey:@"resultLongText"];
                        
                        NSMutableArray *orderTextnArray = [[NSMutableArray alloc] init];
                        if ([responseObject isKindOfClass:[NSDictionary class]]) {
                            [orderTextnArray addObject:responseObject];
                        }
                        else if ([responseObject isKindOfClass:[NSArray class]])
                        {
                            [orderTextnArray addObjectsFromArray:responseObject];
                        }
                        
                        NSDictionary *textDictionary;
                        for (int i=0; i<[orderTextnArray count]; i++) {
                            if ([[orderTextnArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                textDictionary = [orderTextnArray objectAtIndex:i];
                                if ([orderDetailDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]]) {
                                    if ([textDictionary objectForKey:@"Activity"]) {
                                        tempDictionary = [orderTransactionDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]];
                                        if (tempDictionary) {
                                            tempDictionary = [tempDictionary objectForKey:[textDictionary objectForKey:@"Activity"]];
                                            if (tempDictionary) {
                                                id longText = [tempDictionary objectForKey:@"OPTLONGTEXT"];
                                                NSString *textLine = [textDictionary objectForKey:@"TextLine"];
                                                if (!textLine.length) {
                                                    textLine = @"";
                                                }
                                                if ([longText length]) {
                                                    [tempDictionary setObject:[NSString stringWithFormat:@"%@\n%@",longText,textLine] forKey:@"OPTLONGTEXT"];
                                                }
                                                else
                                                {
                                                    [tempDictionary setObject:[NSString stringWithString:textLine] forKey:@"OPTLONGTEXT"];
                                                }
                                            }
                                        }
                                    }
                                    else
                                    {
                                        NSMutableDictionary *headerDictionary = [[orderDetailDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]] firstObject];
                                        NSString *textLine = [textDictionary objectForKey:@"TextLine"];
                                        
                                        if (!textLine.length) {
                                            textLine = @"";
                                        }
                                        
                                        if ([[headerDictionary objectForKey:@"LONGTEXT"] length]) {
                                            [headerDictionary setObject:[NSString stringWithFormat:@"%@\n%@",[headerDictionary objectForKey:@"LONGTEXT"],textLine] forKey:@"LONGTEXT"];
                                        }
                                        else
                                        {
                                            [headerDictionary setObject:[NSString stringWithFormat:@"%@",textLine] forKey:@"LONGTEXT"];
                                        }
                                    }
                                }
                            }
                        }
                        
                        [orderTransactionArray removeAllObjects];
                    }
                    
                    /////
                    responseObject = nil;
                    
                    [orderWcmWorkApplicationListArray addObjectsFromArray:[orderWCMWorkApplicationListDictionary allKeys]];
                    
                    NSArray *recordIDWCMWorkApplicationListArray;
                    NSDictionary *WCMWorkApplicationListDictionary;
                    
                    for (int i =0; i<[orderWcmWorkApplicationListArray  count]; i++) {
                        
                        NSMutableArray *wcmWorkApplicationListArray = [NSMutableArray new];
                        
                        WCMWorkApplicationListDictionary = [orderWCMWorkApplicationListDictionary objectForKey:[orderWcmWorkApplicationListArray objectAtIndex:i]];
                        recordIDWCMWorkApplicationListArray = [WCMWorkApplicationListDictionary allKeys];
                        
                        for (int j=0; j<[recordIDWCMWorkApplicationListArray count]; j++) {
                            
                            NSMutableArray *orderDetailWCMWorkApplicationListArray = [NSMutableArray new];
                            
                            tempDictionary = [WCMWorkApplicationListDictionary objectForKey:[recordIDWCMWorkApplicationListArray objectAtIndex:j]];
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapinr"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Wapinr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Train"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];//Action
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Action"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begru"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Begru"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begtx"]]) {
                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Begtx"]];
                            }
                            
                            [wcmWorkApplicationListArray addObject:orderDetailWCMWorkApplicationListArray];
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderWcmWorkApplicationListArray objectAtIndex:i]] replaceObjectAtIndex:8 withObject:wcmWorkApplicationListArray];
                    }
                    
                    [orderWcmWorkApplicationListArray removeAllObjects];
                    
                    /////
                    responseObject = nil;
                    
                    [orderWcmOperationWCDArray addObjectsFromArray:[orderWCMOperationWCDDictionary allKeys]];
                    
                    NSArray *recordIDWCMOperationWCDListArray;
                    NSDictionary *WCMOperationWCDListDictionary;
                    
                    for (int i =0; i<[orderWcmOperationWCDArray  count]; i++) {
                        
                        NSMutableArray *wcmOperationWCDListArray = [NSMutableArray new];
                        
                        WCMOperationWCDListDictionary = [orderWCMOperationWCDDictionary objectForKey:[orderWcmOperationWCDArray objectAtIndex:i]];
                        recordIDWCMOperationWCDListArray = [WCMOperationWCDListDictionary allKeys];
                        
                        for (int j=0; j<[recordIDWCMOperationWCDListArray count]; j++) {
                            
                            NSMutableArray *orderDetailWCMOperationWCDListArray = [NSMutableArray new];
                            
                            tempDictionary = [WCMOperationWCDListDictionary objectForKey:[recordIDWCMOperationWCDListArray objectAtIndex:j]];
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcnr"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Wcnr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Train"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];//Action
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Action"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begru"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Begru"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begtx"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Begtx"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Tagtext"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                
                                id   responseTagObject = [tempDictionary objectForKey:@"Tagtext"];
                                
                                NSMutableArray *orderTagTextArray = [[NSMutableArray alloc] init];
                                if ([[responseTagObject objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                    [orderTagTextArray addObject:[responseTagObject objectForKey:@"item"]];
                                }
                                else if ([[responseTagObject objectForKey:@"item"] isKindOfClass:[NSArray class]])
                                {
                                    [orderTagTextArray addObjectsFromArray:[responseTagObject objectForKey:@"item"]];
                                }
                                
                                NSMutableString *taggingText=[[NSMutableString alloc] initWithString:@""];
                                
                                for (int t=0; t<[orderTagTextArray count]; t++) {
                                    
                                    NSString *textLine = [[orderTagTextArray objectAtIndex:t] objectForKey:@"TextLine"];
                                    if (!textLine.length) {
                                        textLine = @"";
                                    }
                                    
                                    [taggingText appendString:[NSString stringWithFormat:@"%@\n",textLine]];
                                    
                                }
                                
                                [orderDetailWCMOperationWCDListArray addObject:taggingText];
                                
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Untagtext"]]) {
                                [orderDetailWCMOperationWCDListArray addObject:@""];
                            }
                            else{
                                
                                id   responseUnTagObject = [tempDictionary objectForKey:@"Untagtext"];
                                
                                NSMutableArray *orderUnTagTextArray = [[NSMutableArray alloc] init];
                                if ([[responseUnTagObject objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                    [orderUnTagTextArray addObject:[responseUnTagObject objectForKey:@"item"]];
                                }
                                else if ([[responseUnTagObject objectForKey:@"item"] isKindOfClass:[NSArray class]])
                                {
                                    [orderUnTagTextArray addObjectsFromArray:[responseUnTagObject objectForKey:@"item"]];
                                }
                                
                                NSMutableString *unTaggingText=[[NSMutableString alloc] initWithString:@""];
                                
                                for (int t=0; t<[orderUnTagTextArray count]; t++) {
                                    
                                    NSString *textLine = [[orderUnTagTextArray objectAtIndex:t] objectForKey:@"TextLine"];
                                    if (!textLine.length) {
                                        textLine = @"";
                                    }
                                    
                                    [unTaggingText appendString:[NSString stringWithFormat:@"%@\n",textLine]];
                                }
                                
                                [orderDetailWCMOperationWCDListArray addObject:unTaggingText];
                                
                            }
                            
                            
                            //                            CREATE TABLE "ORDER_WCM_OPERATIONWCD" ("orderwcm_header_id" VARCHAR,"orderwcm_objart" VARCHAR,"orderwcm_wcnr" VARCHAR,"orderwcm_iwerk" VARCHAR,"orderwcm_objtyp" VARCHAR,"orderwcm_usage" VARCHAR,"orderwcm_usagex" VARCHAR,"orderwcm_train" VARCHAR,"orderwcm_trainx" VARCHAR,"orderwcm_anlzu" VARCHAR,"orderwcm_anlzux" VARCHAR,"orderwcm_etape" VARCHAR,"orderwcm_etapex" VARCHAR,"orderwcm_stxt" VARCHAR,"orderwcm_datefr" VARCHAR,"orderwcm_timefr" VARCHAR,"orderwcm_dateto" VARCHAR,"orderwcm_timeto" VARCHAR,"orderwcm_priok" VARCHAR,"orderwcm_priokx" VARCHAR,"orderwcm_rctime" VARCHAR,"orderwcm_rcunit" VARCHAR,"orderwcm_objnr" VARCHAR,"orderwcm_refobj" VARCHAR,"orderwcm_crea" VARCHAR,"orderwcm_prep" VARCHAR,"orderwcm_comp" VARCHAR,"orderwcm_appr" VARCHAR,"orderwcm_action" VARCHAR, "orderwcm_Begru" VARCHAR, "orderwcm_Begtx" VARCHAR, "orderwcm_tagging_text" VARCHAR, "orderwcm_untagging_text" VARCHAR)
                            
                            [wcmOperationWCDListArray addObject:orderDetailWCMOperationWCDListArray];
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderWcmOperationWCDArray objectAtIndex:i]] replaceObjectAtIndex:10 withObject:wcmOperationWCDListArray];
                    }
                    
                    [orderWcmWorkApplicationListArray removeAllObjects];
                    
                    /////
                    responseObject = nil;
                    
                    [orderWcmWorkApprovalListArray addObjectsFromArray:[orderWCMWorkApprovalListDictionary allKeys]];
                    
                    NSArray *recordIDWCMWorkApprovalListArray;
                    NSDictionary *WCMWorkApprovalListDictionary;
                    
                    for (int i =0; i<[orderWcmWorkApprovalListArray  count]; i++) {
                        
                        WCMWorkApprovalListDictionary = [orderWCMWorkApprovalListDictionary objectForKey:[orderWcmWorkApprovalListArray objectAtIndex:i]];
                        recordIDWCMWorkApprovalListArray = [WCMWorkApprovalListDictionary allKeys];
                        NSMutableArray *wcmWorkApprovalListArray = [NSMutableArray new];
                        
                        for (int j=0; j<[recordIDWCMWorkApprovalListArray count]; j++) {
                            
                            NSMutableArray *orderDetailWCMWorkApprovalListArray = [NSMutableArray new];
                            
                            tempDictionary = [WCMWorkApprovalListDictionary objectForKey:[recordIDWCMWorkApprovalListArray objectAtIndex:j]];
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapnr"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Wapnr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Train"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pappr"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Pappr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];//Action
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Action"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begru"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Begru"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Begtx"]]) {
                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                            }
                            else{
                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Begtx"]];
                            }
                            
                            
                            [wcmWorkApprovalListArray addObject:orderDetailWCMWorkApprovalListArray];
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderWcmWorkApprovalListArray objectAtIndex:i]] replaceObjectAtIndex:1 withObject:wcmWorkApprovalListArray];
                    }
                    
                    [orderWcmWorkApprovalListArray removeAllObjects];
                    
                    /////
                    responseObject = nil;
                    
                    [orderWcmIssuePermitsArray addObjectsFromArray:[orderWCMIssuePermitsDictionary allKeys]];
                    
                    NSArray *recordIDWCMIssuePermitsArray;
                    NSDictionary *WCMIssuePermitsDictionary;
                    
                    for (int i =0; i<[orderWcmIssuePermitsArray  count]; i++) {
                        
                        WCMIssuePermitsDictionary = [orderWCMIssuePermitsDictionary objectForKey:[orderWcmIssuePermitsArray objectAtIndex:i]];
                        recordIDWCMIssuePermitsArray = [WCMIssuePermitsDictionary allKeys];
                        
                        NSMutableArray *wcmIssuePermitsArray = [NSMutableArray new];
                        
                        
                        for (int j=0; j<[recordIDWCMIssuePermitsArray count]; j++) {
                            
                            
                            tempDictionary = [WCMIssuePermitsDictionary objectForKey:[recordIDWCMIssuePermitsArray objectAtIndex:j]];
                            
                            
                            NSMutableArray *temPArray=[NSMutableArray new];
                            
                            
                            if ([tempDictionary isKindOfClass:[NSDictionary class]]){
                                
                                
                                if ([tempDictionary objectForKey:@"Objects"]) {
                                    
                                    
                                    [temPArray addObjectsFromArray:[tempDictionary objectForKey:@"Objects"]];
                                    
                                    
                                    for (int k=0; k<[temPArray count]; k++) {
                                        
                                        
                                        NSMutableArray *orderDetailWCMIssuePermitsArray = [NSMutableArray new];
                                        
                                        
                                        NSDictionary *tempObjectsDictionary = [temPArray objectAtIndex:k];
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Aufnr"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[NSString stringWithFormat:@"%lld",[[tempObjectsDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Objnr"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            
                                            
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Objnr"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Counter"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Counter"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Werks"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Werks"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Crname"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Crname"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Objart"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Objart"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Objtyp"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Objtyp"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Pmsog"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Pmsog"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Gntxt"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Gntxt"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Geniakt"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Geniakt"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Genvname"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Genvname"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Hilvl"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Hilvl"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Procflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Procflg"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Direction"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Direction"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Copyflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Copyflg"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Mandflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Mandflg"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Deacflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Deacflg"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Status"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Status"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Asgnflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Asgnflg"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Autoflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Autoflg"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Agent"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Agent"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Valflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Valflg"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Wcmuse"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Wcmuse"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempObjectsDictionary objectForKey:@"Action"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempObjectsDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        
                                        [wcmIssuePermitsArray addObject:orderDetailWCMIssuePermitsArray];
                                    }
                                }
                                
                                
                                NSMutableArray *orderDetailWCMIssuePermitsArray = [NSMutableArray new];
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    
                                    
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Counter"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Counter"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Werks"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Werks"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Crname"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Crname"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Pmsog"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Pmsog"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Gntxt"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Gntxt"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Geniakt"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Geniakt"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Genvname"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Genvname"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Hilvl"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Hilvl"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Procflg"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Procflg"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Direction"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Direction"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Copyflg"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Copyflg"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Mandflg"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Mandflg"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Deacflg"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Deacflg"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Status"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Status"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Asgnflg"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Asgnflg"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Autoflg"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Autoflg"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Agent"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Agent"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Valflg"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Valflg"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcmuse"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Wcmuse"]];
                                }
                                
                                
                                if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                    [orderDetailWCMIssuePermitsArray addObject:@""];
                                }
                                else{
                                    [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Action"]];
                                }
                                
                                
                                [wcmIssuePermitsArray addObject:orderDetailWCMIssuePermitsArray];
                            }
                            
                            
                            [[orderDetailDictionary objectForKey:[orderWcmIssuePermitsArray objectAtIndex:i]] replaceObjectAtIndex:9 withObject:wcmIssuePermitsArray];
                            
                        }
                    }
                    [orderWcmIssuePermitsArray removeAllObjects];
                    
                    //////////
                    [orderDocsArray addObjectsFromArray:[orderDocsDictionary allKeys]];
                    NSArray *recordIDDocsArray;
                    NSDictionary *docsDictionary;
                    
                    for (int i =0; i<[orderDocsArray  count]; i++) {
                        docsDictionary = [orderDocsDictionary objectForKey:[orderDocsArray objectAtIndex:i]];
                        recordIDDocsArray = [docsDictionary allKeys];
                        NSMutableArray *orderDocsListArray = [NSMutableArray new];
                        
                        for (int j=0; j<[recordIDDocsArray count]; j++) {
                            NSMutableArray *orderDetailDocsListArray = [NSMutableArray new];
                            
                            tempDictionary = [docsDictionary objectForKey:[recordIDDocsArray objectAtIndex:j]];
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Zobjid"]]) {
                                [orderDetailDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Zobjid"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"DocId"]]) {
                                [orderDetailDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"DocId"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"DocType"]]) {
                                [orderDetailDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"DocType"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Filename"]]) {
                                [orderDetailDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Filename"]];
                            }
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Filetype"]]) {
                                [orderDetailDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Filetype"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Fsize"]]) {
                                
                                [orderDetailDocsListArray addObject:@""];//Size
                            }
                            else{
                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Fsize"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtype"]]) {
                                
                                [orderDetailDocsListArray addObject:@""];//Objtype
                            }
                            else{
                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Objtype"]];
                            }
                            
                            [orderDetailDocsListArray addObject:@""];//Content
                            [orderDetailDocsListArray addObject:@""];//Action
                            
                            [orderDocsListArray addObject:orderDetailDocsListArray];
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderDocsArray objectAtIndex:i]] replaceObjectAtIndex:2 withObject:orderDocsListArray];
                    }
                    
                    [orderDocsArray removeAllObjects];
                    
                    [orderTransactionArray addObjectsFromArray:[orderTransactionDictionary allKeys]];
                    NSArray *recordIDArray;
                    NSDictionary *componentDictionary;
                    
                    for (int i =0; i<[orderTransactionArray  count]; i++) {
                        componentDictionary = [orderTransactionDictionary objectForKey:[orderTransactionArray objectAtIndex:i]];
                        recordIDArray = [componentDictionary allKeys];
                        NSMutableArray *orderTransactionListArray = [NSMutableArray new];
                        NSMutableArray *orderPartsListArray = [NSMutableArray new];
                        
                        for (int j=0; j<[recordIDArray count]; j++) {
                            
                            NSMutableArray *orderDetailTransactionListArray = [NSMutableArray new];
                            
                            tempDictionary = [componentDictionary objectForKey:[recordIDArray objectAtIndex:j]];
                            
                            //CREATE TABLE "ORDER_TRANSACTION" ("ordert_header_id" VARCHAR,"ordert_vornr_operation" VARCHAR,"ordert_operation_name" VARCHAR,"ordert_duration_name" VARCHAR,"ordert_duration_id" VARCHAR,"ordert_fsavd" VARCHAR,"ordert_ssedd" VARCHAR,"ordert_rueck" VARCHAR,"ordert_aueru" VARCHAR,"ordert_operation_action" VARCHAR,"ordert_status" VARCHAR,"ordert_conftext" VARCHAR,"ordert_actwork" VARCHAR,"ordert_unwork" VARCHAR,"ordert_larnt" VARCHAR,"ordert_pernr" VARCHAR,"ordert_plnal" VARCHAR,"ordert_plnnr" VARCHAR,"ordert_plnty" VARCHAR,"ordert_steus" VARCHAR,"ordert_operationlongtext" VARCHAR,"usr01" VARCHAR,"bemot" VARCHAR,"grund" VARCHAR,"learr" VARCHAR,"leknw" VARCHAR,"operation_plantid" VARCHAR,"operation_plantname" VARCHAR,"operation_workcenterid" VARCHAR,"operation_workcentertext" VARCHAR,"ordert_steustext" VARCHAR)
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Aufnr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Vornr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Ltxa1"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Ltxa1"]];//Operation short text
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dauno"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Dauno"]];//duration
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Daune"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Daune"]];//duration id
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Fsavd"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Fsavd"]];//date
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Ssedd"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Ssedd"]];//date
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rueck"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Rueck"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aueru"]]) {
                                [orderDetailTransactionListArray addObject:@""];//for aueru
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Aueru"]];
                            }
                            
                            [orderDetailTransactionListArray addObject:@""];//For OperationAction
                            [orderDetailTransactionListArray addObject:@""];//For Status
                            [orderDetailTransactionListArray addObject:@""];//For Confirmation text in Confirm Order
                            [orderDetailTransactionListArray addObject:@""];//For Actual Work Text
                            [orderDetailTransactionListArray addObject:@""];//For Actual Work Units
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Larnt"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Larnt"]];//Activity Type
                            }
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pernr"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Pernr"]];//Personal No
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnal"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnal"]];//Group Counter
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnnr"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnnr"]];//key for task list group
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnty"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnty"]];//Task list type
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Steus"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Steus"]];//Control Key
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"OPTLONGTEXT"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"OPTLONGTEXT"]];
                            }//For Long Text
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usr01"]]) {
                                [orderDetailTransactionListArray addObject:@""];
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Usr01"]];
                            }//For Actual Work
                            
                            [orderDetailTransactionListArray addObject:@""];//Bemot(Accounting Indicator)
                            [orderDetailTransactionListArray addObject:@""];//grund(ConfirmReason)
                            [orderDetailTransactionListArray addObject:@""];//Learr(noRemainingWork)
                            [orderDetailTransactionListArray addObject:@""];//Leknw(confirmreason)
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Werks"]]) {
                                [orderDetailTransactionListArray addObject:@""];//Werks
                                
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Werks"]];//Werks
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"WerksText"]]) {
                                [orderDetailTransactionListArray addObject:@""];//WerksText
                                
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"WerksText"]];//WersText
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Arbpl"]]) {
                                [orderDetailTransactionListArray addObject:@""];//Arbpl
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Arbpl"]];//Arbpl
                                
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ArbplText"]]) {
                                [orderDetailTransactionListArray addObject:@""];//ArbplText
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"ArbplText"]];//ArbplText
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SteusText"]]) {
                                [orderDetailTransactionListArray addObject:@""];//SteusText
                            }
                            else{
                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"SteusText"]];//SteusText
                            }
                            //
                            //                            id customFieldsOperationsTransactionsID;
                            //                            if ([tempDictionary objectForKey:@"Fields"]) {
                            //                                NSArray *fieldsArray = [[tempDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                            //                                NSMutableArray *transactionsOperationsCustomFields = [NSMutableArray new];
                            //                                for (int l =0; l<[fieldsArray count]; l++) {
                            //                                    NSString *fieldValue,*fieldName,*fLabel,*tabName,*docType,*docTypeItem,*dataType,*sequence,*length;
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"]]) {
                            //                                        fieldName = @"";
                            //                                    }
                            //                                    else{
                            //                                        fieldName = [[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"];
                            //                                    }
                            //
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"]]) {
                            //                                        fLabel = @"";
                            //                                    }
                            //                                    else{
                            //                                        fLabel = [[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"];
                            //                                    }
                            //
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"]]) {
                            //                                        tabName = @"";
                            //                                    }
                            //                                    else{
                            //                                        tabName = [[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"];
                            //                                    }
                            //
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Value"]]) {
                            //                                        fieldValue = @"";
                            //                                    }
                            //                                    else{
                            //                                        fieldValue = [[fieldsArray objectAtIndex:l] objectForKey:@"Value"];
                            //                                    }
                            //
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"]]) {
                            //                                        docType = @"";
                            //                                    }
                            //                                    else{
                            //                                        docType = [[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"];
                            //                                    }
                            //
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"]]) {
                            //                                        docTypeItem = @"";
                            //                                    }
                            //                                    else{
                            //                                        docTypeItem = [[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"];
                            //                                    }
                            //
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"]]) {
                            //                                        dataType = @"";
                            //                                    }
                            //                                    else{
                            //                                        dataType = [[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"];
                            //                                    }
                            //
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"]]) {
                            //                                        sequence = @"";
                            //                                    }
                            //                                    else{
                            //                                        sequence = [[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"];
                            //                                    }
                            //
                            //                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Length"]]) {
                            //                                        length = @"";
                            //                                    }
                            //                                    else{
                            //                                        length = [[fieldsArray objectAtIndex:l] objectForKey:@"Length"];
                            //                                    }
                            //
                            //                                    if ([docTypeItem isEqualToString:@"WO"]) {
                            //                                        [transactionsOperationsCustomFields addObject:[NSMutableArray arrayWithObjects:docType,docTypeItem,tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                            //                                    }
                            //                                }
                            //
                            //                                customFieldsOperationsTransactionsID = transactionsOperationsCustomFields;
                            //                            }
                            
                            [orderTransactionListArray addObject:[NSArray arrayWithObjects:orderDetailTransactionListArray,[NSArray array], nil]];
                            
                            if ([tempDictionary objectForKey:@"Components"]) {
                                
                                //CREATE TABLE "ORDER_PARTS" ("ordert_header_id" VARCHAR, "ordert_vornr_operation" VARCHAR, "ordert_quantity" INTEGER, "ordert_lgort" VARCHAR, "ordert_lgorttext" VARCHAR, "ordert_matnr" VARCHAR, "ordert_matnrtext" VARCHAR, "ordert_meins" VARCHAR, "ordert_posnr" VARCHAR, "ordert_postp" VARCHAR, "ordert_postptext" VARCHAR, "ordert_rsnum" VARCHAR, "ordert_rspos" VARCHAR, "ordert_werks" VARCHAR, "ordert_werkstext" VARCHAR)
                                
                                for (int k =0; k<[[tempDictionary objectForKey:@"Components"] count]; k++) {
                                    
                                    NSMutableArray *orderDetailComponentTransactionListArray = [NSMutableArray new];
                                    
                                    NSDictionary *tempCompenetsDictionary = [[tempDictionary objectForKey:@"Components"] objectAtIndex:k];
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Aufnr"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Aufnr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Vornr"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Vornr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Bdmng"]]) {
                                        
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Bdmng"]];//Quantity
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Lgort"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Lgort"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"LgortText"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"LgortText"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Matnr"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Matnr"]];//ComponentID
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"MatnrText"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"MatnrText"]];//ComponentName
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Meins"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Meins"]];//Meins
                                        
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Posnr"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Posnr"]];
                                    }
                                    
                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Postp"]]){
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Postp"]];//Item Category in Components
                                    }
                                    
                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"PostpText"]]){
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"PostpText"]];//Item Category in Components
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Rsnum"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Rsnum"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Rspos"]]) {
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Rspos"]];
                                    }
                                    
                                    if ([tempCompenetsDictionary objectForKey:@"Werks"]) {
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Werks"]];//Werks
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:@""];//Werks
                                    }
                                    
                                    if ([tempCompenetsDictionary objectForKey:@"WerksText"]) {
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"WerksText"]];//Werks
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:@""];//WerksText
                                    }
                                    
                                    [orderDetailComponentTransactionListArray addObject:@""];//ComponentAction
                                    
                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Wempf"]]){
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Wempf"]];//receipt
                                    }
                                    
                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Ablad"]]){
                                        [orderDetailComponentTransactionListArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Ablad"]];//unload
                                    }
                                    
                                    
                                    
                                    id customFieldsComponentsTransactionsID;
                                    NSMutableArray *transactionsComponentsCustomFields = [NSMutableArray new];
                                    
                                    if ([tempCompenetsDictionary objectForKey:@"Fields"]) {
                                        
                                        NSMutableArray *fieldsArray=[NSMutableArray new];
                                        
                                        if ([[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                            
                                            [fieldsArray addObjectsFromArray:[NSMutableArray arrayWithObject:[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"]]];
                                        }
                                        else if ([[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSArray class]]){
                                            
                                            [fieldsArray addObjectsFromArray:[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"]];
                                            
                                        }
                                        
                                        
                                        for (int l =0; l<[fieldsArray count]; l++) {
                                            NSString *fieldValue,*fieldName,*fLabel,*tabName,*docType,*docTypeItem,*dataType,*sequence,*length;
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"]]) {
                                                fieldName = @"";
                                            }
                                            else{
                                                fieldName = [[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"];
                                            }
                                            
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"]]) {
                                                fLabel = @"";
                                            }
                                            else{
                                                fLabel = [[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"];
                                            }
                                            
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"]]) {
                                                tabName = @"";
                                            }
                                            else{
                                                tabName = [[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"];
                                            }
                                            
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Value"]]) {
                                                fieldValue = @"";
                                            }
                                            else{
                                                fieldValue = [[fieldsArray objectAtIndex:l] objectForKey:@"Value"];
                                            }
                                            
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"]]) {
                                                docType = @"";
                                            }
                                            else{
                                                docType = [[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"];
                                            }
                                            
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"]]) {
                                                docTypeItem = @"";
                                            }
                                            else{
                                                docTypeItem = [[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"];
                                            }
                                            
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"]]) {
                                                dataType = @"";
                                            }
                                            else{
                                                dataType = [[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"];
                                            }
                                            
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"]]) {
                                                sequence = @"";
                                            }
                                            else{
                                                sequence = [[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"];
                                            }
                                            
                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Length"]]) {
                                                length = @"";
                                            }
                                            else{
                                                length = [[fieldsArray objectAtIndex:l] objectForKey:@"Length"];
                                            }
                                            
                                            if ([docTypeItem isEqualToString:@"WC"]){
                                                [transactionsComponentsCustomFields addObject:[NSMutableArray arrayWithObjects:docType,docTypeItem,tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                            }
                                        }
                                        
                                        customFieldsComponentsTransactionsID = transactionsComponentsCustomFields;
                                    }
                                    
                                    [orderPartsListArray addObject:[NSArray arrayWithObjects:orderDetailComponentTransactionListArray,customFieldsComponentsTransactionsID, nil]];
                                    
                                    [orderPartsListArray addObject:[NSArray arrayWithObjects:orderDetailComponentTransactionListArray,[NSArray array], nil]];
                                    
                                }
                            }
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderTransactionArray objectAtIndex:i]] replaceObjectAtIndex:3 withObject:orderTransactionListArray];
                        
                        [[orderDetailDictionary objectForKey:[orderTransactionArray objectAtIndex:i]] replaceObjectAtIndex:4 withObject:orderPartsListArray];
                    }
                    
                    [orderTransactionArray removeAllObjects];
                    
                    ////////////
                    
                    [orderWsmSafetyMeasuresArray addObjectsFromArray:[orderWSMSafetyMeasuresDictionary allKeys]];
                    
                    NSArray *recordIDWSMSafetyMeasuresArray;
                    NSDictionary *WSMSafetyMeasuresDictionary;
                    
                    for (int i =0; i<[orderWsmSafetyMeasuresArray count]; i++) {
                        
                        WSMSafetyMeasuresDictionary = [orderWSMSafetyMeasuresDictionary objectForKey:[orderWsmSafetyMeasuresArray objectAtIndex:i]];
                        recordIDWSMSafetyMeasuresArray = [WSMSafetyMeasuresDictionary allKeys];
                        NSMutableArray *orderWSMSafetyMeasuresListArray = [NSMutableArray new];
                        
                        //CREATE TABLE "ORDER_WSM_SAFETYMEASURES" ("orderwsm_header_id" VARCHAR, "orderwsm_aufnr" VARCHAR, "orderwsm_vornr_operation" VARCHAR,"orderwsm_description" VARCHAR, "orderwsm_safety_text_no" VARCHAR, "orderwsm_objid" VARCHAR, "orderwsm_objtype" VARCHAR, "orderwsm_safetychar" VARCHAR, "orderwsm_safetychar_text" VARCHAR, "orderwsm_action" VARCHAR)
                        
                        for (int j=0; j<[recordIDWSMSafetyMeasuresArray count]; j++) {
                            
                            NSMutableArray *orderDetailWSMSafetyListArray = [NSMutableArray new];
                            
                            tempDictionary = [WSMSafetyMeasuresDictionary objectForKey:[recordIDWSMSafetyMeasuresArray objectAtIndex:j]];
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"EamsAufnr"]]) {
                                [orderDetailWSMSafetyListArray addObject:@""];
                            }
                            else{
                                [orderDetailWSMSafetyListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                            }
                            
                            
                            [orderDetailWSMSafetyListArray addObject:@""];//operation
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Description"]]) {
                                [orderDetailWSMSafetyListArray addObject:@""];
                            }
                            else{
                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"Description"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"EamsSafetyTextNo"]]) {
                                [orderDetailWSMSafetyListArray addObject:@""];
                            }
                            else{
                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"EamsSafetyTextNo"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ObjId"]]) {
                                [orderDetailWSMSafetyListArray addObject:@""];
                            }
                            else{
                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"ObjId"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ObjType"]]) {
                                [orderDetailWSMSafetyListArray addObject:@""];
                            }
                            else{
                                
                                if ([[tempDictionary objectForKey:@"ObjType"] isEqualToString:@"DO"]) {
                                    
                                    [orderDetailWSMSafetyListArray addObject:@"Document"];
                                }
                                else{
                                    
                                    [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"ObjType"]];
                                }
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SafetyChar"]]) {
                                [orderDetailWSMSafetyListArray addObject:@""];
                            }
                            else{
                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"SafetyChar"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SafetyCharTxt"]]) {
                                [orderDetailWSMSafetyListArray addObject:@""];
                            }
                            else{
                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"SafetyCharTxt"]];
                            }
                            
                            [orderDetailWSMSafetyListArray addObject:@""];//selection
                            
                            [orderWSMSafetyMeasuresListArray addObject:orderDetailWSMSafetyListArray];
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderWsmSafetyMeasuresArray objectAtIndex:i]] replaceObjectAtIndex:5 withObject:orderWSMSafetyMeasuresListArray];
                    }
                    
                    [orderWsmSafetyMeasuresArray removeAllObjects];
                    
                    ///////////
                    
                    [orderStatusArray addObjectsFromArray:[orderStatusDictionary allKeys]];
                    
                    NSArray *recordIDorderStatusArray;
                    NSDictionary *EtorderStatusDictionary;
                    
                    for (int i =0; i<[orderStatusArray count]; i++) {
                        
                        EtorderStatusDictionary = [orderStatusDictionary objectForKey:[orderStatusArray objectAtIndex:i]];
                        recordIDorderStatusArray = [EtorderStatusDictionary allKeys];
                        
                        NSMutableArray *orderStatusDetailArray = [NSMutableArray new];
                        
                        BOOL act = NO;
                        
                        for (int j=0; j<[recordIDorderStatusArray count]; j++) {
                            
                            NSMutableDictionary *orderStatusListDictionary = [NSMutableDictionary new];
                            
                            tempDictionary = [EtorderStatusDictionary objectForKey:[recordIDorderStatusArray objectAtIndex:j]];
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_aufnr"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]] forKey:@"orders_aufnr"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_vornr_operation"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Vornr"] forKey:@"orders_vornr_operation"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_objnr"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Objnr"] forKey:@"orders_objnr"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stsma"]]) {
                                
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stsma"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stsma"] forKey:@"orders_stsma"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Inist"]]) {
                                
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_inist"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Inist"] forKey:@"orders_inist"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stonr"]]) {
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stonr"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stonr"] forKey:@"orders_stonr"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Hsonr"]]) {
                                
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_hsonr"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Hsonr"] forKey:@"orders_hsonr"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Nsonr"]]) {
                                
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_nsonr"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Nsonr"] forKey:@"orders_nsonr"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stat"]]) {
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stat"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Act"]]) {
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_act"];
                                
                                if (act ==YES) {
                                    [orderStatusListDictionary setObject:@"" forKey:@"orders_selected"];//Selection
                                }
                                else{
                                    
                                    [orderStatusListDictionary setObject:@"Y" forKey:@"orders_selected"];//Selection
                                }
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Act"] forKey:@"orders_act"];
                                [orderStatusListDictionary setObject:@"X" forKey:@"orders_selected"];//Selection
                                if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"E"]) {
                                    act = YES;
                                }
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt04"]]) {
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_txt04"];
                            }
                            else{
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt04"] forKey:@"orders_txt04"];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt30"]]) {
                                [orderStatusListDictionary setObject:@"" forKey:@"orders_txt30"];
                            }
                            else{
                                
                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt30"] forKey:@"orders_txt30"];
                            }
                            
                            [orderStatusDetailArray addObject:orderStatusListDictionary];
                            
                            if ([tempDictionary objectForKey:@"SystemStatus"]) {
                                
                                if ([[tempDictionary objectForKey:@"SystemStatus"] isKindOfClass:[NSArray class]]) {
                                    
                                    id systemStatus = [tempDictionary objectForKey:@"SystemStatus"];
                                    
                                    for (int k =0 ; k <[systemStatus count]; k++) {
                                        
                                        NSMutableDictionary *orderStatusListDictionary = [NSMutableDictionary new];
                                        
                                        tempDictionary = [systemStatus objectAtIndex:k];
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_aufnr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]] forKey:@"orders_aufnr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_vornr_operation"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Vornr"] forKey:@"orders_vornr_operation"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_objnr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Objnr"] forKey:@"orders_objnr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stsma"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stsma"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stsma"] forKey:@"orders_stsma"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Inist"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_inist"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Inist"] forKey:@"orders_inist"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stonr"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stonr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stonr"] forKey:@"orders_stonr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Hsonr"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_hsonr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Hsonr"] forKey:@"orders_hsonr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Nsonr"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_nsonr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Nsonr"] forKey:@"orders_nsonr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stat"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stat"];
                                        }
                                        else{
                                            
                                            if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"I"]) {
                                                
                                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                                
                                            }
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Act"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_act"];
                                            if (act ==YES) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_selected"];//Selection
                                            }
                                            else{
                                                [orderStatusListDictionary setObject:@"Y" forKey:@"orders_selected"];//Selection
                                            }
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Act"] forKey:@"orders_act"];
                                            
                                            [orderStatusListDictionary setObject:@"X" forKey:@"orders_selected"];//Selection
                                            
                                            if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"E"]) {
                                                act = YES;
                                            }
                                            
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt04"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_txt04"];
                                        }
                                        else{
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt04"] forKey:@"orders_txt04"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt30"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_txt30"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt30"] forKey:@"orders_txt30"];
                                        }
                                        
                                        [orderStatusDetailArray addObject:orderStatusListDictionary];
                                    }
                                }
                            }
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderStatusArray objectAtIndex:i]] replaceObjectAtIndex:6 withObject:orderStatusDetailArray];
                    }
                    
                    [orderStatusArray removeAllObjects];
                    
                    ////////////
                    
                    [orderOlistArray addObjectsFromArray:[orderOlistDictionary allKeys]];
                    
                    NSArray *recordOlistArray;
                    NSDictionary *orderObjectlistDictionary;
                    
                    for (int i =0; i<[orderOlistArray count]; i++) {
                        
                        orderObjectlistDictionary = [orderOlistDictionary objectForKey:[orderOlistArray objectAtIndex:i]];
                        recordOlistArray = [orderObjectlistDictionary allKeys];
                        NSMutableArray *orderObjectListArray = [NSMutableArray new];
                        
                        //CREATE TABLE "ORDER_OBJECTS" ("orderobject_header_id" VARCHAR, "orderobject_aufnr" VARCHAR, "orderobject_obknr" VARCHAR, "orderobject_obzae" VARCHAR, "orderobject_qmnum" VARCHAR, "orderobject_equnr" VARCHAR, "orderobject_strno" VARCHAR, "orderobject_tplnr" VARCHAR, "orderobject_bautl" VARCHAR, "orderobject_qmtxt" VARCHAR, "orderobject_pltxt" VARCHAR, "orderobject_eqktx" VARCHAR, "orderobject_maktx" VARCHAR, "orderobject_action" VARCHAR)
                        
                        for (int j=0; j<[recordOlistArray count]; j++) {
                            
                            NSMutableArray *orderDetailObjectListArray = [NSMutableArray new];
                            
                            tempDictionary = [orderObjectlistDictionary objectForKey:[recordOlistArray objectAtIndex:j]];
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Obknr"]]) {
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Obknr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Obzae"]]) {
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Obzae"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Qmnum"]]) {
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Qmnum"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Equnr"]]) {
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Equnr"]];
                                
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Strno"]]) {
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Strno"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Tplnr"]]) {
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Tplnr"]];
                            }
                            
                            if([NullChecker isNull:[tempDictionary objectForKey:@"Bautl"]]){
                                
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Bautl"]];
                            }
                            
                            if([NullChecker isNull:[tempDictionary objectForKey:@"Qmtxt"]]){
                                
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Qmtxt"]];
                            }
                            
                            if([NullChecker isNull:[tempDictionary objectForKey:@"Pltxt"]]){
                                
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Pltxt"]];
                            }
                            
                            if([NullChecker isNull:[tempDictionary objectForKey:@"Eqktx"]]){
                                
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Eqktx"]];
                            }
                            
                            if([NullChecker isNull:[tempDictionary objectForKey:@"Maktx"]]){
                                
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Maktx"]];
                            }
                            
                            if([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]){
                                
                                [orderDetailObjectListArray addObject:@""];
                            }
                            else{
                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Action"]];
                            }
                            
                            [orderObjectListArray addObject:orderDetailObjectListArray];
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderOlistArray objectAtIndex:i]] replaceObjectAtIndex:7 withObject:orderObjectListArray];
                    }
                    
                    [orderOlistArray removeAllObjects];
                    
                    ////////////
                    
                    responseObject = nil;
                    
                    [orderMeasurementDocumentsArray addObjectsFromArray:[orderMeasurementDocumentsDictionary allKeys]];
                    
                    NSArray *recordIDMDocsArray;
                    NSDictionary *mDocsDictionary;
                    
                    for (int i =0; i<[orderMeasurementDocumentsArray  count]; i++) {
                        mDocsDictionary = [orderMeasurementDocumentsDictionary objectForKey:[orderMeasurementDocumentsArray objectAtIndex:i]];
                        recordIDMDocsArray = [mDocsDictionary allKeys];
                        NSMutableArray *orderMDocsListArray = [NSMutableArray new];
                        
                        for (int j=0; j<[recordIDMDocsArray count]; j++) {
                            NSMutableArray *orderDetailMDocsListArray = [NSMutableArray new];
                            
                            tempDictionary = [mDocsDictionary objectForKey:[recordIDMDocsArray objectAtIndex:j]];
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Qmnum"]]) {
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Qmnum"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Aufnr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Vornr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mdocm"]]) {
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mdocm"]];
                            }
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Point"]]) {
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Point"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mpobj"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mpobj"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mpobt"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mpobt"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Psort"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Psort"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pttxt"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Pttxt"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Atinn"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Atinn"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Idate"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Idate"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Itime"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Itime"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mdtxt"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mdtxt"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Readr"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Readr"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Atbez"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Atbez"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Msehi"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];//
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Msehi"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Msehl"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Msehl"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Readc"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Readc"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Desic"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Desic"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prest"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Prest"]];
                            }
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Docaf"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Docaf"]];
                            }
                            
                            
                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                
                                [orderDetailMDocsListArray addObject:@""];
                            }
                            else{
                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Action"]];
                            }
                            
                            [orderMDocsListArray addObject:orderDetailMDocsListArray];
                        }
                        
                        [[orderDetailDictionary objectForKey:[orderMeasurementDocumentsArray objectAtIndex:i]] replaceObjectAtIndex:11 withObject:orderMDocsListArray];
                    }
                    
                    [orderMeasurementDocumentsArray removeAllObjects];
                    
                    ///
                    
                    NSArray *objectIds = [orderDetailDictionary allKeys];
                    
                    if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                    {
                        [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#No of Due Orders received:%lu",(unsigned long)[objectIds count]]];
                    }
                    
                    for (int i=0; i<[objectIds count]; i++) {
                        
                        if (i ==1) {
                            
                            [orderWcmOperationWCDTaggingConditionsArray removeAllObjects];
                            [orderWcmPermitsStandardCheckPoints removeAllObjects];
                        }
                        
                        [[DataBase sharedInstance] insertDataIntoOrderHeader:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] firstObject] withAttachments:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:2] withPermitWorkApprovalsDetails:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:1] withOperation:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:3] withParts:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:4] withWSM:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:5] withObjects:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:7] withSystemStatus:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:6] withPermitsWorkApplications:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:8] withIssuePermits:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:9] withPermitsOperationWCD:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:10] withPermitsOperationWCDTagiingConditions:orderWcmOperationWCDTaggingConditionsArray withPermitsStandardCheckPoints:orderWcmPermitsStandardCheckPoints withMeasurementDocs:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:11]];
                    }
                }
                
                [self searchMyOrdersFromSqlite:nil];
                [MBProgressHUD hideHUDForView:self.view animated:YES];

            }
            else{
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];

                 [self showAlertMessageWithTitle:@"FieldTekPro" message:errorDescription cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
             }
 
            break;
            
        case ORDER_COLLECTIVE_CONFIRMATION:
            
            if (!errorDescription.length) {
                
                NSMutableDictionary *parsedDictionary = [[Response sharedInstance] parseForColletctiveConfirmOrder:resultData];
                
                if ([parsedDictionary objectForKey:@"Message"]) {
                    NSMutableString *messageString = [NSMutableString stringWithString:@""];
 
                        if ([[[parsedDictionary objectForKey:@"MESSAGE"] substringToIndex:1] isEqualToString:@"S"])
                        {
                           
                            [messageString appendString:[NSString stringWithFormat:@"%@\n", [[parsedDictionary objectForKey:@"MESSAGE"] substringFromIndex:1]]];
                            
                            [[DataBase sharedInstance] updateSyncLogForCategory:@"Order" action:@"Collective Confirm" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"]];
                            
                            if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                            {
                                [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Activity:Collective Confirmation#Orderno:%@ #Mode:Online #Class: Very Important #MUser:%@ #DeviceId:%@",[parsedDictionary objectForKey:@"OBJECTID"],decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
                            }
                            
                            if ([parsedDictionary objectForKey:@"resultHeader"]) {
                                //                                id parsedResult = [parsedDictionary objectForKey:@"resultHeader"];
                                
                                if ([parsedDictionary objectForKey:@"resultHeader"]) {
                                    
                                    NSMutableDictionary *orderDetailDictionary = [[NSMutableDictionary alloc] init];
                                    id responseObject;
                                    NSMutableArray *orderOperationArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderDocsArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderHeaderArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderWsmSafetyMeasuresArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmWorkApprovalListArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmWorkApplicationListArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmIssuePermitsArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmOperationWCDArray = [[NSMutableArray alloc]init];
                                    NSMutableArray *orderWcmOperationWCDTaggingConditionsArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderWcmPermitsStandardCheckPoints = [NSMutableArray new];
                                    
                                    NSMutableArray *orderStatusArray = [[NSMutableArray alloc] init];
                                    NSMutableArray *orderOlistArray = [[NSMutableArray alloc] init];
                                    
                                    NSMutableArray *orderMeasurementDocumentsArray = [NSMutableArray new];
                                    
                                    NSDictionary *headerDictionary;
                                    
                                    responseObject = nil;
                                    responseObject = [parsedDictionary objectForKey:@"resultHeader"];
                                    
                                    [orderHeaderArray addObjectsFromArray:responseObject];
                                    
                                    NSDateFormatter *dateFormate = [[NSDateFormatter alloc] init];
                                    [dateFormate setDateFormat:@"yyyy-MM-dd"];
                                    NSMutableDictionary *currentHeaderDictionary;
                                    
                                    for (int i=0; i<[orderHeaderArray count]; i++) {
                                        
                                        if ([[orderHeaderArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderHeaderArray objectAtIndex:i];
                                            currentHeaderDictionary = [[NSMutableDictionary alloc] init];
                                            if ([headerDictionary objectForKey:@"Aufnr"]) {
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Aufnr"] copy] forKey:@"OBJECTID"];
                                            }
                                            else
                                            {
                                                [currentHeaderDictionary setObject:@" " forKey:@"OBJECTID"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Auart"] copy] forKey:@"OID"];
                                            
                                            if ([NullChecker isNull:[headerDictionary objectForKey:@"Ktext"]]) {
                                                [currentHeaderDictionary setObject:@"" forKey:@"SHORTTEXT"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Ktext"] copy] forKey:@"SHORTTEXT"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Gltrp"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Gltrp"] forKey:@"EDATE"];
                                                
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"EDATE"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Gstrp"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Gstrp"] forKey:@"SDATE"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"SDATE"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Ernam"] copy] forKey:@"REPORTEDBY"];
                                            if ([headerDictionary objectForKey:@"Priok"]) {
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Priok"] copy] forKey:@"OPID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"OPID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Equnr"]) {
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Equnr"] copy] forKey:@"EQID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"EQID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Strno"]) {
                                                [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Strno"] copy] forKey:@"FID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"FID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Xstatus"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Xstatus"] forKey:@"OSTATUS"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"Assigned" forKey:@"OSTATUS"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Docs"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Docs"] forKey:@"DOCS"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"DOCS"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Werks"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Werks"] forKey:@"PLANTID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"PLANTID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Plantname"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Plantname"] forKey:@"PLANTNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"PLANTNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Arbpl"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Arbpl"] forKey:@"WORKCENTERID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"WORKCENTERID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Wkctrname"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Wkctrname"] forKey:@"WORKCENTERNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"WORKCENTERNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Ausvn"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ausvn"] forKey:@"MALFUNCTIONSTARTDATE"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"MALFUNCTIONSTARTDATE"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Ausbs"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ausbs"] forKey:@"MALFUNCTIONENDDATE"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"MALFUNCTIONENDDATE"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Qmnam"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Qmnam"] forKey:@"NREPORTEDBY"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"NREPORTEDBY"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Msaus"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Msaus"] forKey:@"BREAKDOWN"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"BREAKDOWN"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Auswk"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auswk"] forKey:@"EFFECTID"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"EFFECTID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Auswkt"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auswkt"] forKey:@"EFFECTNAME"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"EFFECTNAME"];
                                            }
                                            
                                            
                                            if ([headerDictionary objectForKey:@"Anlzu"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Anlzu"] forKey:@"SYSTEMCONDITIONID"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"SYSTEMCONDITIONID"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Anlzux"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Anlzux"] forKey:@"SYSTEMCONDITIONTEXT"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"SYSTEMCONDITIONTEXT"];
                                            }
                                            
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"LATITUDE"];
                                            [currentHeaderDictionary setObject:@"" forKey:@"LONGITUDE"];
                                            [currentHeaderDictionary setObject:@"" forKey:@"ALTITUDE"];
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"workarea"];
                                            [currentHeaderDictionary setObject:@"" forKey:@"costcenter"];
                                            
                                            if ([headerDictionary objectForKey:@"Kokrs"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kokrs"] forKey:@"workarea"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Kostl"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kostl"] forKey:@"costcenter"];
                                            }
                                            
                                            
                                            if ([headerDictionary objectForKey:@"EquiHistory"]) {
                                                id equipmentHisory = [headerDictionary objectForKey:@"EquiHistory"];
                                                if ([equipmentHisory objectForKey:@"item"]) {
                                                    equipmentHisory = [equipmentHisory objectForKey:@"item"];
                                                    if ([equipmentHisory isKindOfClass:[NSDictionary class]]) {
                                                        [currentHeaderDictionary setObject:[NSMutableArray arrayWithObject:equipmentHisory] forKey:@"EQUIPMENTHISTORY"];
                                                    }
                                                    else if ([equipmentHisory isKindOfClass:[NSArray class]]){
                                                        [currentHeaderDictionary setObject:equipmentHisory forKey:@"EQUIPMENTHISTORY"];
                                                    }
                                                }
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Fields"]) {
                                                NSMutableArray *fieldsMutArray = [NSMutableArray new];
                                                NSMutableArray *tempfieldsMutArray = [NSMutableArray new];
                                                
                                                if ([[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                                    [tempfieldsMutArray addObjectsFromArray:[NSMutableArray arrayWithObject:[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"]]];
                                                }
                                                else if ([[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSArray class]]) {
                                                    [tempfieldsMutArray addObjectsFromArray:[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"]];
                                                }
                                                
                                                //                                NSArray *fieldsArray = [[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                                                for (int i =0; i<[tempfieldsMutArray count]; i++) {
                                                    NSString *fieldValue,*fieldName,*fLabel,*tabName,*dataType,*sequence,*length;
                                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Fieldname"]]) {
                                                        fieldName = @"";
                                                    }
                                                    else{
                                                        fieldName = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Fieldname"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Flabel"]]) {
                                                        fLabel = @"";
                                                    }
                                                    else{
                                                        fLabel = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Flabel"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Tabname"]]) {
                                                        tabName = @"";
                                                    }
                                                    else{
                                                        tabName = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Tabname"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Value"]]) {
                                                        fieldValue = @"";
                                                    }
                                                    else{
                                                        fieldValue = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Value"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Datatype"]]) {
                                                        dataType = @"";
                                                    }
                                                    else{
                                                        dataType = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Datatype"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Sequence"]]) {
                                                        sequence = @"";
                                                    }
                                                    else{
                                                        sequence = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Sequence"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Length"]]) {
                                                        length = @"";
                                                    }
                                                    else{
                                                        length = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Length"];
                                                    }
                                                    
                                                    
                                                    [fieldsMutArray addObject:[NSMutableArray arrayWithObjects:@"W",@"WH",tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                                }
                                                
                                                [currentHeaderDictionary setObject:fieldsMutArray forKey:@"CFH"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"LONGTEXT"];
                                            [currentHeaderDictionary setObject:[[DataBase sharedInstance] fetchNameForIDKey:@"ORDEROBJECTID" forValue:[currentHeaderDictionary objectForKey:@"OBJECTID"]] forKey:@"ID"];
                                            if (![[currentHeaderDictionary objectForKey:@"ID"] length]) {
                                                
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Auarttext"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auarttext"] forKey:@"ONAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Priokx"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Priokx"] forKey:@"OPNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"OPNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Pltxt"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Pltxt"] forKey:@"FNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"FNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Eqktx"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Eqktx"] forKey:@"EQNAME"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"EQNAME"];
                                            }
                                            
                                            if ([headerDictionary  objectForKey:@"Bemot"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Bemot"] forKey:@"ACCINCID"];
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Bemot"] forKey:@"ACCINCNAME"];
                                            }
                                            else{
                                                [currentHeaderDictionary setObject:@"" forKey:@"ACCINCID"];
                                                [currentHeaderDictionary setObject:@"" forKey:@"ACCINCNAME"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Kokrs"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kokrs"] forKey:@"workarea"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"workarea"];
                                            }
                                            
                                            if ([headerDictionary objectForKey:@"Kostl"]) {
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kostl"] forKey:@"costcenter"];
                                            }
                                            else{
                                                
                                                [currentHeaderDictionary setObject:@"" forKey:@"costcenter"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"NOSYNCLOG"];
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"QMNUM"];
                                            
                                            if ([headerDictionary objectForKey:@"Qmnum"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Qmnum"] forKey:@"QMNUM"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr01"];
                                            if ([headerDictionary objectForKey:@"Usr01"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr01"] forKey:@"usr01"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr02"];
                                            if ([headerDictionary objectForKey:@"Usr02"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr02"] forKey:@"usr02"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr03"];
                                            if ([headerDictionary objectForKey:@"Usr03"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr03"] forKey:@"usr03"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr04"];
                                            if ([headerDictionary objectForKey:@"Usr04"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr04"] forKey:@"usr04"];
                                            }
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"usr05"];
                                            if ([headerDictionary objectForKey:@"Usr05"]) {
                                                
                                                [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr04"] forKey:@"usr05"];
                                            }
                                            
                                            [orderDetailDictionary setObject:[NSMutableArray arrayWithObjects:currentHeaderDictionary,[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array], nil] forKey:[currentHeaderDictionary objectForKey:@"OBJECTID"]];
                                        }
                                    }
                                    
                                    [orderHeaderArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderOlistDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempOlistDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultOrderOlist"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultOrderOlist"];
                                        
                                        [orderOlistArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderOlistArray count]; i++) {
                                            if ([[orderOlistArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderOlistArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderOlistDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempOlistDictionary = [orderOlistDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempOlistDictionary objectForKey:[headerDictionary objectForKey:@"Obknr"]]) {
                                                            tempOlistDictionary = [tempOlistDictionary objectForKey:[headerDictionary objectForKey:@"Obknr"]];
                                                            [tempOlistDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempOlistDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Obknr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderOlistDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Obknr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderOlistArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderDocsDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempDocsDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultDocs"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultDocs"];
                                        
                                        [orderDocsArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderDocsArray count]; i++) {
                                            if ([[orderDocsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderDocsArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]]) {
                                                    if ([orderDocsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]]) {
                                                        tempDocsDictionary = [orderDocsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]];
                                                        if ([tempDocsDictionary objectForKey:[headerDictionary objectForKey:@"Filename"]]) {
                                                            tempDocsDictionary = [tempDocsDictionary objectForKey:[headerDictionary objectForKey:@"Filename"]];
                                                            [tempDocsDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempDocsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Filename"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderDocsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Filename"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderDocsArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderTransactionDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    
                                    NSMutableDictionary *tempDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultOperationsTransactions"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultOperationsTransactions"];
                                        
                                        [orderOperationArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderOperationArray count]; i++) {
                                            if ([[orderOperationArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderOperationArray objectAtIndex:i];
                                                
                                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    if ([orderTransactionDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                        tempDictionary = [orderTransactionDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                        if ([tempDictionary objectForKey:[headerDictionary objectForKey:@"Vornr"]]) {
                                                            tempDictionary = [tempDictionary objectForKey:[headerDictionary objectForKey:@"Vornr"]];
                                                            [tempDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else
                                                        {
                                                            [tempDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Vornr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderTransactionDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Vornr"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderOperationArray removeAllObjects];
                                    
                                    responseObject = nil;
                                    NSMutableArray *orderTransactionArray = [[NSMutableArray alloc] init];
                                    
                                    if ([parsedDictionary objectForKey:@"resultComponentsTransactions"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultComponentsTransactions"];
                                        
                                        if ([responseObject isKindOfClass:[NSDictionary class]]) {
                                            [orderTransactionArray addObject:responseObject];
                                        }
                                        else if ([responseObject isKindOfClass:[NSArray class]])
                                        {
                                            [orderTransactionArray addObjectsFromArray:responseObject];
                                        }
                                        
                                        NSDictionary *transactionDictionary;
                                        
                                        for (int i=0; i<[orderTransactionArray count]; i++) {
                                            
                                            if ([[orderTransactionArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                
                                                transactionDictionary = [orderTransactionArray objectAtIndex:i];
                                                
                                                if ([orderDetailDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]]) {
                                                    
                                                    if ([orderTransactionDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]]) {
                                                        
                                                        tempDictionary = [orderTransactionDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]];
                                                        
                                                        if ([tempDictionary objectForKey:[transactionDictionary objectForKey:@"Vornr"]]) {
                                                            
                                                            tempDictionary = [tempDictionary objectForKey:[transactionDictionary objectForKey:@"Vornr"]];
                                                            
                                                            if ([tempDictionary objectForKey:@"Components"]) {
                                                                
                                                                NSMutableArray *componentArray = [tempDictionary objectForKey:@"Components"];
                                                                
                                                                [componentArray addObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary]];
                                                            }
                                                            else
                                                            {
                                                                [tempDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary]] forKey:@"Components"];
                                                            }
                                                        }
                                                        else
                                                        {
                                                            [tempDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary] forKey:[transactionDictionary objectForKey:@"Vornr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderTransactionDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary] forKey:[transactionDictionary objectForKey:@"Vornr"]] forKey:[transactionDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [orderTransactionArray removeAllObjects];
                                    }
                                    
                                    NSMutableDictionary *orderMeasurementDocumentsDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    
                                    NSMutableDictionary *measureMentDocsDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultMeasurementDocuments"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultMeasurementDocuments"];
                                        
                                        [orderMeasurementDocumentsArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderMeasurementDocumentsArray count]; i++) {
                                            if ([[orderMeasurementDocumentsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderMeasurementDocumentsArray objectAtIndex:i];
                                                
                                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    if ([orderMeasurementDocumentsDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                        tempDictionary = [orderMeasurementDocumentsDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                        if ([tempDictionary objectForKey:[headerDictionary objectForKey:@"Mdocm"]]) {
                                                            measureMentDocsDictionary = [tempDictionary objectForKey:[headerDictionary objectForKey:@"Mdocm"]];
                                                            [measureMentDocsDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else
                                                        {
                                                            [measureMentDocsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Mdocm"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderMeasurementDocumentsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Mdocm"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderMeasurementDocumentsArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderWSMSafetyMeasuresDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempWSMSafetyMeasuresDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultWSMSafetyMeasures"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultWSMSafetyMeasures"];
                                        
                                        [orderWsmSafetyMeasuresArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWsmSafetyMeasuresArray count]; i++) {
                                            
                                            if ([[orderWsmSafetyMeasuresArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWsmSafetyMeasuresArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]]) {
                                                    if ([orderWSMSafetyMeasuresDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]]) {
                                                        tempWSMSafetyMeasuresDictionary = [orderWSMSafetyMeasuresDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                                        if ([tempWSMSafetyMeasuresDictionary objectForKey:[headerDictionary objectForKey:@"ObjId"]]) {
                                                            tempWSMSafetyMeasuresDictionary = [tempWSMSafetyMeasuresDictionary objectForKey:[headerDictionary objectForKey:@"ObjId"]];
                                                            [tempWSMSafetyMeasuresDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWSMSafetyMeasuresDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"ObjId"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWSMSafetyMeasuresDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"ObjId"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWsmSafetyMeasuresArray removeAllObjects];
                                    
                                    NSMutableDictionary *orderWCMWorkApprovalListDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempWCMWorkApprovalListDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultWorkApprovalsData"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultWorkApprovalsData"];
                                        
                                        [orderWcmWorkApprovalListArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWcmWorkApprovalListArray count]; i++) {
                                            
                                            if ([[orderWcmWorkApprovalListArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWcmWorkApprovalListArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderWCMWorkApprovalListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempWCMWorkApprovalListDictionary = [orderWCMWorkApprovalListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapnr"]]) {
                                                            tempWCMWorkApprovalListDictionary = [tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapnr"]];
                                                            [tempWCMWorkApprovalListDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWCMWorkApprovalListDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapnr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWCMWorkApprovalListDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWcmWorkApprovalListArray removeAllObjects];
                                    
                                    
                                    NSMutableDictionary *orderWCMWorkApplicationListDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempWCMWorkApplicationListDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultWorkApplicationData"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultWorkApplicationData"];
                                        
                                        [orderWcmWorkApplicationListArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWcmWorkApplicationListArray count]; i++) {
                                            
                                            if ([[orderWcmWorkApplicationListArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWcmWorkApplicationListArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderWCMWorkApplicationListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempWCMWorkApplicationListDictionary = [orderWCMWorkApplicationListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempWCMWorkApplicationListDictionary objectForKey:[headerDictionary objectForKey:@"Wapinr"]]) {
                                                            tempWCMWorkApplicationListDictionary = [tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapinr"]];
                                                            [tempWCMWorkApplicationListDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWCMWorkApplicationListDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapinr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWCMWorkApplicationListDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapinr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWcmWorkApplicationListArray removeAllObjects];
                                    
                                    ///
                                    NSMutableDictionary *orderWCMIssuePermitsDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    NSMutableDictionary *tempWCMIssuePermitsDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultIssuePermits"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultIssuePermits"];
                                        
                                        [orderWcmIssuePermitsArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWcmIssuePermitsArray count]; i++) {
                                            
                                            if ([[orderWcmIssuePermitsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWcmIssuePermitsArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderWCMIssuePermitsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempWCMIssuePermitsDictionary = [orderWCMIssuePermitsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempWCMIssuePermitsDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]]) {
                                                            tempWCMIssuePermitsDictionary = [tempWCMIssuePermitsDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]];
                                                            [tempWCMIssuePermitsDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWCMIssuePermitsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWCMIssuePermitsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWcmIssuePermitsArray removeAllObjects];
                                    
                                    //
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultOperationWCDItemData"];
                                    
                                    for (int i = 0; i<[responseObject count]; i++) {
                                        NSMutableArray *orderDetailWCMOperationWCDTaggingConditionsArray = [NSMutableArray new];
                                        
                                        tempDictionary = [responseObject objectAtIndex:i];
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Wcnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcitm"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Wcitm"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Itmtyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Itmtyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Seq"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Seq"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Pred"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Pred"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Succ"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Succ"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Ccobj"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Ccobj"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Cctyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Cctyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tggrp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tggrp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgstep"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgstep"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgproc"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgproc"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgtyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgtyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgseq"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgseq"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgtxt"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgtxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unstep"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unstep"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unproc"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unproc"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Untyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Untyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unseq"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unseq"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Untxt"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Untxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phblflg"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phblflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phbltyp"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phbltyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Phblnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phblnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgflg"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgform"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgform"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unform"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unform"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Unnr"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Control"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Control"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Location"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Location"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Btg"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Btg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etg"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Etg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Bug"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Bug"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Eug"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Eug"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        [orderWcmOperationWCDTaggingConditionsArray addObject:orderDetailWCMOperationWCDTaggingConditionsArray];
                                    }
                                    
                                    ///
                                    responseObject = nil;
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultStandardCheckPoints"];
                                    
                                    for (int i = 0; i<[responseObject count]; i++) {
                                        
                                        NSMutableArray *orderDetailWCMStandardCheckPointsArray = [NSMutableArray new];
                                        
                                        tempDictionary = [responseObject objectAtIndex:i];
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapinr"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wapinr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapityp"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wapityp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Needid"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Needid"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Value"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Value"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"ChkPointType"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"ChkPointType"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Desctext"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Desctext"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tplnr"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Tplnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Equnr"]]) {
                                            [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Equnr"]];
                                        }
                                        
                                        [orderWcmPermitsStandardCheckPoints addObject:orderDetailWCMStandardCheckPointsArray];
                                    }
                                    
                                    NSMutableDictionary *orderWCMOperationWCDDictionary = [[NSMutableDictionary alloc] init];
                                    responseObject = nil;
                                    
                                    NSMutableDictionary *tempWCMOperationWCDDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultOperationWCDData"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultOperationWCDData"];
                                        
                                        [orderWcmOperationWCDArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderWcmOperationWCDArray count]; i++) {
                                            
                                            if ([[orderWcmOperationWCDArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                headerDictionary = [orderWcmOperationWCDArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    if ([orderWCMOperationWCDDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                        tempWCMOperationWCDDictionary = [orderWCMOperationWCDDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                        if ([tempWCMOperationWCDDictionary objectForKey:[headerDictionary objectForKey:@"Wcnr"]]) {
                                                            tempWCMOperationWCDDictionary = [tempWCMOperationWCDDictionary objectForKey:[headerDictionary objectForKey:@"Wcnr"]];
                                                            [tempWCMOperationWCDDictionary addEntriesFromDictionary:headerDictionary];
                                                        }
                                                        else{
                                                            [tempWCMOperationWCDDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wcnr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderWCMOperationWCDDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wcnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderWcmOperationWCDArray removeAllObjects];
                                    
                                    ///
                                    responseObject = nil;
                                    
                                    NSMutableDictionary *orderStatusDictionary = [[NSMutableDictionary alloc] init];
                                    
                                    NSMutableDictionary *tempOrderStatusDictionary;
                                    
                                    if ([parsedDictionary objectForKey:@"resultOrderStatus"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultOrderStatus"];
                                        
                                        [orderStatusArray addObjectsFromArray:responseObject];
                                        
                                        for (int i=0; i<[orderStatusArray count]; i++) {
                                            
                                            if ([[orderStatusArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                
                                                headerDictionary = [orderStatusArray objectAtIndex:i];
                                                
                                                if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    
                                                    if ([orderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                        
                                                        tempOrderStatusDictionary = [orderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                        
                                                        if ([tempOrderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]]) {
                                                            
                                                            tempOrderStatusDictionary = [tempOrderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]];
                                                            
                                                            if ([tempOrderStatusDictionary objectForKey:@"SystemStatus"]) {
                                                                
                                                                NSMutableArray *systemStatusArray = [tempOrderStatusDictionary objectForKey:@"SystemStatus"];
                                                                
                                                                [systemStatusArray addObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]];
                                                            }
                                                            else
                                                            {
                                                                [tempOrderStatusDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]] forKey:@"SystemStatus"];
                                                            }
                                                        }
                                                        else
                                                        {
                                                            [tempOrderStatusDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [orderStatusDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderStatusArray removeAllObjects];
                                    
                                    if ([parsedDictionary objectForKey:@"resultLongText"]) {
                                        
                                        responseObject = [parsedDictionary objectForKey:@"resultLongText"];
                                        
                                        NSMutableArray *orderTextnArray = [[NSMutableArray alloc] init];
                                        if ([responseObject isKindOfClass:[NSDictionary class]]) {
                                            [orderTextnArray addObject:responseObject];
                                        }
                                        else if ([responseObject isKindOfClass:[NSArray class]])
                                        {
                                            [orderTextnArray addObjectsFromArray:responseObject];
                                        }
                                        
                                        NSDictionary *textDictionary;
                                        for (int i=0; i<[orderTextnArray count]; i++) {
                                            if ([[orderTextnArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                                textDictionary = [orderTextnArray objectAtIndex:i];
                                                if ([orderDetailDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]]) {
                                                    if ([textDictionary objectForKey:@"Activity"]) {
                                                        tempDictionary = [orderTransactionDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]];
                                                        if (tempDictionary) {
                                                            tempDictionary = [tempDictionary objectForKey:[textDictionary objectForKey:@"Activity"]];
                                                            if (tempDictionary) {
                                                                id longText = [tempDictionary objectForKey:@"OPTLONGTEXT"];
                                                                NSString *textLine = [textDictionary objectForKey:@"TextLine"];
                                                                if (!textLine.length) {
                                                                    textLine = @"";
                                                                }
                                                                if ([longText length]) {
                                                                    [tempDictionary setObject:[NSString stringWithFormat:@"%@\n%@",longText,textLine] forKey:@"OPTLONGTEXT"];
                                                                }
                                                                else
                                                                {
                                                                    [tempDictionary setObject:[NSString stringWithString:textLine] forKey:@"OPTLONGTEXT"];
                                                                }
                                                            }
                                                        }
                                                    }
                                                    else
                                                    {
                                                        NSMutableDictionary *headerDictionary = [[orderDetailDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]] firstObject];
                                                        NSString *textLine = [textDictionary objectForKey:@"TextLine"];
                                                        
                                                        if (!textLine.length) {
                                                            textLine = @"";
                                                        }
                                                        
                                                        if ([[headerDictionary objectForKey:@"LONGTEXT"] length]) {
                                                            [headerDictionary setObject:[NSString stringWithFormat:@"%@\n%@",[headerDictionary objectForKey:@"LONGTEXT"],textLine] forKey:@"LONGTEXT"];
                                                        }
                                                        else
                                                        {
                                                            [headerDictionary setObject:[NSString stringWithFormat:@"%@",textLine] forKey:@"LONGTEXT"];
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [orderTransactionArray removeAllObjects];
                                    }
                                    
                                    /////
                                    responseObject = nil;
                                    
                                    [orderWcmWorkApplicationListArray addObjectsFromArray:[orderWCMWorkApplicationListDictionary allKeys]];
                                    
                                    NSArray *recordIDWCMWorkApplicationListArray;
                                    NSDictionary *WCMWorkApplicationListDictionary;
                                    
                                    for (int i =0; i<[orderWcmWorkApplicationListArray  count]; i++) {
                                        
                                        NSMutableArray *wcmWorkApplicationListArray = [NSMutableArray new];
                                        
                                        WCMWorkApplicationListDictionary = [orderWCMWorkApplicationListDictionary objectForKey:[orderWcmWorkApplicationListArray objectAtIndex:i]];
                                        recordIDWCMWorkApplicationListArray = [WCMWorkApplicationListDictionary allKeys];
                                        
                                        for (int j=0; j<[recordIDWCMWorkApplicationListArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWCMWorkApplicationListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WCMWorkApplicationListDictionary objectForKey:[recordIDWCMWorkApplicationListArray objectAtIndex:j]];
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapinr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Wapinr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                [orderDetailWCMWorkApplicationListArray addObject:@""];//Action
                                            }
                                            else{
                                                [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            [wcmWorkApplicationListArray addObject:orderDetailWCMWorkApplicationListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWcmWorkApplicationListArray objectAtIndex:i]] replaceObjectAtIndex:8 withObject:wcmWorkApplicationListArray];
                                    }
                                    
                                    [orderWcmWorkApplicationListArray removeAllObjects];
                                    
                                    /////
                                    responseObject = nil;
                                    
                                    [orderWcmOperationWCDArray addObjectsFromArray:[orderWCMOperationWCDDictionary allKeys]];
                                    
                                    NSArray *recordIDWCMOperationWCDListArray;
                                    NSDictionary *WCMOperationWCDListDictionary;
                                    
                                    for (int i =0; i<[orderWcmOperationWCDArray  count]; i++) {
                                        
                                        NSMutableArray *wcmOperationWCDListArray = [NSMutableArray new];
                                        
                                        WCMOperationWCDListDictionary = [orderWCMOperationWCDDictionary objectForKey:[orderWcmOperationWCDArray objectAtIndex:i]];
                                        recordIDWCMOperationWCDListArray = [WCMOperationWCDListDictionary allKeys];
                                        
                                        for (int j=0; j<[recordIDWCMOperationWCDListArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWCMOperationWCDListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WCMOperationWCDListDictionary objectForKey:[recordIDWCMOperationWCDListArray objectAtIndex:j]];
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcnr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Wcnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                [orderDetailWCMOperationWCDListArray addObject:@""];//Action
                                            }
                                            else{
                                                [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            [wcmOperationWCDListArray addObject:orderDetailWCMOperationWCDListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWcmOperationWCDArray objectAtIndex:i]] replaceObjectAtIndex:10 withObject:wcmOperationWCDListArray];
                                    }
                                    
                                    [orderWcmWorkApplicationListArray removeAllObjects];
                                    
                                    /////
                                    responseObject = nil;
                                    
                                    [orderWcmWorkApprovalListArray addObjectsFromArray:[orderWCMWorkApprovalListDictionary allKeys]];
                                    
                                    NSArray *recordIDWCMWorkApprovalListArray;
                                    NSDictionary *WCMWorkApprovalListDictionary;
                                    
                                    for (int i =0; i<[orderWcmWorkApprovalListArray  count]; i++) {
                                        
                                        WCMWorkApprovalListDictionary = [orderWCMWorkApprovalListDictionary objectForKey:[orderWcmWorkApprovalListArray objectAtIndex:i]];
                                        recordIDWCMWorkApprovalListArray = [WCMWorkApprovalListDictionary allKeys];
                                        NSMutableArray *wcmWorkApprovalListArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDWCMWorkApprovalListArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWCMWorkApprovalListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WCMWorkApprovalListDictionary objectForKey:[recordIDWCMWorkApprovalListArray objectAtIndex:j]];
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapnr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Wapnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pappr"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Pappr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                [orderDetailWCMWorkApprovalListArray addObject:@""];//Action
                                            }
                                            else{
                                                [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            [wcmWorkApprovalListArray addObject:orderDetailWCMWorkApprovalListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWcmWorkApprovalListArray objectAtIndex:i]] replaceObjectAtIndex:1 withObject:wcmWorkApprovalListArray];
                                    }
                                    
                                    [orderWcmWorkApprovalListArray removeAllObjects];
                                    
                                    /////
                                    responseObject = nil;
                                    
                                    [orderWcmIssuePermitsArray addObjectsFromArray:[orderWCMIssuePermitsDictionary allKeys]];
                                    
                                    NSArray *recordIDWCMIssuePermitsArray;
                                    NSDictionary *WCMIssuePermitsDictionary;
                                    
                                    for (int i =0; i<[orderWcmIssuePermitsArray  count]; i++) {
                                        
                                        WCMIssuePermitsDictionary = [orderWCMIssuePermitsDictionary objectForKey:[orderWcmIssuePermitsArray objectAtIndex:i]];
                                        recordIDWCMIssuePermitsArray = [WCMIssuePermitsDictionary allKeys];
                                        NSMutableArray *wcmIssuePermitsArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDWCMIssuePermitsArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWCMIssuePermitsArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WCMIssuePermitsDictionary objectForKey:[recordIDWCMIssuePermitsArray objectAtIndex:j]];
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Counter"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Counter"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Werks"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Werks"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Crname"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Crname"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pmsog"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Pmsog"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Gntxt"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Gntxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Geniakt"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Geniakt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Genvname"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Genvname"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Hilvl"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Hilvl"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Procflg"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Procflg"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Direction"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Direction"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Copyflg"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Copyflg"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mandflg"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Mandflg"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Deacflg"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Deacflg"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Status"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Status"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Asgnflg"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Asgnflg"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Autoflg"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Autoflg"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Agent"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Agent"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Valflg"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Valflg"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcmuse"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Wcmuse"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                [orderDetailWCMIssuePermitsArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            [wcmIssuePermitsArray addObject:orderDetailWCMIssuePermitsArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWcmIssuePermitsArray objectAtIndex:i]] replaceObjectAtIndex:9 withObject:wcmIssuePermitsArray];
                                    }
                                    
                                    [orderWcmIssuePermitsArray removeAllObjects];
                                    
                                    //////////
                                    [orderDocsArray addObjectsFromArray:[orderDocsDictionary allKeys]];
                                    NSArray *recordIDDocsArray;
                                    NSDictionary *docsDictionary;
                                    
                                    for (int i =0; i<[orderDocsArray  count]; i++) {
                                        docsDictionary = [orderDocsDictionary objectForKey:[orderDocsArray objectAtIndex:i]];
                                        recordIDDocsArray = [docsDictionary allKeys];
                                        NSMutableArray *orderDocsListArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDDocsArray count]; j++) {
                                            NSMutableArray *orderDetailDocsListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [docsDictionary objectForKey:[recordIDDocsArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Zobjid"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Zobjid"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"DocId"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"DocId"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"DocType"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"DocType"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Filename"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Filename"]];
                                            }
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Filetype"]]) {
                                                [orderDetailDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Filetype"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Fsize"]]) {
                                                
                                                [orderDetailDocsListArray addObject:@""];//Size
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Fsize"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtype"]]) {
                                                
                                                [orderDetailDocsListArray addObject:@""];//Objtype
                                            }
                                            else{
                                                [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Objtype"]];
                                            }
                                            
                                            [orderDetailDocsListArray addObject:@""];//Content
                                            [orderDetailDocsListArray addObject:@""];//Action
                                            
                                            [orderDocsListArray addObject:orderDetailDocsListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderDocsArray objectAtIndex:i]] replaceObjectAtIndex:2 withObject:orderDocsListArray];
                                    }
                                    
                                    [orderDocsArray removeAllObjects];
                                    
                                    [orderTransactionArray addObjectsFromArray:[orderTransactionDictionary allKeys]];
                                    NSArray *recordIDArray;
                                    NSDictionary *componentDictionary;
                                    
                                    for (int i =0; i<[orderTransactionArray  count]; i++) {
                                        componentDictionary = [orderTransactionDictionary objectForKey:[orderTransactionArray objectAtIndex:i]];
                                        recordIDArray = [componentDictionary allKeys];
                                        NSMutableArray *orderTransactionListArray = [NSMutableArray new];
                                        NSMutableArray *orderPartsListArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailTransactionListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [componentDictionary objectForKey:[recordIDArray objectAtIndex:j]];
                                            
                                            //CREATE TABLE "ORDER_TRANSACTION" ("ordert_header_id" VARCHAR,"ordert_vornr_operation" VARCHAR,"ordert_operation_name" VARCHAR,"ordert_duration_name" VARCHAR,"ordert_duration_id" VARCHAR,"ordert_fsavd" VARCHAR,"ordert_ssedd" VARCHAR,"ordert_rueck" VARCHAR,"ordert_aueru" VARCHAR,"ordert_operation_action" VARCHAR,"ordert_status" VARCHAR,"ordert_conftext" VARCHAR,"ordert_actwork" VARCHAR,"ordert_unwork" VARCHAR,"ordert_larnt" VARCHAR,"ordert_pernr" VARCHAR,"ordert_plnal" VARCHAR,"ordert_plnnr" VARCHAR,"ordert_plnty" VARCHAR,"ordert_steus" VARCHAR,"ordert_operationlongtext" VARCHAR,"usr01" VARCHAR,"bemot" VARCHAR,"grund" VARCHAR,"learr" VARCHAR,"leknw" VARCHAR,"operation_plantid" VARCHAR,"operation_plantname" VARCHAR,"operation_workcenterid" VARCHAR,"operation_workcentertext" VARCHAR,"ordert_steustext" VARCHAR)
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Aufnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Vornr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Ltxa1"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Ltxa1"]];//Operation short text
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Dauno"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Dauno"]];//duration
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Daune"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Daune"]];//duration id
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Fsavd"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Fsavd"]];//date
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Ssedd"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Ssedd"]];//date
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Rueck"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Rueck"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aueru"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//for aueru
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Aueru"]];
                                            }
                                            
                                            [orderDetailTransactionListArray addObject:@""];//For OperationAction
                                            [orderDetailTransactionListArray addObject:@""];//For Status
                                            [orderDetailTransactionListArray addObject:@""];//For Confirmation text in Confirm Order
                                            [orderDetailTransactionListArray addObject:@""];//For Actual Work Text
                                            [orderDetailTransactionListArray addObject:@""];//For Actual Work Units
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Larnt"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Larnt"]];//Activity Type
                                            }
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pernr"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Pernr"]];//Personal No
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnal"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnal"]];//Group Counter
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnnr"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnnr"]];//key for task list group
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnty"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnty"]];//Task list type
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Steus"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Steus"]];//Control Key
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"OPTLONGTEXT"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"OPTLONGTEXT"]];
                                            }//For Long Text
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Usr01"]]) {
                                                [orderDetailTransactionListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Usr01"]];
                                            }//For Actual Work
                                            
                                            [orderDetailTransactionListArray addObject:@""];//Bemot(Accounting Indicator)
                                            [orderDetailTransactionListArray addObject:@""];//grund(ConfirmReason)
                                            [orderDetailTransactionListArray addObject:@""];//Learr(noRemainingWork)
                                            
                                            [orderDetailTransactionListArray addObject:@""];//Leknw(confirmreason)
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Werks"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//Werks
                                                
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Werks"]];//Werks
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"WerksText"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//WerksText
                                                
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"WerksText"]];//WersText
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Arbpl"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//Arbpl
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Arbpl"]];//Arbpl
                                                
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ArbplText"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//ArbplText
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"ArbplText"]];//ArbplText
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SteusText"]]) {
                                                [orderDetailTransactionListArray addObject:@""];//SteusText
                                            }
                                            else{
                                                [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"SteusText"]];//SteusText
                                            }
                                            
                                            id customFieldsOperationsTransactionsID;
                                            if ([tempDictionary objectForKey:@"Fields"]) {
                                                NSArray *fieldsArray = [[tempDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                                                NSMutableArray *transactionsOperationsCustomFields = [NSMutableArray new];
                                                for (int l =0; l<[fieldsArray count]; l++) {
                                                    NSString *fieldValue,*fieldName,*fLabel,*tabName,*docType,*docTypeItem,*dataType,*sequence,*length;
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"]]) {
                                                        fieldName = @"";
                                                    }
                                                    else{
                                                        fieldName = [[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"]]) {
                                                        fLabel = @"";
                                                    }
                                                    else{
                                                        fLabel = [[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"]]) {
                                                        tabName = @"";
                                                    }
                                                    else{
                                                        tabName = [[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Value"]]) {
                                                        fieldValue = @"";
                                                    }
                                                    else{
                                                        fieldValue = [[fieldsArray objectAtIndex:l] objectForKey:@"Value"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"]]) {
                                                        docType = @"";
                                                    }
                                                    else{
                                                        docType = [[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"]]) {
                                                        docTypeItem = @"";
                                                    }
                                                    else{
                                                        docTypeItem = [[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"]]) {
                                                        dataType = @"";
                                                    }
                                                    else{
                                                        dataType = [[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"]]) {
                                                        sequence = @"";
                                                    }
                                                    else{
                                                        sequence = [[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Length"]]) {
                                                        length = @"";
                                                    }
                                                    else{
                                                        length = [[fieldsArray objectAtIndex:l] objectForKey:@"Length"];
                                                    }
                                                    
                                                    if ([docTypeItem isEqualToString:@"WO"]) {
                                                        [transactionsOperationsCustomFields addObject:[NSMutableArray arrayWithObjects:docType,docTypeItem,tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                                    }
                                                }
                                                
                                                customFieldsOperationsTransactionsID = transactionsOperationsCustomFields;
                                            }
                                            
                                            [orderTransactionListArray addObject:[NSArray arrayWithObjects:orderDetailTransactionListArray,customFieldsOperationsTransactionsID, nil]];
                                            
                                            if ([tempDictionary objectForKey:@"Components"]) {
                                                
                                                //CREATE TABLE "ORDER_PARTS" ("ordert_header_id" VARCHAR, "ordert_vornr_operation" VARCHAR, "ordert_quantity" INTEGER, "ordert_lgort" VARCHAR, "ordert_lgorttext" VARCHAR, "ordert_matnr" VARCHAR, "ordert_matnrtext" VARCHAR, "ordert_meins" VARCHAR, "ordert_posnr" VARCHAR, "ordert_postp" VARCHAR, "ordert_postptext" VARCHAR, "ordert_rsnum" VARCHAR, "ordert_rspos" VARCHAR, "ordert_werks" VARCHAR, "ordert_werkstext" VARCHAR)
                                                
                                                for (int k =0; k<[[tempDictionary objectForKey:@"Components"] count]; k++) {
                                                    
                                                    NSMutableArray *orderDetailComponentTransactionListArray = [NSMutableArray new];
                                                    
                                                    NSDictionary *tempCompenetsDictionary = [[tempDictionary objectForKey:@"Components"] objectAtIndex:k];
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Aufnr"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Aufnr"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Vornr"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Vornr"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Bdmng"]]) {
                                                        
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Bdmng"]];//Quantity
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Lgort"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Lgort"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"LgortText"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"LgortText"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Matnr"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Matnr"]];//ComponentID
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"MatnrText"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"MatnrText"]];//ComponentName
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Meins"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Meins"]];//Meins
                                                        
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Posnr"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Posnr"]];
                                                    }
                                                    
                                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Postp"]]){
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Postp"]];//Item Category in Components
                                                    }
                                                    
                                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"PostpText"]]){
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"PostpText"]];//Item Category in Components
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Rsnum"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Rsnum"]];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Rspos"]]) {
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Rspos"]];
                                                    }
                                                    
                                                    if ([tempCompenetsDictionary objectForKey:@"Werks"]) {
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Werks"]];//Werks
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:@""];//Werks
                                                    }
                                                    
                                                    if ([tempCompenetsDictionary objectForKey:@"WerksText"]) {
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"WerksText"]];//Werks
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:@""];//WerksText
                                                    }
                                                    
                                                    [orderDetailComponentTransactionListArray addObject:@""];//ComponentAction
                                                    
                                                    
                                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Wempf"]]){
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Wempf"]];//receipt
                                                    }
                                                    
                                                    if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Ablad"]]){
                                                        [orderDetailComponentTransactionListArray addObject:@""];
                                                    }
                                                    else{
                                                        [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Ablad"]];//unload
                                                    }
                                                    
                                                    
                                                    id customFieldsComponentsTransactionsID;
                                                    NSMutableArray *transactionsComponentsCustomFields = [NSMutableArray new];
                                                    
                                                    if ([tempCompenetsDictionary objectForKey:@"Fields"]) {
                                                        NSArray *fieldsArray = [[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                                                        
                                                        for (int l =0; l<[fieldsArray count]; l++) {
                                                            NSString *fieldValue,*fieldName,*fLabel,*tabName,*docType,*docTypeItem,*dataType,*sequence,*length;
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"]]) {
                                                                fieldName = @"";
                                                            }
                                                            else{
                                                                fieldName = [[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"]]) {
                                                                fLabel = @"";
                                                            }
                                                            else{
                                                                fLabel = [[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"]]) {
                                                                tabName = @"";
                                                            }
                                                            else{
                                                                tabName = [[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Value"]]) {
                                                                fieldValue = @"";
                                                            }
                                                            else{
                                                                fieldValue = [[fieldsArray objectAtIndex:l] objectForKey:@"Value"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"]]) {
                                                                docType = @"";
                                                            }
                                                            else{
                                                                docType = [[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"]]) {
                                                                docTypeItem = @"";
                                                            }
                                                            else{
                                                                docTypeItem = [[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"]]) {
                                                                dataType = @"";
                                                            }
                                                            else{
                                                                dataType = [[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"]]) {
                                                                sequence = @"";
                                                            }
                                                            else{
                                                                sequence = [[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"];
                                                            }
                                                            
                                                            if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Length"]]) {
                                                                length = @"";
                                                            }
                                                            else{
                                                                length = [[fieldsArray objectAtIndex:l] objectForKey:@"Length"];
                                                            }
                                                            
                                                            if ([docTypeItem isEqualToString:@"WC"]){
                                                                [transactionsComponentsCustomFields addObject:[NSMutableArray arrayWithObjects:docType,docTypeItem,tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                                            }
                                                        }
                                                        
                                                        customFieldsComponentsTransactionsID = transactionsComponentsCustomFields;
                                                    }
                                                    
                                                    [orderPartsListArray addObject:[NSArray arrayWithObjects:orderDetailComponentTransactionListArray,customFieldsComponentsTransactionsID, nil]];
                                                }
                                            }
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderTransactionArray objectAtIndex:i]] replaceObjectAtIndex:3 withObject:orderTransactionListArray];
                                        
                                        [[orderDetailDictionary objectForKey:[orderTransactionArray objectAtIndex:i]] replaceObjectAtIndex:4 withObject:orderPartsListArray];
                                    }
                                    
                                    [orderTransactionArray removeAllObjects];
                                    
                                    ////////////
                                    
                                    [orderWsmSafetyMeasuresArray addObjectsFromArray:[orderWSMSafetyMeasuresDictionary allKeys]];
                                    
                                    NSArray *recordIDWSMSafetyMeasuresArray;
                                    NSDictionary *WSMSafetyMeasuresDictionary;
                                    
                                    for (int i =0; i<[orderWsmSafetyMeasuresArray count]; i++) {
                                        
                                        WSMSafetyMeasuresDictionary = [orderWSMSafetyMeasuresDictionary objectForKey:[orderWsmSafetyMeasuresArray objectAtIndex:i]];
                                        recordIDWSMSafetyMeasuresArray = [WSMSafetyMeasuresDictionary allKeys];
                                        NSMutableArray *orderWSMSafetyMeasuresListArray = [NSMutableArray new];
                                        
                                        //CREATE TABLE "ORDER_WSM_SAFETYMEASURES" ("orderwsm_header_id" VARCHAR, "orderwsm_aufnr" VARCHAR, "orderwsm_vornr_operation" VARCHAR,"orderwsm_description" VARCHAR, "orderwsm_safety_text_no" VARCHAR, "orderwsm_objid" VARCHAR, "orderwsm_objtype" VARCHAR, "orderwsm_safetychar" VARCHAR, "orderwsm_safetychar_text" VARCHAR, "orderwsm_action" VARCHAR)
                                        
                                        for (int j=0; j<[recordIDWSMSafetyMeasuresArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailWSMSafetyListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [WSMSafetyMeasuresDictionary objectForKey:[recordIDWSMSafetyMeasuresArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"EamsAufnr"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                            }
                                            
                                            
                                            [orderDetailWSMSafetyListArray addObject:@""];//operation
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Description"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"Description"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"EamsSafetyTextNo"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"EamsSafetyTextNo"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ObjId"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"ObjId"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"ObjType"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                
                                                if ([[tempDictionary objectForKey:@"ObjType"] isEqualToString:@"DO"]) {
                                                    
                                                    [orderDetailWSMSafetyListArray addObject:@"Document"];
                                                }
                                                else{
                                                    
                                                    [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"ObjType"]];
                                                }
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SafetyChar"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"SafetyChar"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"SafetyCharTxt"]]) {
                                                [orderDetailWSMSafetyListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"SafetyCharTxt"]];
                                            }
                                            
                                            [orderDetailWSMSafetyListArray addObject:@""];//selection
                                            
                                            [orderWSMSafetyMeasuresListArray addObject:orderDetailWSMSafetyListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderWsmSafetyMeasuresArray objectAtIndex:i]] replaceObjectAtIndex:5 withObject:orderWSMSafetyMeasuresListArray];
                                    }
                                    
                                    [orderWsmSafetyMeasuresArray removeAllObjects];
                                    
                                    ///////////
                                    
                                    [orderStatusArray addObjectsFromArray:[orderStatusDictionary allKeys]];
                                    
                                    NSArray *recordIDorderStatusArray;
                                    NSDictionary *EtorderStatusDictionary;
                                    
                                    for (int i =0; i<[orderStatusArray count]; i++) {
                                        
                                        EtorderStatusDictionary = [orderStatusDictionary objectForKey:[orderStatusArray objectAtIndex:i]];
                                        recordIDorderStatusArray = [EtorderStatusDictionary allKeys];
                                        
                                        NSMutableArray *orderStatusDetailArray = [NSMutableArray new];
                                        
                                        BOOL act = NO;
                                        
                                        for (int j=0; j<[recordIDorderStatusArray count]; j++) {
                                            
                                            NSMutableDictionary *orderStatusListDictionary = [NSMutableDictionary new];
                                            
                                            tempDictionary = [EtorderStatusDictionary objectForKey:[recordIDorderStatusArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_aufnr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]] forKey:@"orders_aufnr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_vornr_operation"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Vornr"] forKey:@"orders_vornr_operation"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_objnr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Objnr"] forKey:@"orders_objnr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stsma"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stsma"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stsma"] forKey:@"orders_stsma"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Inist"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_inist"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Inist"] forKey:@"orders_inist"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stonr"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stonr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stonr"] forKey:@"orders_stonr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Hsonr"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_hsonr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Hsonr"] forKey:@"orders_hsonr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Nsonr"]]) {
                                                
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_nsonr"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Nsonr"] forKey:@"orders_nsonr"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Stat"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_stat"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Act"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_act"];
                                                
                                                if (act ==YES) {
                                                    [orderStatusListDictionary setObject:@"" forKey:@"orders_selected"];//Selection
                                                }
                                                else{
                                                    
                                                    [orderStatusListDictionary setObject:@"Y" forKey:@"orders_selected"];//Selection
                                                }
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Act"] forKey:@"orders_act"];
                                                [orderStatusListDictionary setObject:@"X" forKey:@"orders_selected"];//Selection
                                                if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"E"]) {
                                                    act = YES;
                                                }
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt04"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_txt04"];
                                            }
                                            else{
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt04"] forKey:@"orders_txt04"];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt30"]]) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_txt30"];
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt30"] forKey:@"orders_txt30"];
                                            }
                                            
                                            [orderStatusDetailArray addObject:orderStatusListDictionary];
                                            
                                            if ([tempDictionary objectForKey:@"SystemStatus"]) {
                                                
                                                if ([[tempDictionary objectForKey:@"SystemStatus"] isKindOfClass:[NSArray class]]) {
                                                    
                                                    id systemStatus = [tempDictionary objectForKey:@"SystemStatus"];
                                                    
                                                    for (int k =0 ; k <[systemStatus count]; k++) {
                                                        
                                                        NSMutableDictionary *orderStatusListDictionary = [NSMutableDictionary new];
                                                        
                                                        tempDictionary = [systemStatus objectAtIndex:k];
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_aufnr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]] forKey:@"orders_aufnr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_vornr_operation"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Vornr"] forKey:@"orders_vornr_operation"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_objnr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Objnr"] forKey:@"orders_objnr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stsma"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stsma"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stsma"] forKey:@"orders_stsma"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Inist"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_inist"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Inist"] forKey:@"orders_inist"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stonr"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stonr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stonr"] forKey:@"orders_stonr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Hsonr"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_hsonr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Hsonr"] forKey:@"orders_hsonr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Nsonr"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_nsonr"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Nsonr"] forKey:@"orders_nsonr"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stat"]]) {
                                                            
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stat"];
                                                        }
                                                        else{
                                                            
                                                            if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"I"]) {
                                                                
                                                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                                            }
                                                            else{
                                                                
                                                                [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                                                
                                                            }
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Act"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_act"];
                                                            if (act ==YES) {
                                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_selected"];//Selection
                                                            }
                                                            else{
                                                                [orderStatusListDictionary setObject:@"Y" forKey:@"orders_selected"];//Selection
                                                            }
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Act"] forKey:@"orders_act"];
                                                            
                                                            [orderStatusListDictionary setObject:@"X" forKey:@"orders_selected"];//Selection
                                                            
                                                            if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"E"]) {
                                                                act = YES;
                                                            }
                                                            
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt04"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_txt04"];
                                                        }
                                                        else{
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt04"] forKey:@"orders_txt04"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt30"]]) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_txt30"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt30"] forKey:@"orders_txt30"];
                                                        }
                                                        
                                                        [orderStatusDetailArray addObject:orderStatusListDictionary];
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderStatusArray objectAtIndex:i]] replaceObjectAtIndex:6 withObject:orderStatusDetailArray];
                                    }
                                    
                                    [orderStatusArray removeAllObjects];
                                    
                                    ////////////
                                    
                                    [orderOlistArray addObjectsFromArray:[orderOlistDictionary allKeys]];
                                    
                                    NSArray *recordOlistArray;
                                    NSDictionary *orderObjectlistDictionary;
                                    
                                    for (int i =0; i<[orderOlistArray count]; i++) {
                                        
                                        orderObjectlistDictionary = [orderOlistDictionary objectForKey:[orderOlistArray objectAtIndex:i]];
                                        recordOlistArray = [orderObjectlistDictionary allKeys];
                                        NSMutableArray *orderObjectListArray = [NSMutableArray new];
                                        
                                        //CREATE TABLE "ORDER_OBJECTS" ("orderobject_header_id" VARCHAR, "orderobject_aufnr" VARCHAR, "orderobject_obknr" VARCHAR, "orderobject_obzae" VARCHAR, "orderobject_qmnum" VARCHAR, "orderobject_equnr" VARCHAR, "orderobject_strno" VARCHAR, "orderobject_tplnr" VARCHAR, "orderobject_bautl" VARCHAR, "orderobject_qmtxt" VARCHAR, "orderobject_pltxt" VARCHAR, "orderobject_eqktx" VARCHAR, "orderobject_maktx" VARCHAR, "orderobject_action" VARCHAR)
                                        
                                        for (int j=0; j<[recordOlistArray count]; j++) {
                                            
                                            NSMutableArray *orderDetailObjectListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [orderObjectlistDictionary objectForKey:[recordOlistArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Obknr"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Obknr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Obzae"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Obzae"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Qmnum"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Qmnum"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Equnr"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Equnr"]];
                                                
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Strno"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Strno"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Tplnr"]]) {
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Tplnr"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Bautl"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Bautl"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Qmtxt"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Qmtxt"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Pltxt"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Pltxt"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Eqktx"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Eqktx"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Maktx"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Maktx"]];
                                            }
                                            
                                            if([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]){
                                                
                                                [orderDetailObjectListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            [orderObjectListArray addObject:orderDetailObjectListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderOlistArray objectAtIndex:i]] replaceObjectAtIndex:7 withObject:orderObjectListArray];
                                    }
                                    
                                    [orderOlistArray removeAllObjects];
                                    
                                    ////////////
                                    
                                    responseObject = nil;
                                    
                                    [orderMeasurementDocumentsArray addObjectsFromArray:[orderMeasurementDocumentsDictionary allKeys]];
                                    
                                    NSArray *recordIDMDocsArray;
                                    NSDictionary *mDocsDictionary;
                                    
                                    for (int i =0; i<[orderMeasurementDocumentsArray  count]; i++) {
                                        mDocsDictionary = [orderMeasurementDocumentsDictionary objectForKey:[orderMeasurementDocumentsArray objectAtIndex:i]];
                                        recordIDMDocsArray = [mDocsDictionary allKeys];
                                        NSMutableArray *orderDocsListArray = [NSMutableArray new];
                                        
                                        for (int j=0; j<[recordIDMDocsArray count]; j++) {
                                            NSMutableArray *orderDetailMDocsListArray = [NSMutableArray new];
                                            
                                            tempDictionary = [mDocsDictionary objectForKey:[recordIDMDocsArray objectAtIndex:j]];
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Qmnum"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Qmnum"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Aufnr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Vornr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mdocm"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mdocm"]];
                                            }
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Point"]]) {
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Point"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mpobj"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mpobj"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mpobt"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mpobt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Psort"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Psort"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Pttxt"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Pttxt"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Atinn"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Atinn"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Idate"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Idate"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Itime"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Itime"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Mdtxt"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mdtxt"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Readr"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Readr"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Atbez"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Atbez"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Msehi"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];//
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Msehi"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Msehl"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Msehl"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Readc"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Readc"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Desic"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Desic"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Prest"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Prest"]];
                                            }
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Docaf"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Docaf"]];
                                            }
                                            
                                            
                                            if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                                
                                                [orderDetailMDocsListArray addObject:@""];
                                            }
                                            else{
                                                [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                            }
                                            
                                            
                                            [orderDocsListArray addObject:orderDetailMDocsListArray];
                                        }
                                        
                                        [[orderDetailDictionary objectForKey:[orderMeasurementDocumentsArray objectAtIndex:i]] replaceObjectAtIndex:11 withObject:orderDocsListArray];
                                    }
                                    
                                    [orderMeasurementDocumentsArray removeAllObjects];
                                    
                                    ///
                                    
                                    NSArray *objectIds = [orderDetailDictionary allKeys];
                                    
                                    if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                                    {
                                        [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#No of Due Orders received:%lu",(unsigned long)[objectIds count]]];
                                    }
                                    
                                    for (int i=0; i<[objectIds count]; i++) {
                                        
                                        if (i ==1) {
                                            
                                            [orderWcmOperationWCDTaggingConditionsArray removeAllObjects];
                                            [orderWcmPermitsStandardCheckPoints removeAllObjects];
                                        }
                                        
                                        [[DataBase sharedInstance] insertDataIntoOrderHeader:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] firstObject] withAttachments:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:2] withPermitWorkApprovalsDetails:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:1] withOperation:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:3] withParts:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:4] withWSM:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:5] withObjects:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:7] withSystemStatus:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:6] withPermitsWorkApplications:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:8] withIssuePermits:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:9] withPermitsOperationWCD:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:10] withPermitsOperationWCDTagiingConditions:orderWcmOperationWCDTaggingConditionsArray withPermitsStandardCheckPoints:orderWcmPermitsStandardCheckPoints withMeasurementDocs:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:11]];
                                    }
                                }
                                // }
                            }
                        }
                        else if([[[parsedDictionary objectForKey:@"MESSAGE"] substringToIndex:1] isEqualToString:@"E"])
                        {
 
                            //                            [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Confirm" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:[messageString substringFromIndex:1]];
                            
                            
                            [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Confirm" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:[[parsedDictionary objectForKey:@"Message"] substringFromIndex:1] Date:[self.orderHeaderDetails objectForKey:@"DATE"] timestamp:[self.orderHeaderDetails objectForKey:@"TIME"]];
                            
                            [[DataBase sharedInstance] updateOrderStatus:[self.orderHeaderDetails objectForKey:@"ID"]];
                        }
                        else
                        {
                            
                            //                            [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Confirm" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:messageString];
                            
                            [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Confirm" objectid:[parsedDictionary objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:[[parsedDictionary objectForKey:@"Message"] substringFromIndex:1] Date:[self.orderHeaderDetails objectForKey:@"DATE"] timestamp:[self.orderHeaderDetails objectForKey:@"TIME"]];
                            
                            [[DataBase sharedInstance] updateOrderStatus:[self.orderHeaderDetails objectForKey:@"ID"]];
                        }
                    }
                    
                    if ([parsedDictionary objectForKey:@"Message"])
                    {
 
                        [self showAlertMessageWithTitle:@"Information" message:[[parsedDictionary objectForKey:@"Message"] substringFromIndex:1] cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:@"Confirm Response"];
                        
                    }
                
                else
                {
                    //                    [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Confirm" objectid:[self.orderHeaderDetails objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:NSLocalizedString(@"ErrorMessage",nil)];
                    
                    [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Confirm" objectid:[self.orderHeaderDetails objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:NSLocalizedString(@"ErrorMessage",nil) Date:[self.orderHeaderDetails objectForKey:@"DATE"] timestamp:[self.orderHeaderDetails objectForKey:@"TIME"]];
                    
                    [[DataBase sharedInstance] updateOrderStatus:[self.orderHeaderDetails objectForKey:@"ID"]];
 
                    [self showAlertMessageWithTitle:@"Information" message:NSLocalizedString(@"ErrorMessage", nil) cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                    
                 }
            }
            else{
                
                [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Confirm" objectid:[self.orderHeaderDetails objectForKey:@"OBJECTID"] UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:errorDescription];
                
                [[DataBase sharedInstance] updateOrderStatus:[self.orderHeaderDetails objectForKey:@"ID"]];
 
 
                [self showAlertMessageWithTitle:@"Order not Confirmed" message:errorDescription cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
                
            }
            
            [MBProgressHUD hideHUDForView:self.view animated:YES];
            

            break;
            
            
        case ORDER_RELEASE:
            
            if (!errorDescription.length) {
 
                NSMutableDictionary *parsedDictionary = [[Response sharedInstance] parseForReleaseOrder:resultData];
                
                if (statusCode == 401) {
                    
                    [MBProgressHUD hideHUDForView:self.view animated:YES];
 
                    [self showAlertMessageWithTitle:@"Authentication Failed!!" message:@"kindly check your password" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
 
                }
                else{
                    
                    if ([parsedDictionary objectForKey:@"Message"]) {
                        
                        NSMutableString *messageString = [NSMutableString stringWithString:@""];
                        
                        NSString *aufnr;
                        
                        if ([[[[parsedDictionary objectForKey:@"Message"] substringToIndex:1] uppercaseString] isEqualToString:@"S"]) {
                            
                            [messageString appendString:[NSString stringWithFormat:@"%@\n", [[parsedDictionary objectForKey:@"Message"] substringFromIndex:1]]];
 
                            if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                            {
                                [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#Order #Activity:Order Release #Orderno:%@ #Mode:Online #Class: Very Important #MUser:%@ #DeviceId:%@",[self.orderHeaderDetails objectForKey:@"OBJECTID"],decryptedUserName,[defaults objectForKey:@"edeviceid"]]];
                            }
                            
                            
                            [self resetAllValues];
                            
                            if ([parsedDictionary objectForKey:@"resultHeader"]) {
                                
                                NSMutableDictionary *orderDetailDictionary = [[NSMutableDictionary alloc] init];
                                id responseObject;
                                NSMutableArray *orderOperationArray = [[NSMutableArray alloc] init];
                                NSMutableArray *orderDocsArray = [[NSMutableArray alloc] init];
                                NSMutableArray *orderHeaderArray = [[NSMutableArray alloc] init];
                                NSMutableArray *orderWsmSafetyMeasuresArray = [[NSMutableArray alloc]init];
                                NSMutableArray *orderWcmWorkApprovalListArray = [[NSMutableArray alloc]init];
                                NSMutableArray *orderWcmWorkApplicationListArray = [[NSMutableArray alloc]init];
                                NSMutableArray *orderWcmIssuePermitsArray = [[NSMutableArray alloc]init];
                                NSMutableArray *orderWcmOperationWCDArray = [[NSMutableArray alloc]init];
                                NSMutableArray *orderWcmOperationWCDTaggingConditionsArray = [[NSMutableArray alloc] init];
                                NSMutableArray *orderWcmPermitsStandardCheckPoints = [NSMutableArray new];
                                
                                NSMutableArray *orderStatusArray = [[NSMutableArray alloc] init];
                                NSMutableArray *orderOlistArray = [[NSMutableArray alloc] init];
                                
                                NSMutableArray *orderMeasurementDocumentsArray = [NSMutableArray new];
                                
                                NSDictionary *headerDictionary;
                                
                                responseObject = nil;
                                responseObject = [parsedDictionary objectForKey:@"resultHeader"];
                                
                                [orderHeaderArray addObjectsFromArray:responseObject];
                                
                                NSDateFormatter *dateFormate = [[NSDateFormatter alloc] init];
                                [dateFormate setDateFormat:@"yyyy-MM-dd"];
                                NSMutableDictionary *currentHeaderDictionary;
                                
                                for (int i=0; i<[orderHeaderArray count]; i++) {
                                    
                                    if ([[orderHeaderArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                        headerDictionary = [orderHeaderArray objectAtIndex:i];
                                        currentHeaderDictionary = [[NSMutableDictionary alloc] init];
                                        if ([headerDictionary objectForKey:@"Aufnr"]) {
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Aufnr"] copy] forKey:@"OBJECTID"];
                                            aufnr=[headerDictionary objectForKey:@"Aufnr"];
                                        }
                                        else
                                        {
                                            [currentHeaderDictionary setObject:@" " forKey:@"OBJECTID"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Auart"] copy] forKey:@"OID"];
                                        
                                        if ([NullChecker isNull:[headerDictionary objectForKey:@"Ktext"]]) {
                                            [currentHeaderDictionary setObject:@"" forKey:@"SHORTTEXT"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Ktext"] copy] forKey:@"SHORTTEXT"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Gltrp"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Gltrp"] forKey:@"EDATE"];
                                            
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"EDATE"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Gstrp"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Gstrp"] forKey:@"SDATE"];
                                        }
                                        else{
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"SDATE"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Ernam"] copy] forKey:@"REPORTEDBY"];
                                        if ([headerDictionary objectForKey:@"Priok"]) {
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Priok"] copy] forKey:@"OPID"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"OPID"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Equnr"]) {
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Equnr"] copy] forKey:@"EQID"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"EQID"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Strno"]) {
                                            [currentHeaderDictionary setObject:[[headerDictionary objectForKey:@"Strno"] copy] forKey:@"FID"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"FID"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Xstatus"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Xstatus"] forKey:@"OSTATUS"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"Assigned" forKey:@"OSTATUS"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Docs"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Docs"] forKey:@"DOCS"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"DOCS"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Werks"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Werks"] forKey:@"PLANTID"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"PLANTID"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Plantname"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Plantname"] forKey:@"PLANTNAME"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"PLANTNAME"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Arbpl"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Arbpl"] forKey:@"WORKCENTERID"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"WORKCENTERID"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Wkctrname"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Wkctrname"] forKey:@"WORKCENTERNAME"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"WORKCENTERNAME"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Ausvn"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ausvn"] forKey:@"MALFUNCTIONSTARTDATE"];
                                        }
                                        else{
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"MALFUNCTIONSTARTDATE"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Ausbs"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Ausbs"] forKey:@"MALFUNCTIONENDDATE"];
                                        }
                                        else{
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"MALFUNCTIONENDDATE"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Qmnam"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Qmnam"] forKey:@"NREPORTEDBY"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"NREPORTEDBY"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Msaus"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Msaus"] forKey:@"BREAKDOWN"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"BREAKDOWN"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Auswk"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auswk"] forKey:@"EFFECTID"];
                                        }
                                        else{
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"EFFECTID"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Auswkt"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auswkt"] forKey:@"EFFECTNAME"];
                                        }
                                        else{
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"EFFECTNAME"];
                                        }
                                        
                                        
                                        if ([headerDictionary objectForKey:@"Anlzu"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Anlzu"] forKey:@"SYSTEMCONDITIONID"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"SYSTEMCONDITIONID"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Anlzux"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Anlzux"] forKey:@"SYSTEMCONDITIONTEXT"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"SYSTEMCONDITIONTEXT"];
                                        }
                                        
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"LATITUDE"];
                                        [currentHeaderDictionary setObject:@"" forKey:@"LONGITUDE"];
                                        [currentHeaderDictionary setObject:@"" forKey:@"ALTITUDE"];
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"workarea"];
                                        [currentHeaderDictionary setObject:@"" forKey:@"costcenter"];
                                        
                                        if ([headerDictionary objectForKey:@"Kokrs"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kokrs"] forKey:@"workarea"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Kostl"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kostl"] forKey:@"costcenter"];
                                        }
                                        
                                        
                                        if ([headerDictionary objectForKey:@"EquiHistory"]) {
                                            id equipmentHisory = [headerDictionary objectForKey:@"EquiHistory"];
                                            if ([equipmentHisory objectForKey:@"item"]) {
                                                equipmentHisory = [equipmentHisory objectForKey:@"item"];
                                                if ([equipmentHisory isKindOfClass:[NSDictionary class]]) {
                                                    [currentHeaderDictionary setObject:[NSMutableArray arrayWithObject:equipmentHisory] forKey:@"EQUIPMENTHISTORY"];
                                                }
                                                else if ([equipmentHisory isKindOfClass:[NSArray class]]){
                                                    [currentHeaderDictionary setObject:equipmentHisory forKey:@"EQUIPMENTHISTORY"];
                                                }
                                            }
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Fields"]) {
                                            NSMutableArray *fieldsMutArray = [NSMutableArray new];
                                            NSMutableArray *tempfieldsMutArray = [NSMutableArray new];
                                            
                                            if ([[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                                [tempfieldsMutArray addObjectsFromArray:[NSMutableArray arrayWithObject:[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"]]];
                                            }
                                            else if ([[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSArray class]]) {
                                                [tempfieldsMutArray addObjectsFromArray:[[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"]];
                                            }
                                            
                                            //                                NSArray *fieldsArray = [[headerDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                                            for (int i =0; i<[tempfieldsMutArray count]; i++) {
                                                NSString *fieldValue,*fieldName,*fLabel,*tabName,*dataType,*sequence,*length;
                                                if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Fieldname"]]) {
                                                    fieldName = @"";
                                                }
                                                else{
                                                    fieldName = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Fieldname"];
                                                }
                                                
                                                if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Flabel"]]) {
                                                    fLabel = @"";
                                                }
                                                else{
                                                    fLabel = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Flabel"];
                                                }
                                                
                                                if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Tabname"]]) {
                                                    tabName = @"";
                                                }
                                                else{
                                                    tabName = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Tabname"];
                                                }
                                                
                                                if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Value"]]) {
                                                    fieldValue = @"";
                                                }
                                                else{
                                                    fieldValue = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Value"];
                                                }
                                                
                                                if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Datatype"]]) {
                                                    dataType = @"";
                                                }
                                                else{
                                                    dataType = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Datatype"];
                                                }
                                                
                                                if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Sequence"]]) {
                                                    sequence = @"";
                                                }
                                                else{
                                                    sequence = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Sequence"];
                                                }
                                                
                                                if ([NullChecker isNull:[[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Length"]]) {
                                                    length = @"";
                                                }
                                                else{
                                                    length = [[tempfieldsMutArray objectAtIndex:i] objectForKey:@"Length"];
                                                }
                                                
                                                
                                                [fieldsMutArray addObject:[NSMutableArray arrayWithObjects:@"W",@"WH",tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                            }
                                            
                                            [currentHeaderDictionary setObject:fieldsMutArray forKey:@"CFH"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"LONGTEXT"];
                                        [currentHeaderDictionary setObject:[[DataBase sharedInstance] fetchNameForIDKey:@"ORDEROBJECTID" forValue:[currentHeaderDictionary objectForKey:@"OBJECTID"]] forKey:@"ID"];
                                        if (![[currentHeaderDictionary objectForKey:@"ID"] length]) {
                                            
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Auarttext"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Auarttext"] forKey:@"ONAME"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Priokx"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Priokx"] forKey:@"OPNAME"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"OPNAME"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Pltxt"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Pltxt"] forKey:@"FNAME"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"FNAME"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Eqktx"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Eqktx"] forKey:@"EQNAME"];
                                        }
                                        else{
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"EQNAME"];
                                        }
                                        
                                        if ([headerDictionary  objectForKey:@"Bemot"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Bemot"] forKey:@"ACCINCID"];
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Bemot"] forKey:@"ACCINCNAME"];
                                        }
                                        else{
                                            [currentHeaderDictionary setObject:@"" forKey:@"ACCINCID"];
                                            [currentHeaderDictionary setObject:@"" forKey:@"ACCINCNAME"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Kokrs"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kokrs"] forKey:@"workarea"];
                                        }
                                        else{
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"workarea"];
                                        }
                                        
                                        if ([headerDictionary objectForKey:@"Kostl"]) {
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Kostl"] forKey:@"costcenter"];
                                        }
                                        else{
                                            
                                            [currentHeaderDictionary setObject:@"" forKey:@"costcenter"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"NOSYNCLOG"];
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"QMNUM"];
                                        
                                        if ([headerDictionary objectForKey:@"Qmnum"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Qmnum"] forKey:@"QMNUM"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"usr01"];
                                        if ([headerDictionary objectForKey:@"Usr01"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr01"] forKey:@"usr01"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"usr02"];
                                        if ([headerDictionary objectForKey:@"Usr02"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr02"] forKey:@"usr02"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"usr03"];
                                        if ([headerDictionary objectForKey:@"Usr03"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr03"] forKey:@"usr03"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"usr04"];
                                        if ([headerDictionary objectForKey:@"Usr04"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr04"] forKey:@"usr04"];
                                        }
                                        
                                        [currentHeaderDictionary setObject:@"" forKey:@"usr05"];
                                        if ([headerDictionary objectForKey:@"Usr05"]) {
                                            
                                            [currentHeaderDictionary setObject:[headerDictionary objectForKey:@"Usr04"] forKey:@"usr05"];
                                        }
                                        
                                        [orderDetailDictionary setObject:[NSMutableArray arrayWithObjects:currentHeaderDictionary,[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array],[NSMutableArray array], nil] forKey:[currentHeaderDictionary objectForKey:@"OBJECTID"]];
                                    }
                                }
                                
                                [orderHeaderArray removeAllObjects];
                                
                                NSMutableDictionary *orderOlistDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                NSMutableDictionary *tempOlistDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultOrderOlist"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultOrderOlist"];
                                    
                                    [orderOlistArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderOlistArray count]; i++) {
                                        if ([[orderOlistArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderOlistArray objectAtIndex:i];
                                            if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                if ([orderOlistDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    tempOlistDictionary = [orderOlistDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    if ([tempOlistDictionary objectForKey:[headerDictionary objectForKey:@"Obknr"]]) {
                                                        tempOlistDictionary = [tempOlistDictionary objectForKey:[headerDictionary objectForKey:@"Obknr"]];
                                                        [tempOlistDictionary addEntriesFromDictionary:headerDictionary];
                                                    }
                                                    else{
                                                        [tempOlistDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Obknr"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderOlistDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Obknr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderOlistArray removeAllObjects];
                                
                                NSMutableDictionary *orderDocsDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                NSMutableDictionary *tempDocsDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultDocs"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultDocs"];
                                    
                                    [orderDocsArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderDocsArray count]; i++) {
                                        if ([[orderDocsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderDocsArray objectAtIndex:i];
                                            if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]]) {
                                                if ([orderDocsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]]) {
                                                    tempDocsDictionary = [orderDocsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]];
                                                    if ([tempDocsDictionary objectForKey:[headerDictionary objectForKey:@"Filename"]]) {
                                                        tempDocsDictionary = [tempDocsDictionary objectForKey:[headerDictionary objectForKey:@"Filename"]];
                                                        [tempDocsDictionary addEntriesFromDictionary:headerDictionary];
                                                    }
                                                    else{
                                                        [tempDocsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Filename"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderDocsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Filename"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Zobjid"] longLongValue]]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderDocsArray removeAllObjects];
                                
                                NSMutableDictionary *orderTransactionDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                
                                NSMutableDictionary *tempDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultOperationsTransactions"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultOperationsTransactions"];
                                    
                                    [orderOperationArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderOperationArray count]; i++) {
                                        if ([[orderOperationArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderOperationArray objectAtIndex:i];
                                            
                                            if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                if ([orderTransactionDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    tempDictionary = [orderTransactionDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    if ([tempDictionary objectForKey:[headerDictionary objectForKey:@"Vornr"]]) {
                                                        tempDictionary = [tempDictionary objectForKey:[headerDictionary objectForKey:@"Vornr"]];
                                                        [tempDictionary addEntriesFromDictionary:headerDictionary];
                                                    }
                                                    else
                                                    {
                                                        [tempDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Vornr"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderTransactionDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Vornr"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderOperationArray removeAllObjects];
                                
                                responseObject = nil;
                                NSMutableArray *orderTransactionArray = [[NSMutableArray alloc] init];
                                
                                if ([parsedDictionary objectForKey:@"resultComponentsTransactions"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultComponentsTransactions"];
                                    
                                    if ([responseObject isKindOfClass:[NSDictionary class]]) {
                                        [orderTransactionArray addObject:responseObject];
                                    }
                                    else if ([responseObject isKindOfClass:[NSArray class]])
                                    {
                                        [orderTransactionArray addObjectsFromArray:responseObject];
                                    }
                                    
                                    NSDictionary *transactionDictionary;
                                    
                                    for (int i=0; i<[orderTransactionArray count]; i++) {
                                        
                                        if ([[orderTransactionArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            
                                            transactionDictionary = [orderTransactionArray objectAtIndex:i];
                                            
                                            if ([orderDetailDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]]) {
                                                
                                                if ([orderTransactionDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]]) {
                                                    
                                                    tempDictionary = [orderTransactionDictionary objectForKey:[transactionDictionary objectForKey:@"Aufnr"]];
                                                    
                                                    if ([tempDictionary objectForKey:[transactionDictionary objectForKey:@"Vornr"]]) {
                                                        
                                                        tempDictionary = [tempDictionary objectForKey:[transactionDictionary objectForKey:@"Vornr"]];
                                                        
                                                        if ([tempDictionary objectForKey:@"Components"]) {
                                                            
                                                            NSMutableArray *componentArray = [tempDictionary objectForKey:@"Components"];
                                                            
                                                            [componentArray addObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary]];
                                                        }
                                                        else
                                                        {
                                                            [tempDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary]] forKey:@"Components"];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [tempDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary] forKey:[transactionDictionary objectForKey:@"Vornr"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderTransactionDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:transactionDictionary] forKey:[transactionDictionary objectForKey:@"Vornr"]] forKey:[transactionDictionary objectForKey:@"Aufnr"]];
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderTransactionArray removeAllObjects];
                                }
                                
                                NSMutableDictionary *orderMeasurementDocumentsDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                
                                NSMutableDictionary *measureMentDocsDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultMeasurementDocuments"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultMeasurementDocuments"];
                                    
                                    [orderMeasurementDocumentsArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderMeasurementDocumentsArray count]; i++) {
                                        if ([[orderMeasurementDocumentsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderMeasurementDocumentsArray objectAtIndex:i];
                                            
                                            if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                if ([orderMeasurementDocumentsDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    tempDictionary = [orderMeasurementDocumentsDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    if ([tempDictionary objectForKey:[headerDictionary objectForKey:@"Mdocm"]]) {
                                                        measureMentDocsDictionary = [tempDictionary objectForKey:[headerDictionary objectForKey:@"Mdocm"]];
                                                        [measureMentDocsDictionary addEntriesFromDictionary:headerDictionary];
                                                    }
                                                    else
                                                    {
                                                        [measureMentDocsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Mdocm"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderMeasurementDocumentsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Mdocm"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderMeasurementDocumentsArray removeAllObjects];
                                
                                NSMutableDictionary *orderWSMSafetyMeasuresDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                NSMutableDictionary *tempWSMSafetyMeasuresDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultWSMSafetyMeasures"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultWSMSafetyMeasures"];
                                    
                                    [orderWsmSafetyMeasuresArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderWsmSafetyMeasuresArray count]; i++) {
                                        
                                        if ([[orderWsmSafetyMeasuresArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderWsmSafetyMeasuresArray objectAtIndex:i];
                                            if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]]) {
                                                if ([orderWSMSafetyMeasuresDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]]) {
                                                    tempWSMSafetyMeasuresDictionary = [orderWSMSafetyMeasuresDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                                    if ([tempWSMSafetyMeasuresDictionary objectForKey:[headerDictionary objectForKey:@"ObjId"]]) {
                                                        tempWSMSafetyMeasuresDictionary = [tempWSMSafetyMeasuresDictionary objectForKey:[headerDictionary objectForKey:@"ObjId"]];
                                                        [tempWSMSafetyMeasuresDictionary addEntriesFromDictionary:headerDictionary];
                                                    }
                                                    else{
                                                        [tempWSMSafetyMeasuresDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"ObjId"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderWSMSafetyMeasuresDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"ObjId"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderWsmSafetyMeasuresArray removeAllObjects];
                                
                                NSMutableDictionary *orderWCMWorkApprovalListDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                NSMutableDictionary *tempWCMWorkApprovalListDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultWorkApprovalsData"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultWorkApprovalsData"];
                                    
                                    [orderWcmWorkApprovalListArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderWcmWorkApprovalListArray count]; i++) {
                                        
                                        if ([[orderWcmWorkApprovalListArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderWcmWorkApprovalListArray objectAtIndex:i];
                                            if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                if ([orderWCMWorkApprovalListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    tempWCMWorkApprovalListDictionary = [orderWCMWorkApprovalListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    if ([tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapnr"]]) {
                                                        tempWCMWorkApprovalListDictionary = [tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapnr"]];
                                                        [tempWCMWorkApprovalListDictionary addEntriesFromDictionary:headerDictionary];
                                                    }
                                                    else{
                                                        [tempWCMWorkApprovalListDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapnr"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderWCMWorkApprovalListDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderWcmWorkApprovalListArray removeAllObjects];
                                
                                
                                NSMutableDictionary *orderWCMWorkApplicationListDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                NSMutableDictionary *tempWCMWorkApplicationListDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultWorkApplicationData"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultWorkApplicationData"];
                                    
                                    [orderWcmWorkApplicationListArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderWcmWorkApplicationListArray count]; i++) {
                                        
                                        if ([[orderWcmWorkApplicationListArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderWcmWorkApplicationListArray objectAtIndex:i];
                                            if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                if ([orderWCMWorkApplicationListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    tempWCMWorkApplicationListDictionary = [orderWCMWorkApplicationListDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    if ([tempWCMWorkApplicationListDictionary objectForKey:[headerDictionary objectForKey:@"Wapinr"]]) {
                                                        tempWCMWorkApplicationListDictionary = [tempWCMWorkApprovalListDictionary objectForKey:[headerDictionary objectForKey:@"Wapinr"]];
                                                        [tempWCMWorkApplicationListDictionary addEntriesFromDictionary:headerDictionary];
                                                    }
                                                    else{
                                                        [tempWCMWorkApplicationListDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapinr"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderWCMWorkApplicationListDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wapinr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderWcmWorkApplicationListArray removeAllObjects];
                                
                                ///
                                NSMutableDictionary *orderWCMIssuePermitsDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                NSMutableDictionary *tempWCMIssuePermitsDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultIssuePermits"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultIssuePermits"];
                                    
                                    
                                    [orderWcmIssuePermitsArray addObjectsFromArray:responseObject];
                                    
                                    
                                    for (int i=0; i<[orderWcmIssuePermitsArray count]; i++) {
                                        
                                        
                                        if ([[orderWcmIssuePermitsArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderWcmIssuePermitsArray objectAtIndex:i];
                                            if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                
                                                
                                                if ([orderWCMIssuePermitsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    tempWCMIssuePermitsDictionary = [orderWCMIssuePermitsDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    if ([tempWCMIssuePermitsDictionary objectForKey:[headerDictionary objectForKey:@"Werks"]]) {
                                                        
                                                        
                                                        tempWCMIssuePermitsDictionary = [tempWCMIssuePermitsDictionary objectForKey:[headerDictionary objectForKey:@"Werks"]];
                                                        
                                                        
                                                        if ([tempWCMIssuePermitsDictionary objectForKey:@"Objects"]) {
                                                            NSMutableArray *objectsArray = [tempWCMIssuePermitsDictionary objectForKey:@"Objects"];
                                                            [objectsArray addObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]];
                                                        }
                                                        else{
                                                            
                                                            
                                                            [tempWCMIssuePermitsDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]] forKey:@"Objects"];
                                                        }
                                                    }
                                                    else{
                                                        
                                                        
                                                        [tempWCMIssuePermitsDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Werks"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderWCMIssuePermitsDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Werks"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderWcmIssuePermitsArray removeAllObjects];
                                
                                //
                                
                                responseObject = [parsedDictionary objectForKey:@"resultOperationWCDItemData"];
                                
                                for (int i = 0; i<[responseObject count]; i++) {
                                    NSMutableArray *orderDetailWCMOperationWCDTaggingConditionsArray = [NSMutableArray new];
                                    
                                    tempDictionary = [responseObject objectAtIndex:i];
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcnr"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Wcnr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcitm"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Wcitm"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Itmtyp"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Itmtyp"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Seq"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Seq"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Pred"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Pred"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Succ"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Succ"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Ccobj"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Ccobj"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Cctyp"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Cctyp"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tggrp"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tggrp"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgstep"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgstep"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgproc"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgproc"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgtyp"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgtyp"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgseq"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgseq"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgtxt"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgtxt"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Unstep"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unstep"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Unproc"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unproc"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Untyp"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Untyp"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Unseq"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unseq"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Untxt"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Untxt"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Phblflg"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phblflg"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Phbltyp"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phbltyp"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Phblnr"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Phblnr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgflg"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgflg"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgform"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgform"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tgnr"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Tgnr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Unform"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unform"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Unnr"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Unnr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Control"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Control"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Location"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Location"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Btg"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Btg"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Etg"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Etg"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Bug"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Bug"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Eug"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Eug"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMOperationWCDTaggingConditionsArray addObject:[tempDictionary objectForKey:@"Action"]];
                                    }
                                    
                                    [orderWcmOperationWCDTaggingConditionsArray addObject:orderDetailWCMOperationWCDTaggingConditionsArray];
                                }
                                
                                ///
                                responseObject = nil;
                                
                                responseObject = [parsedDictionary objectForKey:@"resultStandardCheckPoints"];
                                
                                for (int i = 0; i<[responseObject count]; i++) {
                                    
                                    NSMutableArray *orderDetailWCMStandardCheckPointsArray = [NSMutableArray new];
                                    
                                    tempDictionary = [responseObject objectAtIndex:i];
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapinr"]]) {
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wapinr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapityp"]]) {
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    }
                                    else{
                                        
                                        [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Wapityp"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Needid"]]) {
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Needid"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Value"]]) {
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Value"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"ChkPointType"]]) {
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"ChkPointType"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Desctext"]]) {
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Desctext"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Tplnr"]]) {
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Tplnr"]];
                                    }
                                    
                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Equnr"]]) {
                                        [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    }
                                    else{
                                        [orderDetailWCMStandardCheckPointsArray addObject:[tempDictionary objectForKey:@"Equnr"]];
                                    }
                                    
                                    [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    [orderDetailWCMStandardCheckPointsArray addObject:@""];
                                    
                                    
                                    [orderWcmPermitsStandardCheckPoints addObject:orderDetailWCMStandardCheckPointsArray];
                                }
                                
                                NSMutableDictionary *orderWCMOperationWCDDictionary = [[NSMutableDictionary alloc] init];
                                responseObject = nil;
                                
                                NSMutableDictionary *tempWCMOperationWCDDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultOperationWCDData"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultOperationWCDData"];
                                    
                                    [orderWcmOperationWCDArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderWcmOperationWCDArray count]; i++) {
                                        
                                        if ([[orderWcmOperationWCDArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            headerDictionary = [orderWcmOperationWCDArray objectAtIndex:i];
                                            if ([orderDetailDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                if ([orderWCMOperationWCDDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]]) {
                                                    tempWCMOperationWCDDictionary = [orderWCMOperationWCDDictionary objectForKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                    if ([tempWCMOperationWCDDictionary objectForKey:[headerDictionary objectForKey:@"Wcnr"]]) {
                                                        tempWCMOperationWCDDictionary = [tempWCMOperationWCDDictionary objectForKey:[headerDictionary objectForKey:@"Wcnr"]];
                                                        [tempWCMOperationWCDDictionary addEntriesFromDictionary:headerDictionary];
                                                    }
                                                    else{
                                                        [tempWCMOperationWCDDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wcnr"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderWCMOperationWCDDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Wcnr"]] forKey:[NSString stringWithFormat:@"%lld",[[headerDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderWcmOperationWCDArray removeAllObjects];
                                
                                ///
                                responseObject = nil;
                                
                                NSMutableDictionary *orderStatusDictionary = [[NSMutableDictionary alloc] init];
                                
                                NSMutableDictionary *tempOrderStatusDictionary;
                                
                                if ([parsedDictionary objectForKey:@"resultOrderStatus"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultOrderStatus"];
                                    
                                    [orderStatusArray addObjectsFromArray:responseObject];
                                    
                                    for (int i=0; i<[orderStatusArray count]; i++) {
                                        
                                        if ([[orderStatusArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            
                                            headerDictionary = [orderStatusArray objectAtIndex:i];
                                            
                                            if ([orderDetailDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                
                                                if ([orderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]]) {
                                                    
                                                    tempOrderStatusDictionary = [orderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                    
                                                    if ([tempOrderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]]) {
                                                        
                                                        tempOrderStatusDictionary = [tempOrderStatusDictionary objectForKey:[headerDictionary objectForKey:@"Objnr"]];
                                                        
                                                        if ([tempOrderStatusDictionary objectForKey:@"SystemStatus"]) {
                                                            
                                                            NSMutableArray *systemStatusArray = [tempOrderStatusDictionary objectForKey:@"SystemStatus"];
                                                            
                                                            [systemStatusArray addObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]];
                                                        }
                                                        else
                                                        {
                                                            [tempOrderStatusDictionary setObject:[NSMutableArray arrayWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary]] forKey:@"SystemStatus"];
                                                        }
                                                    }
                                                    else
                                                    {
                                                        [tempOrderStatusDictionary setObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]];
                                                    }
                                                }
                                                else
                                                {
                                                    [orderStatusDictionary setObject:[NSMutableDictionary dictionaryWithObject:[NSMutableDictionary dictionaryWithDictionary:headerDictionary] forKey:[headerDictionary objectForKey:@"Objnr"]] forKey:[headerDictionary objectForKey:@"Aufnr"]];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                [orderStatusArray removeAllObjects];
                                
                                if ([parsedDictionary objectForKey:@"resultLongText"]) {
                                    
                                    responseObject = [parsedDictionary objectForKey:@"resultLongText"];
                                    
                                    NSMutableArray *orderTextnArray = [[NSMutableArray alloc] init];
                                    if ([responseObject isKindOfClass:[NSDictionary class]]) {
                                        [orderTextnArray addObject:responseObject];
                                    }
                                    else if ([responseObject isKindOfClass:[NSArray class]])
                                    {
                                        [orderTextnArray addObjectsFromArray:responseObject];
                                    }
                                    
                                    NSDictionary *textDictionary;
                                    for (int i=0; i<[orderTextnArray count]; i++) {
                                        if ([[orderTextnArray objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
                                            textDictionary = [orderTextnArray objectAtIndex:i];
                                            if ([orderDetailDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]]) {
                                                if ([textDictionary objectForKey:@"Activity"]) {
                                                    tempDictionary = [orderTransactionDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]];
                                                    if (tempDictionary) {
                                                        tempDictionary = [tempDictionary objectForKey:[textDictionary objectForKey:@"Activity"]];
                                                        if (tempDictionary) {
                                                            id longText = [tempDictionary objectForKey:@"OPTLONGTEXT"];
                                                            NSString *textLine = [textDictionary objectForKey:@"TextLine"];
                                                            if (!textLine.length) {
                                                                textLine = @"";
                                                            }
                                                            if ([longText length]) {
                                                                [tempDictionary setObject:[NSString stringWithFormat:@"%@\n%@",longText,textLine] forKey:@"OPTLONGTEXT"];
                                                            }
                                                            else
                                                            {
                                                                [tempDictionary setObject:[NSString stringWithString:textLine] forKey:@"OPTLONGTEXT"];
                                                            }
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    NSMutableDictionary *headerDictionary = [[orderDetailDictionary objectForKey:[textDictionary objectForKey:@"Aufnr"]] firstObject];
                                                    NSString *textLine = [textDictionary objectForKey:@"TextLine"];
                                                    
                                                    if (!textLine.length) {
                                                        textLine = @"";
                                                    }
                                                    
                                                    if ([[headerDictionary objectForKey:@"LONGTEXT"] length]) {
                                                        [headerDictionary setObject:[NSString stringWithFormat:@"%@\n%@",[headerDictionary objectForKey:@"LONGTEXT"],textLine] forKey:@"LONGTEXT"];
                                                    }
                                                    else
                                                    {
                                                        [headerDictionary setObject:[NSString stringWithFormat:@"%@",textLine] forKey:@"LONGTEXT"];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    [orderTransactionArray removeAllObjects];
                                }
                                
                                /////
                                responseObject = nil;
                                
                                [orderWcmWorkApplicationListArray addObjectsFromArray:[orderWCMWorkApplicationListDictionary allKeys]];
                                
                                NSArray *recordIDWCMWorkApplicationListArray;
                                NSDictionary *WCMWorkApplicationListDictionary;
                                
                                for (int i =0; i<[orderWcmWorkApplicationListArray  count]; i++) {
                                    
                                    NSMutableArray *wcmWorkApplicationListArray = [NSMutableArray new];
                                    
                                    WCMWorkApplicationListDictionary = [orderWCMWorkApplicationListDictionary objectForKey:[orderWcmWorkApplicationListArray objectAtIndex:i]];
                                    recordIDWCMWorkApplicationListArray = [WCMWorkApplicationListDictionary allKeys];
                                    
                                    for (int j=0; j<[recordIDWCMWorkApplicationListArray count]; j++) {
                                        
                                        NSMutableArray *orderDetailWCMWorkApplicationListArray = [NSMutableArray new];
                                        
                                        tempDictionary = [WCMWorkApplicationListDictionary objectForKey:[recordIDWCMWorkApplicationListArray objectAtIndex:j]];
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapinr"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Wapinr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                            [orderDetailWCMWorkApplicationListArray addObject:@""];//Action
                                        }
                                        else{
                                            [orderDetailWCMWorkApplicationListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        [wcmWorkApplicationListArray addObject:orderDetailWCMWorkApplicationListArray];
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderWcmWorkApplicationListArray objectAtIndex:i]] replaceObjectAtIndex:8 withObject:wcmWorkApplicationListArray];
                                }
                                
                                [orderWcmWorkApplicationListArray removeAllObjects];
                                
                                /////
                                responseObject = nil;
                                
                                [orderWcmOperationWCDArray addObjectsFromArray:[orderWCMOperationWCDDictionary allKeys]];
                                
                                NSArray *recordIDWCMOperationWCDListArray;
                                NSDictionary *WCMOperationWCDListDictionary;
                                
                                for (int i =0; i<[orderWcmOperationWCDArray  count]; i++) {
                                    
                                    NSMutableArray *wcmOperationWCDListArray = [NSMutableArray new];
                                    
                                    WCMOperationWCDListDictionary = [orderWCMOperationWCDDictionary objectForKey:[orderWcmOperationWCDArray objectAtIndex:i]];
                                    recordIDWCMOperationWCDListArray = [WCMOperationWCDListDictionary allKeys];
                                    
                                    for (int j=0; j<[recordIDWCMOperationWCDListArray count]; j++) {
                                        
                                        NSMutableArray *orderDetailWCMOperationWCDListArray = [NSMutableArray new];
                                        
                                        tempDictionary = [WCMOperationWCDListDictionary objectForKey:[recordIDWCMOperationWCDListArray objectAtIndex:j]];
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcnr"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Wcnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                            [orderDetailWCMOperationWCDListArray addObject:@""];//Action
                                        }
                                        else{
                                            [orderDetailWCMOperationWCDListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        [wcmOperationWCDListArray addObject:orderDetailWCMOperationWCDListArray];
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderWcmOperationWCDArray objectAtIndex:i]] replaceObjectAtIndex:10 withObject:wcmOperationWCDListArray];
                                }
                                
                                [orderWcmWorkApplicationListArray removeAllObjects];
                                
                                /////
                                responseObject = nil;
                                
                                [orderWcmWorkApprovalListArray addObjectsFromArray:[orderWCMWorkApprovalListDictionary allKeys]];
                                
                                NSArray *recordIDWCMWorkApprovalListArray;
                                NSDictionary *WCMWorkApprovalListDictionary;
                                
                                for (int i =0; i<[orderWcmWorkApprovalListArray  count]; i++) {
                                    
                                    WCMWorkApprovalListDictionary = [orderWCMWorkApprovalListDictionary objectForKey:[orderWcmWorkApprovalListArray objectAtIndex:i]];
                                    recordIDWCMWorkApprovalListArray = [WCMWorkApprovalListDictionary allKeys];
                                    NSMutableArray *wcmWorkApprovalListArray = [NSMutableArray new];
                                    
                                    for (int j=0; j<[recordIDWCMWorkApprovalListArray count]; j++) {
                                        
                                        NSMutableArray *orderDetailWCMWorkApprovalListArray = [NSMutableArray new];
                                        
                                        tempDictionary = [WCMWorkApprovalListDictionary objectForKey:[recordIDWCMWorkApprovalListArray objectAtIndex:j]];
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wapnr"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Wapnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Iwerk"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Iwerk"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Usage"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Usage"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Usagex"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Usagex"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Train"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Train"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Trainx"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Trainx"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzu"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Anlzu"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Anlzux"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Anlzux"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etape"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Etape"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Etapex"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Etapex"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stxt"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Stxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Datefr"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Datefr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Timefr"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Timefr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Dateto"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Dateto"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Timeto"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Timeto"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Priok"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Priok"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Priokx"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Priokx"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Rctime"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Rctime"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Rcunit"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Rcunit"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Refobj"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Refobj"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Crea"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Crea"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Prep"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Prep"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Comp"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Comp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Appr"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Appr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Pappr"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Pappr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                            [orderDetailWCMWorkApprovalListArray addObject:@""];//Action
                                        }
                                        else{
                                            [orderDetailWCMWorkApprovalListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        [wcmWorkApprovalListArray addObject:orderDetailWCMWorkApprovalListArray];
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderWcmWorkApprovalListArray objectAtIndex:i]] replaceObjectAtIndex:1 withObject:wcmWorkApprovalListArray];
                                }
                                
                                [orderWcmWorkApprovalListArray removeAllObjects];
                                
                                /////
                                responseObject = nil;
                                
                                [orderWcmIssuePermitsArray addObjectsFromArray:[orderWCMIssuePermitsDictionary allKeys]];
                                
                                NSArray *recordIDWCMIssuePermitsArray;
                                NSDictionary *WCMIssuePermitsDictionary;
                                
                                for (int i =0; i<[orderWcmIssuePermitsArray  count]; i++) {
                                    
                                    WCMIssuePermitsDictionary = [orderWCMIssuePermitsDictionary objectForKey:[orderWcmIssuePermitsArray objectAtIndex:i]];
                                    recordIDWCMIssuePermitsArray = [WCMIssuePermitsDictionary allKeys];
                                    NSMutableArray *wcmIssuePermitsArray = [NSMutableArray new];
                                    
                                    for (int j=0; j<[recordIDWCMIssuePermitsArray count]; j++) {
                                        
                                        NSMutableArray *orderDetailWCMIssuePermitsArray = [NSMutableArray new];
                                        
                                        tempDictionary = [WCMIssuePermitsDictionary objectForKey:[recordIDWCMIssuePermitsArray objectAtIndex:j]];
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Counter"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Counter"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Werks"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Werks"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Crname"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Crname"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objart"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objart"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtyp"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Objtyp"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Pmsog"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Pmsog"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Gntxt"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Gntxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Geniakt"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Geniakt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Genvname"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Genvname"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Hilvl"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Hilvl"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Procflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Procflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Direction"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Direction"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Copyflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Copyflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Mandflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Mandflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Deacflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Deacflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Status"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Status"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Asgnflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Asgnflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Autoflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Autoflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Agent"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Agent"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Valflg"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Valflg"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Wcmuse"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Wcmuse"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                            [orderDetailWCMIssuePermitsArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWCMIssuePermitsArray addObject:[tempDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        [wcmIssuePermitsArray addObject:orderDetailWCMIssuePermitsArray];
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderWcmIssuePermitsArray objectAtIndex:i]] replaceObjectAtIndex:9 withObject:wcmIssuePermitsArray];
                                }
                                
                                [orderWcmIssuePermitsArray removeAllObjects];
                                
                                //////////
                                [orderDocsArray addObjectsFromArray:[orderDocsDictionary allKeys]];
                                NSArray *recordIDDocsArray;
                                NSDictionary *docsDictionary;
                                
                                for (int i =0; i<[orderDocsArray  count]; i++) {
                                    docsDictionary = [orderDocsDictionary objectForKey:[orderDocsArray objectAtIndex:i]];
                                    recordIDDocsArray = [docsDictionary allKeys];
                                    NSMutableArray *orderDocsListArray = [NSMutableArray new];
                                    
                                    for (int j=0; j<[recordIDDocsArray count]; j++) {
                                        NSMutableArray *orderDetailDocsListArray = [NSMutableArray new];
                                        
                                        tempDictionary = [docsDictionary objectForKey:[recordIDDocsArray objectAtIndex:j]];
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Zobjid"]]) {
                                            [orderDetailDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Zobjid"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"DocId"]]) {
                                            [orderDetailDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"DocId"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"DocType"]]) {
                                            [orderDetailDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"DocType"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Filename"]]) {
                                            [orderDetailDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Filename"]];
                                        }
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Filetype"]]) {
                                            [orderDetailDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Filetype"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Fsize"]]) {
                                            
                                            [orderDetailDocsListArray addObject:@""];//Size
                                        }
                                        else{
                                            [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Fsize"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objtype"]]) {
                                            
                                            [orderDetailDocsListArray addObject:@""];//Objtype
                                        }
                                        else{
                                            [orderDetailDocsListArray addObject:[tempDictionary objectForKey:@"Objtype"]];
                                        }
                                        
                                        [orderDetailDocsListArray addObject:@""];//Content
                                        [orderDetailDocsListArray addObject:@""];//Action
                                        
                                        [orderDocsListArray addObject:orderDetailDocsListArray];
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderDocsArray objectAtIndex:i]] replaceObjectAtIndex:2 withObject:orderDocsListArray];
                                }
                                
                                [orderDocsArray removeAllObjects];
                                
                                [orderTransactionArray addObjectsFromArray:[orderTransactionDictionary allKeys]];
                                NSArray *recordIDArray;
                                NSDictionary *componentDictionary;
                                
                                for (int i =0; i<[orderTransactionArray  count]; i++) {
                                    componentDictionary = [orderTransactionDictionary objectForKey:[orderTransactionArray objectAtIndex:i]];
                                    recordIDArray = [componentDictionary allKeys];
                                    NSMutableArray *orderTransactionListArray = [NSMutableArray new];
                                    NSMutableArray *orderPartsListArray = [NSMutableArray new];
                                    
                                    for (int j=0; j<[recordIDArray count]; j++) {
                                        
                                        NSMutableArray *orderDetailTransactionListArray = [NSMutableArray new];
                                        
                                        tempDictionary = [componentDictionary objectForKey:[recordIDArray objectAtIndex:j]];
                                        
                                        //CREATE TABLE "ORDER_TRANSACTION" ("ordert_header_id" VARCHAR,"ordert_vornr_operation" VARCHAR,"ordert_operation_name" VARCHAR,"ordert_duration_name" VARCHAR,"ordert_duration_id" VARCHAR,"ordert_fsavd" VARCHAR,"ordert_ssedd" VARCHAR,"ordert_rueck" VARCHAR,"ordert_aueru" VARCHAR,"ordert_operation_action" VARCHAR,"ordert_status" VARCHAR,"ordert_conftext" VARCHAR,"ordert_actwork" VARCHAR,"ordert_unwork" VARCHAR,"ordert_larnt" VARCHAR,"ordert_pernr" VARCHAR,"ordert_plnal" VARCHAR,"ordert_plnnr" VARCHAR,"ordert_plnty" VARCHAR,"ordert_steus" VARCHAR,"ordert_operationlongtext" VARCHAR,"usr01" VARCHAR,"bemot" VARCHAR,"grund" VARCHAR,"learr" VARCHAR,"leknw" VARCHAR,"operation_plantid" VARCHAR,"operation_plantname" VARCHAR,"operation_workcenterid" VARCHAR,"operation_workcentertext" VARCHAR,"ordert_steustext" VARCHAR)
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Aufnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Vornr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Ltxa1"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Ltxa1"]];//Operation short text
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Dauno"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Dauno"]];//duration
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Daune"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Daune"]];//duration id
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Fsavd"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Fsavd"]];//date
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Ssedd"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Ssedd"]];//date
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Rueck"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Rueck"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aueru"]]) {
                                            [orderDetailTransactionListArray addObject:@""];//for aueru
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Aueru"]];
                                        }
                                        
                                        [orderDetailTransactionListArray addObject:@""];//For OperationAction
                                        [orderDetailTransactionListArray addObject:@""];//For Status
                                        [orderDetailTransactionListArray addObject:@""];//For Confirmation text in Confirm Order
                                        [orderDetailTransactionListArray addObject:@""];//For Actual Work Text
                                        [orderDetailTransactionListArray addObject:@""];//For Actual Work Units
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Larnt"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Larnt"]];//Activity Type
                                        }
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Pernr"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Pernr"]];//Personal No
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnal"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnal"]];//Group Counter
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnnr"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnnr"]];//key for task list group
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Plnty"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Plnty"]];//Task list type
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Steus"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Steus"]];//Control Key
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"OPTLONGTEXT"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"OPTLONGTEXT"]];
                                        }//For Long Text
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Usr01"]]) {
                                            [orderDetailTransactionListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Usr01"]];
                                        }//For Actual Work
                                        
                                        [orderDetailTransactionListArray addObject:@""];//Bemot(Accounting Indicator)
                                        [orderDetailTransactionListArray addObject:@""];//grund(ConfirmReason)
                                        [orderDetailTransactionListArray addObject:@""];//Learr(noRemainingWork)
                                        
                                        [orderDetailTransactionListArray addObject:@""];//Leknw(confirmreason)
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Werks"]]) {
                                            [orderDetailTransactionListArray addObject:@""];//Werks
                                            
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Werks"]];//Werks
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"WerksText"]]) {
                                            [orderDetailTransactionListArray addObject:@""];//WerksText
                                            
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"WerksText"]];//WersText
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Arbpl"]]) {
                                            [orderDetailTransactionListArray addObject:@""];//Arbpl
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"Arbpl"]];//Arbpl
                                            
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"ArbplText"]]) {
                                            [orderDetailTransactionListArray addObject:@""];//ArbplText
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"ArbplText"]];//ArbplText
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"SteusText"]]) {
                                            [orderDetailTransactionListArray addObject:@""];//SteusText
                                        }
                                        else{
                                            [orderDetailTransactionListArray addObject:[tempDictionary objectForKey:@"SteusText"]];//SteusText
                                        }
                                        
                                        id customFieldsOperationsTransactionsID;
                                        if ([tempDictionary objectForKey:@"Fields"]) {
                                            NSArray *fieldsArray = [[tempDictionary objectForKey:@"Fields"] objectForKey:@"item"];
                                            NSMutableArray *transactionsOperationsCustomFields = [NSMutableArray new];
                                            for (int l =0; l<[fieldsArray count]; l++) {
                                                NSString *fieldValue,*fieldName,*fLabel,*tabName,*docType,*docTypeItem,*dataType,*sequence,*length;
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"]]) {
                                                    fieldName = @"";
                                                }
                                                else{
                                                    fieldName = [[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"];
                                                }
                                                
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"]]) {
                                                    fLabel = @"";
                                                }
                                                else{
                                                    fLabel = [[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"];
                                                }
                                                
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"]]) {
                                                    tabName = @"";
                                                }
                                                else{
                                                    tabName = [[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"];
                                                }
                                                
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Value"]]) {
                                                    fieldValue = @"";
                                                }
                                                else{
                                                    fieldValue = [[fieldsArray objectAtIndex:l] objectForKey:@"Value"];
                                                }
                                                
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"]]) {
                                                    docType = @"";
                                                }
                                                else{
                                                    docType = [[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"];
                                                }
                                                
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"]]) {
                                                    docTypeItem = @"";
                                                }
                                                else{
                                                    docTypeItem = [[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"];
                                                }
                                                
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"]]) {
                                                    dataType = @"";
                                                }
                                                else{
                                                    dataType = [[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"];
                                                }
                                                
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"]]) {
                                                    sequence = @"";
                                                }
                                                else{
                                                    sequence = [[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"];
                                                }
                                                
                                                if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Length"]]) {
                                                    length = @"";
                                                }
                                                else{
                                                    length = [[fieldsArray objectAtIndex:l] objectForKey:@"Length"];
                                                }
                                                
                                                if ([docTypeItem isEqualToString:@"WO"]) {
                                                    [transactionsOperationsCustomFields addObject:[NSMutableArray arrayWithObjects:docType,docTypeItem,tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                                }
                                            }
                                            
                                            customFieldsOperationsTransactionsID = transactionsOperationsCustomFields;
                                        }
                                        
                                        [orderTransactionListArray addObject:[NSArray arrayWithObjects:orderDetailTransactionListArray,customFieldsOperationsTransactionsID, nil]];
                                        
                                        if ([tempDictionary objectForKey:@"Components"]) {
                                            
                                            //CREATE TABLE "ORDER_PARTS" ("ordert_header_id" VARCHAR, "ordert_vornr_operation" VARCHAR, "ordert_quantity" INTEGER, "ordert_lgort" VARCHAR, "ordert_lgorttext" VARCHAR, "ordert_matnr" VARCHAR, "ordert_matnrtext" VARCHAR, "ordert_meins" VARCHAR, "ordert_posnr" VARCHAR, "ordert_postp" VARCHAR, "ordert_postptext" VARCHAR, "ordert_rsnum" VARCHAR, "ordert_rspos" VARCHAR, "ordert_werks" VARCHAR, "ordert_werkstext" VARCHAR)
                                            
                                            for (int k =0; k<[[tempDictionary objectForKey:@"Components"] count]; k++) {
                                                
                                                NSMutableArray *orderDetailComponentTransactionListArray = [NSMutableArray new];
                                                
                                                NSDictionary *tempCompenetsDictionary = [[tempDictionary objectForKey:@"Components"] objectAtIndex:k];
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Aufnr"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Aufnr"]];
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Vornr"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Vornr"]];
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Bdmng"]]) {
                                                    
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Bdmng"]];//Quantity
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Lgort"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Lgort"]];
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"LgortText"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"LgortText"]];
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Matnr"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Matnr"]];//ComponentID
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"MatnrText"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"MatnrText"]];//ComponentName
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Meins"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Meins"]];//Meins
                                                    
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Posnr"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Posnr"]];
                                                }
                                                
                                                if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Postp"]]){
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Postp"]];//Item Category in Components
                                                }
                                                
                                                if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"PostpText"]]){
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"PostpText"]];//Item Category in Components
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Rsnum"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Rsnum"]];
                                                }
                                                
                                                if ([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Rspos"]]) {
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Rspos"]];
                                                }
                                                
                                                if ([tempCompenetsDictionary objectForKey:@"Werks"]) {
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Werks"]];//Werks
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:@""];//Werks
                                                }
                                                
                                                if ([tempCompenetsDictionary objectForKey:@"WerksText"]) {
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"WerksText"]];//Werks
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:@""];//WerksText
                                                }
                                                
                                                [orderDetailComponentTransactionListArray addObject:@""];//ComponentAction
                                                
                                                if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Wempf"]]){
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Wempf"]];//receipt
                                                }
                                                
                                                if([NullChecker isNull:[tempCompenetsDictionary objectForKey:@"Ablad"]]){
                                                    [orderDetailComponentTransactionListArray addObject:@""];
                                                }
                                                else{
                                                    [orderDetailComponentTransactionListArray addObject:[tempCompenetsDictionary objectForKey:@"Ablad"]];//unload
                                                }
                                                
                                                
                                                id customFieldsComponentsTransactionsID;
                                                NSMutableArray *transactionsComponentsCustomFields = [NSMutableArray new];
                                                
                                                if ([tempCompenetsDictionary objectForKey:@"Fields"]) {
                                                    
                                                    NSMutableArray *fieldsArray=[NSMutableArray new];
                                                    
                                                    if ([[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSDictionary class]]) {
                                                        
                                                        [fieldsArray addObjectsFromArray:[NSMutableArray arrayWithObject:[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"]]];
                                                    }
                                                    else if ([[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"] isKindOfClass:[NSArray class]]){
                                                        
                                                        [fieldsArray addObjectsFromArray:[[tempCompenetsDictionary objectForKey:@"Fields"] objectForKey:@"item"]];
                                                    }
                                                    
                                                    
                                                    for (int l =0; l<[fieldsArray count]; l++) {
                                                        NSString *fieldValue,*fieldName,*fLabel,*tabName,*docType,*docTypeItem,*dataType,*sequence,*length;
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"]]) {
                                                            fieldName = @"";
                                                        }
                                                        else{
                                                            fieldName = [[fieldsArray objectAtIndex:l] objectForKey:@"Fieldname"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"]]) {
                                                            fLabel = @"";
                                                        }
                                                        else{
                                                            fLabel = [[fieldsArray objectAtIndex:l] objectForKey:@"Flabel"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"]]) {
                                                            tabName = @"";
                                                        }
                                                        else{
                                                            tabName = [[fieldsArray objectAtIndex:l] objectForKey:@"Tabname"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Value"]]) {
                                                            fieldValue = @"";
                                                        }
                                                        else{
                                                            fieldValue = [[fieldsArray objectAtIndex:l] objectForKey:@"Value"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"]]) {
                                                            docType = @"";
                                                        }
                                                        else{
                                                            docType = [[fieldsArray objectAtIndex:l] objectForKey:@"Zdoctype"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"]]) {
                                                            docTypeItem = @"";
                                                        }
                                                        else{
                                                            docTypeItem = [[fieldsArray objectAtIndex:l] objectForKey:@"ZdoctypeItem"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"]]) {
                                                            dataType = @"";
                                                        }
                                                        else{
                                                            dataType = [[fieldsArray objectAtIndex:l] objectForKey:@"Datatype"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"]]) {
                                                            sequence = @"";
                                                        }
                                                        else{
                                                            sequence = [[fieldsArray objectAtIndex:l] objectForKey:@"Sequence"];
                                                        }
                                                        
                                                        if ([NullChecker isNull:[[fieldsArray objectAtIndex:l] objectForKey:@"Length"]]) {
                                                            length = @"";
                                                        }
                                                        else{
                                                            length = [[fieldsArray objectAtIndex:l] objectForKey:@"Length"];
                                                        }
                                                        
                                                        if ([docTypeItem isEqualToString:@"WC"]){
                                                            [transactionsComponentsCustomFields addObject:[NSMutableArray arrayWithObjects:docType,docTypeItem,tabName,fieldName,fieldValue,fLabel,dataType,sequence,length, nil]];
                                                        }
                                                    }
                                                    
                                                    customFieldsComponentsTransactionsID = transactionsComponentsCustomFields;
                                                }
                                                
                                                [orderPartsListArray addObject:[NSArray arrayWithObjects:orderDetailComponentTransactionListArray,customFieldsComponentsTransactionsID, nil]];
                                            }
                                        }
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderTransactionArray objectAtIndex:i]] replaceObjectAtIndex:3 withObject:orderTransactionListArray];
                                    
                                    [[orderDetailDictionary objectForKey:[orderTransactionArray objectAtIndex:i]] replaceObjectAtIndex:4 withObject:orderPartsListArray];
                                }
                                
                                [orderTransactionArray removeAllObjects];
                                
                                ////////////
                                
                                [orderWsmSafetyMeasuresArray addObjectsFromArray:[orderWSMSafetyMeasuresDictionary allKeys]];
                                
                                NSArray *recordIDWSMSafetyMeasuresArray;
                                NSDictionary *WSMSafetyMeasuresDictionary;
                                
                                for (int i =0; i<[orderWsmSafetyMeasuresArray count]; i++) {
                                    
                                    WSMSafetyMeasuresDictionary = [orderWSMSafetyMeasuresDictionary objectForKey:[orderWsmSafetyMeasuresArray objectAtIndex:i]];
                                    recordIDWSMSafetyMeasuresArray = [WSMSafetyMeasuresDictionary allKeys];
                                    NSMutableArray *orderWSMSafetyMeasuresListArray = [NSMutableArray new];
                                    
                                    //CREATE TABLE "ORDER_WSM_SAFETYMEASURES" ("orderwsm_header_id" VARCHAR, "orderwsm_aufnr" VARCHAR, "orderwsm_vornr_operation" VARCHAR,"orderwsm_description" VARCHAR, "orderwsm_safety_text_no" VARCHAR, "orderwsm_objid" VARCHAR, "orderwsm_objtype" VARCHAR, "orderwsm_safetychar" VARCHAR, "orderwsm_safetychar_text" VARCHAR, "orderwsm_action" VARCHAR)
                                    
                                    for (int j=0; j<[recordIDWSMSafetyMeasuresArray count]; j++) {
                                        
                                        NSMutableArray *orderDetailWSMSafetyListArray = [NSMutableArray new];
                                        
                                        tempDictionary = [WSMSafetyMeasuresDictionary objectForKey:[recordIDWSMSafetyMeasuresArray objectAtIndex:j]];
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"EamsAufnr"]]) {
                                            [orderDetailWSMSafetyListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWSMSafetyListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"EamsAufnr"] longLongValue]]];
                                        }
                                        
                                        
                                        [orderDetailWSMSafetyListArray addObject:@""];//operation
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Description"]]) {
                                            [orderDetailWSMSafetyListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"Description"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"EamsSafetyTextNo"]]) {
                                            [orderDetailWSMSafetyListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"EamsSafetyTextNo"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"ObjId"]]) {
                                            [orderDetailWSMSafetyListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"ObjId"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"ObjType"]]) {
                                            [orderDetailWSMSafetyListArray addObject:@""];
                                        }
                                        else{
                                            
                                            if ([[tempDictionary objectForKey:@"ObjType"] isEqualToString:@"DO"]) {
                                                
                                                [orderDetailWSMSafetyListArray addObject:@"Document"];
                                            }
                                            else{
                                                
                                                [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"ObjType"]];
                                            }
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"SafetyChar"]]) {
                                            [orderDetailWSMSafetyListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"SafetyChar"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"SafetyCharTxt"]]) {
                                            [orderDetailWSMSafetyListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailWSMSafetyListArray addObject:[tempDictionary objectForKey:@"SafetyCharTxt"]];
                                        }
                                        
                                        [orderDetailWSMSafetyListArray addObject:@""];//selection
                                        
                                        [orderWSMSafetyMeasuresListArray addObject:orderDetailWSMSafetyListArray];
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderWsmSafetyMeasuresArray objectAtIndex:i]] replaceObjectAtIndex:5 withObject:orderWSMSafetyMeasuresListArray];
                                }
                                
                                [orderWsmSafetyMeasuresArray removeAllObjects];
                                
                                ///////////
                                
                                
                                
                                
                                
                                [orderStatusArray addObjectsFromArray:[orderStatusDictionary allKeys]];
                                
                                NSArray *recordIDorderStatusArray;
                                NSDictionary *EtorderStatusDictionary;
                                
                                for (int i =0; i<[orderStatusArray count]; i++) {
                                    
                                    EtorderStatusDictionary = [orderStatusDictionary objectForKey:[orderStatusArray objectAtIndex:i]];
                                    recordIDorderStatusArray = [EtorderStatusDictionary allKeys];
                                    
                                    NSMutableArray *orderStatusDetailArray = [NSMutableArray new];
                                    
                                    BOOL act = NO;
                                    
                                    for (int j=0; j<[recordIDorderStatusArray count]; j++) {
                                        
                                        NSMutableDictionary *orderStatusListDictionary = [NSMutableDictionary new];
                                        
                                        tempDictionary = [EtorderStatusDictionary objectForKey:[recordIDorderStatusArray objectAtIndex:j]];
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_aufnr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]] forKey:@"orders_aufnr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_vornr_operation"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Vornr"] forKey:@"orders_vornr_operation"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_objnr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Objnr"] forKey:@"orders_objnr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stsma"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stsma"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stsma"] forKey:@"orders_stsma"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Inist"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_inist"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Inist"] forKey:@"orders_inist"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stonr"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stonr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stonr"] forKey:@"orders_stonr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Hsonr"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_hsonr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Hsonr"] forKey:@"orders_hsonr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Nsonr"]]) {
                                            
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_nsonr"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Nsonr"] forKey:@"orders_nsonr"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Stat"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_stat"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Act"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_act"];
                                            
                                            if (act ==YES) {
                                                [orderStatusListDictionary setObject:@"" forKey:@"orders_selected"];//Selection
                                            }
                                            else{
                                                
                                                [orderStatusListDictionary setObject:@"Y" forKey:@"orders_selected"];//Selection
                                            }
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Act"] forKey:@"orders_act"];
                                            [orderStatusListDictionary setObject:@"X" forKey:@"orders_selected"];//Selection
                                            if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"E"]) {
                                                act = YES;
                                            }
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt04"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_txt04"];
                                        }
                                        else{
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt04"] forKey:@"orders_txt04"];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt30"]]) {
                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_txt30"];
                                        }
                                        else{
                                            
                                            [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt30"] forKey:@"orders_txt30"];
                                        }
                                        
                                        [orderStatusDetailArray addObject:orderStatusListDictionary];
                                        
                                        if ([tempDictionary objectForKey:@"SystemStatus"]) {
                                            
                                            if ([[tempDictionary objectForKey:@"SystemStatus"] isKindOfClass:[NSArray class]]) {
                                                
                                                id systemStatus = [tempDictionary objectForKey:@"SystemStatus"];
                                                
                                                for (int k =0 ; k <[systemStatus count]; k++) {
                                                    
                                                    NSMutableDictionary *orderStatusListDictionary = [NSMutableDictionary new];
                                                    
                                                    tempDictionary = [systemStatus objectAtIndex:k];
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_aufnr"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]] forKey:@"orders_aufnr"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_vornr_operation"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Vornr"] forKey:@"orders_vornr_operation"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Objnr"]]) {
                                                        
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_objnr"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Objnr"] forKey:@"orders_objnr"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Stsma"]]) {
                                                        
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_stsma"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stsma"] forKey:@"orders_stsma"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Inist"]]) {
                                                        
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_inist"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Inist"] forKey:@"orders_inist"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Stonr"]]) {
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_stonr"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Stonr"] forKey:@"orders_stonr"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Hsonr"]]) {
                                                        
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_hsonr"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Hsonr"] forKey:@"orders_hsonr"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Nsonr"]]) {
                                                        
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_nsonr"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Nsonr"] forKey:@"orders_nsonr"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Stat"]]) {
                                                        
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_stat"];
                                                    }
                                                    else{
                                                        
                                                        if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"I"]) {
                                                            
                                                            [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                                        }
                                                        else{
                                                            
                                                            [orderStatusListDictionary setObject:[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] forKey:@"orders_stat"];
                                                            
                                                        }
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Act"]]) {
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_act"];
                                                        if (act ==YES) {
                                                            [orderStatusListDictionary setObject:@"" forKey:@"orders_selected"];//Selection
                                                        }
                                                        else{
                                                            [orderStatusListDictionary setObject:@"Y" forKey:@"orders_selected"];//Selection
                                                        }
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Act"] forKey:@"orders_act"];
                                                        
                                                        [orderStatusListDictionary setObject:@"X" forKey:@"orders_selected"];//Selection
                                                        
                                                        if ([[[tempDictionary objectForKey:@"Stat"] substringToIndex:1] isEqualToString:@"E"]) {
                                                            act = YES;
                                                        }
                                                        
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt04"]]) {
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_txt04"];
                                                    }
                                                    else{
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt04"] forKey:@"orders_txt04"];
                                                    }
                                                    
                                                    if ([NullChecker isNull:[tempDictionary objectForKey:@"Txt30"]]) {
                                                        [orderStatusListDictionary setObject:@"" forKey:@"orders_txt30"];
                                                    }
                                                    else{
                                                        
                                                        [orderStatusListDictionary setObject:[tempDictionary objectForKey:@"Txt30"] forKey:@"orders_txt30"];
                                                    }
                                                    
                                                    [orderStatusDetailArray addObject:orderStatusListDictionary];
                                                }
                                            }
                                        }
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderStatusArray objectAtIndex:i]] replaceObjectAtIndex:6 withObject:orderStatusDetailArray];
                                }
                                
                                [orderStatusArray removeAllObjects];
                                
                                ////////////
                                
                                [orderOlistArray addObjectsFromArray:[orderOlistDictionary allKeys]];
                                
                                NSArray *recordOlistArray;
                                NSDictionary *orderObjectlistDictionary;
                                
                                for (int i =0; i<[orderOlistArray count]; i++) {
                                    
                                    orderObjectlistDictionary = [orderOlistDictionary objectForKey:[orderOlistArray objectAtIndex:i]];
                                    recordOlistArray = [orderObjectlistDictionary allKeys];
                                    NSMutableArray *orderObjectListArray = [NSMutableArray new];
                                    
                                    //CREATE TABLE "ORDER_OBJECTS" ("orderobject_header_id" VARCHAR, "orderobject_aufnr" VARCHAR, "orderobject_obknr" VARCHAR, "orderobject_obzae" VARCHAR, "orderobject_qmnum" VARCHAR, "orderobject_equnr" VARCHAR, "orderobject_strno" VARCHAR, "orderobject_tplnr" VARCHAR, "orderobject_bautl" VARCHAR, "orderobject_qmtxt" VARCHAR, "orderobject_pltxt" VARCHAR, "orderobject_eqktx" VARCHAR, "orderobject_maktx" VARCHAR, "orderobject_action" VARCHAR)
                                    
                                    for (int j=0; j<[recordOlistArray count]; j++) {
                                        
                                        NSMutableArray *orderDetailObjectListArray = [NSMutableArray new];
                                        
                                        tempDictionary = [orderObjectlistDictionary objectForKey:[recordOlistArray objectAtIndex:j]];
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[NSString stringWithFormat:@"%lld",[[tempDictionary objectForKey:@"Aufnr"] longLongValue]]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Obknr"]]) {
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Obknr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Obzae"]]) {
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Obzae"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Qmnum"]]) {
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Qmnum"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Equnr"]]) {
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Equnr"]];
                                            
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Strno"]]) {
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Strno"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Tplnr"]]) {
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Tplnr"]];
                                        }
                                        
                                        if([NullChecker isNull:[tempDictionary objectForKey:@"Bautl"]]){
                                            
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Bautl"]];
                                        }
                                        
                                        if([NullChecker isNull:[tempDictionary objectForKey:@"Qmtxt"]]){
                                            
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Qmtxt"]];
                                        }
                                        
                                        if([NullChecker isNull:[tempDictionary objectForKey:@"Pltxt"]]){
                                            
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Pltxt"]];
                                        }
                                        
                                        if([NullChecker isNull:[tempDictionary objectForKey:@"Eqktx"]]){
                                            
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Eqktx"]];
                                        }
                                        
                                        if([NullChecker isNull:[tempDictionary objectForKey:@"Maktx"]]){
                                            
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Maktx"]];
                                        }
                                        
                                        if([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]){
                                            
                                            [orderDetailObjectListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailObjectListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        [orderObjectListArray addObject:orderDetailObjectListArray];
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderOlistArray objectAtIndex:i]] replaceObjectAtIndex:7 withObject:orderObjectListArray];
                                }
                                
                                [orderOlistArray removeAllObjects];
                                
                                ////////////
                                
                                responseObject = nil;
                                
                                [orderMeasurementDocumentsArray addObjectsFromArray:[orderMeasurementDocumentsDictionary allKeys]];
                                
                                NSArray *recordIDMDocsArray;
                                NSDictionary *mDocsDictionary;
                                
                                for (int i =0; i<[orderMeasurementDocumentsArray  count]; i++) {
                                    mDocsDictionary = [orderMeasurementDocumentsDictionary objectForKey:[orderMeasurementDocumentsArray objectAtIndex:i]];
                                    recordIDMDocsArray = [mDocsDictionary allKeys];
                                    NSMutableArray *orderDocsListArray = [NSMutableArray new];
                                    
                                    for (int j=0; j<[recordIDMDocsArray count]; j++) {
                                        NSMutableArray *orderDetailMDocsListArray = [NSMutableArray new];
                                        
                                        tempDictionary = [mDocsDictionary objectForKey:[recordIDMDocsArray objectAtIndex:j]];
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Qmnum"]]) {
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Qmnum"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Aufnr"]]) {
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Aufnr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Vornr"]]) {
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Vornr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Mdocm"]]) {
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mdocm"]];
                                        }
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Point"]]) {
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Point"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Mpobj"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mpobj"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Mpobt"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mpobt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Psort"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Psort"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Pttxt"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Pttxt"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Atinn"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Atinn"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Idate"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Idate"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Itime"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Itime"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Mdtxt"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Mdtxt"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Readr"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Readr"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Atbez"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Atbez"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Msehi"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];//
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Msehi"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Msehl"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Msehl"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Readc"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Readc"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Desic"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Desic"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Prest"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Prest"]];
                                        }
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Docaf"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Docaf"]];
                                        }
                                        
                                        
                                        if ([NullChecker isNull:[tempDictionary objectForKey:@"Action"]]) {
                                            
                                            [orderDetailMDocsListArray addObject:@""];
                                        }
                                        else{
                                            [orderDetailMDocsListArray addObject:[tempDictionary objectForKey:@"Action"]];
                                        }
                                        
                                        
                                        [orderDocsListArray addObject:orderDetailMDocsListArray];
                                    }
                                    
                                    [[orderDetailDictionary objectForKey:[orderMeasurementDocumentsArray objectAtIndex:i]] replaceObjectAtIndex:11 withObject:orderDocsListArray];
                                }
                                
                                [orderMeasurementDocumentsArray removeAllObjects];
                                
                                ///
                                
                                NSArray *objectIds = [orderDetailDictionary allKeys];
                                
                                if ([[defaults objectForKey:@"ACTIVATELOGS"] isEqualToString:@"X"])
                                {
                                    [[DataBase sharedInstance] writToLogFile:[NSString stringWithFormat:@"#INFO#.com.enstrapp.fieldtekpro#No of Release  Orders received:%lu",(unsigned long)[objectIds count]]];
                                }
                                
                                for (int i=0; i<[objectIds count]; i++) {
                                    
                                    if (i ==1) {
                                        
                                        [orderWcmOperationWCDTaggingConditionsArray removeAllObjects];
                                        [orderWcmPermitsStandardCheckPoints removeAllObjects];
                                    }
                                    
                                    [[DataBase sharedInstance] insertDataIntoOrderHeader:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] firstObject] withAttachments:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:2] withPermitWorkApprovalsDetails:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:1] withOperation:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:3] withParts:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:4] withWSM:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:5] withObjects:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:7] withSystemStatus:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:6] withPermitsWorkApplications:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:8] withIssuePermits:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:9] withPermitsOperationWCD:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:10] withPermitsOperationWCDTagiingConditions:orderWcmOperationWCDTaggingConditionsArray withPermitsStandardCheckPoints:orderWcmPermitsStandardCheckPoints withMeasurementDocs:[[orderDetailDictionary objectForKey:[objectIds objectAtIndex:i]] objectAtIndex:11]];
                                }
                                
                                if (aufnr.length) {
                                    
                                    [[DataBase sharedInstance] updateSyncLogForCategory:@"Order" action:@"Release" objectid:aufnr UUID:[self.orderHeaderDetails objectForKey:@"ID"]];
                                }
                                
                                if ([[self.orderHeaderDetails objectForKey:@"QMNUM"] length]) {
                                    NSMutableDictionary *updateParameters = [[NSMutableDictionary alloc]init];
                                    [updateParameters setObject:[self.orderHeaderDetails objectForKey:@"QMNUM"] forKey:@"QMNUM"];
                                    [updateParameters setObject:aufnr forKey:@"AUFNR"];
                                    
                                    [[DataBase sharedInstance] updateOrderNoinNotification:updateParameters];
 
                         [self showAlertMessageWithTitle:@"Success" message:messageString cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:@"Release Response"];
                                    
                                    
                                }
                                else{
                                    
 
                                [self showAlertMessageWithTitle:@"Success" message:[NSString stringWithFormat:@"%@",messageString] cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:@"Release Response"];
                                    
                                }
                            }
                        }
 
                    }
                    
                    else if ([parsedDictionary objectForKey:@"ERROR"]){
                        
                        [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Release" objectid:@"" UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:[[parsedDictionary objectForKey:@"Message"] substringFromIndex:1] Date:[self.orderHeaderDetails objectForKey:@"DATE"] timestamp:[self.orderHeaderDetails objectForKey:@"TIME"]];
 
                        if ([parsedDictionary objectForKey:@"Message"])
                         {
 
                            [self showAlertMessageWithTitle:@"Order is not Released" message:[[parsedDictionary objectForKey:@"Message"] substringFromIndex:1] cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:@"Release Error  Response"];
                            
                        }
                        else
                        {
                             [self showAlertMessageWithTitle:@"Order is not Released" message:[parsedDictionary objectForKey:@"ERROR"] cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:@"Release Error  Response"];
 
                        }
                        
                     }
                    else
                    {
                        [[DataBase sharedInstance] updateSyncLogErrorForCategory:@"Order" action:@"Release" objectid:@"" UUID:[self.orderHeaderDetails objectForKey:@"ID"] message:NSLocalizedString(@"ErrorMessage", nil) Date:[self.orderHeaderDetails objectForKey:@"DATE"] timestamp:[self.orderHeaderDetails objectForKey:@"TIME"]];
 
                        [self showAlertMessageWithTitle:@"Information" message:[NSString stringWithFormat:NSLocalizedString(@"ErrorMessage", nil)] cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];
                        
                    }
                }
                
                
                releaseButton.hidden = YES;
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];

                [self searchMyOrdersFromSqlite:nil];
 
            }
            else{
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];
                
                [self showAlertMessageWithTitle:@"Error" message:errorDescription cancelButtonTitle:@"OK" withactionType:@"Single" forMethod:nil];

            }
            
            break;
 
        default:
            break;
    }
    
    
//    if ([[ConnectionManager defaultManager] isReachable]) {
//        [[ConnectionManager defaultManager] refreshSyncLog];
//    }
}


/*
 #pragma mark - Navigation
 
 // In a storyboard-based application, you will often want to do a little preparation before navigation
 - (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
 // Get the new view controller using [segue destinationViewController].
 // Pass the selected object to the new view controller.
 }
 */

@end

