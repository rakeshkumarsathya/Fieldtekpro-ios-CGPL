//
//  MISViewController.m
//  Fieldtekpro
//
//  Created by Enstrapp Bangalore on 03/01/17.
//  Copyright Â© 2017 Enstrapp IT Solutions. All rights reserved.
//

#import "MISViewController.h"
#import "Response.h"
#import "ConnectionManager.h"
#import "NotifDescTableViewCell.h"

#import "EquipmentNumberTableViewCell.h"
#import "EquipmentNumberDescriptionTableViewCell.h"
#import "NSMutableArray+TTMutableArray.h"
#import "AvailabilityDetailTableViewCell.h"
#import "NotifDescriptionTableViewCell.h"
#import "DataBase.h"



#define isiPhone5  ([[UIScreen mainScreen] bounds].size.height == 568)?TRUE:FALSE
#define isiPhone6 ( [[UIScreen mainScreen] bounds].size.height == 667)?TRUE:FALSE
#define IS_IPHONE_6_PLUS ([[UIScreen mainScreen] bounds].size.height == 736.0)?TRUE:FALSE
#define isiPhone7 ( [[UIScreen mainScreen] bounds].size.height == 667)?TRUE:FALSE
#define IS_IPHONE_7_PLUS ([[UIScreen mainScreen] bounds].size.height == 736.0)?TRUE:FALSE
#define IS_IPAD ([[UIScreen mainScreen] bounds].size.height == 1024.0)?TRUE:FALSE


#define ID_INDEX 0
#define NAME_INDEX 1

#define UIColorFromRGB(r, g, b)  [UIColor colorWithRed:((r) / 255.0) green:((g) / 255.0) blue:((b) / 255.0) alpha:1.0]

@interface MISViewController ()
{
    int tag;
    NSMutableData *responseData;
    NSMutableString *soapMessage;
    Response *res_obj;
    NSMutableArray *array,*detailsArray,*monthArray,*availabilityArray, *secondPieChartArray,*barDtailArray,*permitTotalPlantsArray,*permitPlantArray,*permitDescrpnArray,*permitDetailArray,*permitWorkCenterArray,*permitTotalWorkCenterArray,*filterStructuredArray,*wrkAppStructuredArray,*wrkAppPlantMainArray,*wrkAppWorkCenterMainArray,*applicationPlantMainArray,*applicationWorkCenterMainArray,*applnWrkAppPlantMainArray,*applnWrkAppWorkCenterMainArray,*permitDetailDescpnArray,*notifDescPlantMainArray,*notifDescWorkCenterMainArray,*notifDetailPlantMainArray,*notifDetailWorkCenterArray,*detailFilteredArray,*permitWaTableArray,*brkDownPlantMainArray,*brkDownAreaMainArray,*notifBarchartTextDescArray;
    NSMutableArray *month,*txtArray,*descArray,*arrays,*monthTempArray,*notifMainArray,*notifTypeArray,*totalCoutArray,*notifQmartArray,*notifQmartTextArray,*notifTotalArray,*notifTotalMainArray;
    NSMutableArray *timeArr;
    NSMutableDictionary *textDictionary,*textDescDictionary,*countDictionary,*notifMainArrayDict;
    NSMutableDictionary *parsedDictionary;
     BOOL isLabelHighlighted;
    UIBarButtonItem *doneButton,*sapaceButton,*cancelButton;
    NSUserDefaults *defaults;
    
    NSMutableArray *tempArrayDetails,*permitApplicationTypeArray,*filteredTempArrayDetails,*permitPriorityArray;
    NSString *titleString,*notifTypeTextString;
    NSMutableArray *numArray,*textArray,*equipArray,*phaseArray,*temparrays,*equipTxtArray,*plntTxtArray,*workCenterTxtArray;
    NSMutableDictionary *equipDict,*textDict,*equipTxtDict,*plntTxtDict,*workCenterTxtDict;
    
    NSDate *currentDate;
    NSDateComponents *dateComponents;
    NSCalendar *calendar;
    NSDate *newDate;
    NSString *newString;
    NSDateFormatter *formatter;
    NSString *dateString,*convertedStartDateString;
    NSTimeZone *timeZone;
    NSInteger dateInt;
    UIButton *button;
    
    NSMutableArray *monthsArray,*yearsArray;
    NSDateComponents *currentDateComponents;
    UIPickerView *myPickerView;
    UIToolbar *toolBar;
    NSMutableArray *plantArray,*availabilityPlantArray,*brkPlantArray,*barchartArray,*brkdownDescriptionArray,*notifWorkCenterMainArray,*notifPlantMainArray,*notifFilterStructuredArray,*breakdownMonthMainArray,*breakdownBarGraphMonthArray,*brkdownMainArray,*brkdownTempArray,*brkDownArray,*mttrMainArray,*notifDescFilterStructuredArray,*notifDescPlantWorkCenterArray,*notifDescFilteredArray,*notifDetailFilterStructuredArray,*notifDetailPlantWorkCenterArray,*notifDetailFilteredArray,*brkDownFilterStructuredArray,*brkDownAreaArray,*brkDownFilteredArray,*notifComlianceMainArray,*complianceArray,*notifBarchartText,*notifComplianceSecondArray,*notifBarPlantMainArray,*notifBarWorkcenterMainArray,*notifBarFilterStructuredArray,*notifBarFilteredArray,*brkDownPlantArray;
    NSMutableDictionary *numDict;
    NSMutableArray *tempDetailsarrays,*tempDetailsCopyArray;
    BOOL notifFilter;
    BOOL notifDetailFilter;
    NSString *descPlant;
    NSString *detailPlant;
    NSMutableArray *availabilitySummary;
    NSMutableDictionary *availabilityPlantDict;
    
    NSString *brkStartDate,*brkEndDate;
    NSMutableArray *typeArray,*barTotalArray;
    NSMutableDictionary *newDict,*newWrkAppDict;
    NSDictionary *oldDict,*oldWrkAppDict;
    NSMutableArray *first,*second,*third,*fourth,*fifth,*sixth,*seventh,*applicationTypeArray;
    NSMutableArray *permitArray;
    NSMutableArray *applnTextArray;
    NSMutableArray *workApprNum,*permitWrkApprNum,*permitDetailListArray;
    NSMutableDictionary *permitWrkApprNumDict,*wrkApprovalNum;
    
    NSString *permitStatusString;
    NSMutableArray *plantWrkCenterArray,*workCenterFilteredArray,*wrkAppFilteredArray,*wrkApprPlantWrkCenterArray,*applicationPlantWrkCenterArray,*applicationFilteredArray,*applnWrkAppPlantWorkCenterArray,*applnWrkAppFilteredArray,*notifPlantWorkCenterArray,*notifFilteredArray;
    BOOL filterFlag;
    BOOL workAppFilterFlag;
    BOOL applicationFilterFlag;
    BOOL applicationWorkAppFilterFlag;
    BOOL notifFilterFlag;
    BOOL notifDescFilterFlag;
    BOOL notifDetailFilterFlag;
    BOOL notifPieChart;
    BOOL brkDownFilterFlag;
    BOOL notifBarFilterFlag;
    UIView *superview;
    
    
    NSMutableArray *copyFilteredArray,*applicationFilterArray,*applnWrkAppFilterArray;
    NSString *applicationString;
    NSString *notifCompString;
    
    NSArray<NSString *> *months;
    
    NSArray *values1;
    NSArray *values2;
    NSArray *values3;
    NSArray *values4;
    
    UIView *legend;
    NSArray *items;
    
    NSMutableArray *brkdownDescArray,*brkdownDescPlantArray;
    NSMutableArray *brkDownCountArray,*brkDownMttrArray,*brkDownHoursArray,*brkDownMonthArray;
    
    NSMutableArray *brkDownMonthMainArray;
    NSString *notifPiechartString;
    NSMutableArray *finalNotifDetailsArray,*finalNotifBarchartArray;
    NSString *textString,*permitWapnrTextString,*permitPlntString,*permitWrkCntrString;
    NSMutableArray *permitAppArray;
    NSString *notifFilteredPlantString,*notifFilteredWorkCentreString;;
    NSMutableArray *permitApplnArray;
    NSString *permitFilteredPlantString,*permitFilteredWorkCenterString,*permitStatusTextString,*permitWrkAppTextString;
    NSString *priorityString,*notifPriorityString;
    NSMutableArray *firstCountArray,*secondCountArray,*thirdCountArray,*fourthCountArray,*fifthCountArray,*sixthCountArray,*seventhCountArray,*totalPermitArray;
    NSMutableArray *barChartPlantArray;
    NSMutableArray *brkdownFilteredAreaArray,*notifBarPlantWorkCenterArray;
    NSString *breadkDownStr;
    NSString *permitPlantApplnText;
    NSMutableArray *wrkApprovalDescArray,*piechartColorsArray;
    
     NSString *bYear;
    NSString *alertString,*currentMonth;
    NSMutableArray *chartDataArray;
    NSString *MaxPlantString;
 }

@property (strong, nonatomic) IBOutlet CombinedChartView *chartView;



@end

static MISViewController *misButtonSlection;

@implementation MISViewController

@synthesize segmentedControl,notifSegmentedControl;

- (void)viewDidLoad {
    
    [super viewDidLoad];
    
    self.currentMonthHeader.text = @"Current Month MTTR";
    self.monthlyTrendHeader.text = @"MTTR Monthly Trend";
    
    InitialFlag=YES;
    notifFilter = NO;
    notifDetailFilter = NO;
    notifDetailFilterFlag = NO;
//    brkDownFilterFlag = NO;
    notifBarFilterFlag = NO;
    self.barchartView.hidden = YES;
    self.notifBarchartView.hidden = YES;
    
    defaults = [NSUserDefaults standardUserDefaults];
    [defaults synchronize];
    
    res_obj = [Response sharedInstance];
    
    self.plantLabelText.hidden = YES;
    self.plantHeader.hidden = YES;
    self.secondLevelNotifFilterImage.hidden = YES;
    self.filterButton.hidden = YES;
    self.notifBarBackground.hidden = YES;
    
    self.brkDownFilterBackground.hidden = YES;
    
    filterFlag = NO;
    workAppFilterFlag = NO;
    applicationFilterFlag = NO;
    applicationWorkAppFilterFlag = NO;
    notifFilterFlag = NO;
    notifDescFilterFlag = NO;
    
    self.applicationFilterBackground.hidden = YES;
    self.notifFilterBackGround.hidden = YES;
    self.notifDetailBackground.hidden = YES;
    
    self.detailPlantHeader.hidden = YES;
    self.detailSelectedPlantText.hidden = YES;
    
    self.permitPlantText.hidden = YES;
    self.permitPlantTitle.hidden = YES;
    self.wrkApprovalPlantText.hidden = YES;
    self.workApprovalPlantTitle.hidden = YES;
    
    self.misFilterBackground.hidden=YES;
    
    self.permitDetailPlantText.hidden = NO;
    self.permitDetailPlantTitle.hidden = NO;
    self.permitDetailFilter.hidden = NO;
    self.segmentedControl.selectedSegmentIndex = 0;
    
    tempArrayDetails = [NSMutableArray new];
    descArray = [NSMutableArray new];
    plantArray = [NSMutableArray new];
    if (isiPhone6 || isiPhone7)
    {
        [self.notifTableView registerNib:[UINib nibWithNibName:@"NotifDetailTableviewCell_iphone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.availabilityDetailTableView registerNib:[UINib nibWithNibName:@"AvailabilityDetailTableViewCell_iPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.permitDetailTableView registerNib:[UINib nibWithNibName:@"PermitTableViewCell_iPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        
        [self.filterTableView registerNib:[UINib nibWithNibName:@"FilterTableViewCell_iPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        
        [self.notifDescTableView registerNib:[UINib nibWithNibName:@"NotifDescTableViewCell_iPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        
        [funcLocationTableView registerNib:[UINib nibWithNibName:@"FunctionalLocationTableViewCell_iPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        
        [equipmentNumberTableView registerNib:[UINib nibWithNibName:@"EquipNumberTableViewCell" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        
        [self.brkdownTableView registerNib:[UINib nibWithNibName:@"BrkDownDetailsTableViewCell_iPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"Cell"];
        
        [self.misFilterTableView registerNib:[UINib nibWithNibName:@"FilterSortTableViewCell_IPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"Cell"];
        
    }
    else if (IS_IPHONE_6_PLUS || IS_IPHONE_7_PLUS)
    {
        // [self.notifTableView registerNib:[UINib nibWithNibName:@"NotifDetailTableviewCell_iPhone6Plus" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.permitDetailTableView registerNib:[UINib nibWithNibName:@"PermitTableViewCell_iPhone6Plus" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.availabilityDetailTableView registerNib:[UINib nibWithNibName:@"AvailabilityDetailTableViewCell_iPhone6Plus" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.notifDescTableView registerNib:[UINib nibWithNibName:@"NotifDescTableViewCell_iPhone6Plus" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.misFilterTableView registerNib:[UINib nibWithNibName:@"FilterSortTableViewCell_IPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"Cell"];
        
        
    }
    else if (isiPhone5)
    {
        [self.notifDescTableView registerNib:[UINib nibWithNibName:@"NotifDescTableViewCell_iPhone5" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.misFilterTableView registerNib:[UINib nibWithNibName:@"FilterSortTableViewCell_IPhone6" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"Cell"];
        
        [self.notifTableView registerNib:[UINib nibWithNibName:@"NotifDetailTableviewCell_iPhone5" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.permitDetailTableView registerNib:[UINib nibWithNibName:@"PermitTableViewCell_iPhone5" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.availabilityDetailTableView registerNib:[UINib nibWithNibName:@"AvailabilityDetailTableViewCell_iPhone5" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
    }
    else if (IS_IPAD)
    {
        [self.permitDetailTableView registerNib:[UINib nibWithNibName:@"PermitTableViewCell_iPad" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
//        [self.availabilityDetailTableView registerNib:[UINib nibWithNibName:@"AvailabilityDetailTableViewCell_iPhone6Plus" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.notifDescTableView registerNib:[UINib nibWithNibName:@"NotifDescTableViewCell_iPad" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"CustomCell"];
        [self.misFilterTableView registerNib:[UINib nibWithNibName:@"FilterSortTableViewCell_IPad" bundle:[NSBundle mainBundle]] forCellReuseIdentifier:@"Cell"];
    }
    
    self.descBrkDownChartView.hidden = YES;
    self.pieBrkDownChartView.hidden = NO;
    
    //    self.detailsText.hidden = YES;
    self.descBrkdwnLbl.hidden = YES;
    
    //    self.descNotifPieChartView.hidden = YES;
    //    self.pieNotifChartView.hidden = NO;
    //    self.closeButton.hidden = YES;
    //    self.notifCloseButton.hidden = YES;
    //    self.descPlantHeader.hidden = YES;
    //    self.notifDescPlantLabelText.hidden = YES;
    self.brkPlantText.hidden = YES;
    self.brkPlantTitle.hidden = YES;
    
    UITapGestureRecognizer *tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleTapGesture:)];
    
    tapGesture.numberOfTapsRequired = 1;
    
    [self.pieNotifChartView addGestureRecognizer:tapGesture];
    self.pieNotifChartView.tag = 1;
    
    UITapGestureRecognizer *descTapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleDescTapGesture:)];
    descTapGesture.numberOfTapsRequired = 1;
    [self.descNotifPieChartView addGestureRecognizer:descTapGesture];
    self.descNotifPieChartView.tag = 2;
    
    UITapGestureRecognizer *tapGestureforBrkdown = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleBrkdwnTapGesture:)];
    
    tapGestureforBrkdown.numberOfTapsRequired = 1;
    [self.pieBrkDownChartView addGestureRecognizer:tapGestureforBrkdown];
    
    self.pieBrkDownChartView.tag = 3;
    
    UITapGestureRecognizer *tapGestureforPermit = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handlePermitTapGesture:)];
    tapGestureforPermit.numberOfTapsRequired = 1;
    [self.permitPiechartView addGestureRecognizer:tapGestureforPermit];
    
    self.permitPiechartView.tag = 4;
    
    UITapGestureRecognizer *tapGestureforWorkApprovalDetails = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleWorkApprovalDetailsTapGesture:)];
    
    tapGestureforWorkApprovalDetails.numberOfTapsRequired = 1;
    [self.workApprovalPiechartView addGestureRecognizer:tapGestureforWorkApprovalDetails];
    
    self.workApprovalPiechartView.tag = 5;
    
    UITapGestureRecognizer *permitDescription = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handlePermitDescriptionTapGesture:)];
    permitDescription.numberOfTapsRequired = 1;
    [self.permitDescriptionPiechartView addGestureRecognizer:permitDescription];
    
    self.permitDescriptionPiechartView.tag = 6;
    
    
    [self.startDateTextField setTag:1];
    [self.endDateTextField setTag:2];
    
    NSString *str_UserNameDep = [defaults objectForKey:@"userName"];
    decryptedUserName = [[NSString alloc] initWithString:[str_UserNameDep AES128DecryptWithKey:@""]];
    plantID = @"";
    workCenterID = @"";
    //    NSArray *plantNWorkCenter = [[DataBase sharedInstance] getUserDataMasterinSingleArray];
    //
    //    NSArray *plantText = [[DataBase sharedInstance] getPlantText:[plantNWorkCenter objectAtIndex:0]];
    //
    //    if ([plantNWorkCenter count]) {
    //
    //        plantID = [plantNWorkCenter objectAtIndex:0];
    //        workCenterID = [plantNWorkCenter objectAtIndex:1];
    //
    //        _plantTextField.text = [plantText objectAtIndex:0];
    //
    //        _permitPlantTextField.text =[plantText objectAtIndex:0];
    //
    //        _permitWorkcenterTextField.text = workCenterID;
    //    }
    
    availabilityString = @"1";
    summaryString = @"2";
    
    monthArray = [NSMutableArray new];
    YearArray = [NSMutableArray new];
    
    monthArray = [NSMutableArray arrayWithObjects:[NSArray arrayWithObjects:@"01",@"January", nil],[NSArray arrayWithObjects:@"02",@"February", nil],[NSArray arrayWithObjects:@"03",@"March", nil],[NSArray arrayWithObjects:@"04",@"April", nil],[NSArray arrayWithObjects:@"05",@"May", nil],[NSArray arrayWithObjects:@"06",@"June", nil],[NSArray arrayWithObjects:@"07",@"July", nil],[NSArray arrayWithObjects:@"08",@"Agust", nil],[NSArray arrayWithObjects:@"09",@"September", nil],[NSArray arrayWithObjects:@"10",@"October", nil],[NSArray arrayWithObjects:@"11",@"November", nil],[NSArray arrayWithObjects:@"12",@"December", nil], nil];
    
    [YearArray addObject:[NSArray arrayWithObjects:@"2011",@"2012",@"2013",@"2014",@"2015",@"2016",@"2017",@"2018",@"2019",@"2020",@"2021",@"2022", nil]];
    
    
    //    self.monthTextField.userInteractionEnabled = NO;
    //    self.yearTextField.userInteractionEnabled = NO;
    self.yearTextField.hidden = YES;
    self.monthTextField.hidden = YES;
    
    if (isiPhone5)
    {
        [self scrollViewToCenterOfScreen:self.notifScrollView];
        self.notifScrollView.contentSize = CGSizeMake(320, 600);
    }
    
    
    if ([self.selectedValue isEqualToString:@"Permit Report"])
    {
        [self loadPermitdata];
    }
    
    else if ([self.selectedValue isEqualToString:@"Notif Analysis"]){
        
        [self loadNotifDetailsClicked];
        
    }
    
    else if ([self.selectedValue isEqualToString:@"Order Analysis"])
    {
         selectedFlag=@"Order";
         [self initialData];
        
     }
    
    else  {
        
        [self loadBreakDownCliked];
 
    }
    
    
    // Do any additional setup after loading the view from its nib.
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (void)scrollViewToCenterOfScreen:(UIView *)theView
{
    CGFloat viewCenterY = theView.center.y;
    CGRect applicationFrame = self.notifScrollView.frame;
    
    CGFloat availableHeight = applicationFrame.size.height - 230;
    
    CGFloat y = viewCenterY - availableHeight / 2.0;
    if (y < 0) {
        y = 0;
    }
    [self.notifScrollView setContentOffset:CGPointMake(0, 0) animated:YES];
}

-(void)showAlertMessageWithTitle:(NSString*)title message:(NSString*)message cancelButtonTitle:(NSString *)cancelBtnTitle withactionType:(NSString *)actionString forMethod:(NSString *)methodNameString
{
    
    
    
    UIAlertController * alert=[UIAlertController alertControllerWithTitle:title
                                                                  message:message
                                                           preferredStyle:UIAlertControllerStyleAlert];
    
    if ([actionString isEqualToString:@"Multiple"]) {
        
        
        UIAlertAction* yesButton = [UIAlertAction actionWithTitle:@"Yes"
                                                            style:UIAlertActionStyleDefault
                                                          handler:^(UIAlertAction * action)
                                    {
                                        if ([methodNameString isEqualToString:@"Financial Alert"]) {
                                            
                                            {
                                                breadkDownStr = @"PreviousFinantialYearData";
                                                
                                                NSMutableDictionary *brkdownDict = [[NSMutableDictionary alloc]init];
                                                [brkdownDict setObject:decryptedUserName forKey:@"USERNAME"];
                                                
                                                [brkdownDict setObject:@"RD" forKey:@"ACTIVITY"];
                                                [brkdownDict setObject:@"R1" forKey:@"DOCTYPE"];
                                                [brkdownDict setObject:@"SOAP" forKey:@"ENDPOINT"];
                                                
                                                NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:brkdownDict];
                                                NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
                                                [brkdownDict setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
                                                
                                                [brkdownDict setObject:@"" forKey:@"SIGN"];
                                                [brkdownDict setObject:@"" forKey:@"OPTION"];
                                                [brkdownDict setObject:@"" forKey:@"STARTDATE"];
                                                [brkdownDict setObject:@"" forKey:@"ENDDATE"];
                                                [brkdownDict setObject:@"X" forKey:@"YEAR"];
                                                [brkdownDict setObject:@"MISR" forKey:@"TRANSMITTYPE"];
                                                
 
                                                [Request makeWebServiceRequest:BREAKDOWN_STATISTICS parameters:brkdownDict delegate:self];
                                            }
                                            
                                        }
 
                                        // call method whatever u need
                                    }];
        
        UIAlertAction* noButton = [UIAlertAction actionWithTitle:cancelBtnTitle
                                                           style:UIAlertActionStyleDefault
                                                         handler:^(UIAlertAction * action)
                                   {
                                       /** What we write here???????? **/
                                       NSLog(@"you pressed No, thanks button");
                                       // call method whatever u need
 
                                       [alert dismissViewControllerAnimated:YES completion:nil];
                                       
                                   }];
        
        [alert addAction:noButton];
        [alert addAction:yesButton];
        
        [self presentViewController:alert animated:YES completion:nil];
    }
    
    else{
        
        UIAlertAction* okButton = [UIAlertAction actionWithTitle:cancelBtnTitle
                                                           style:UIAlertActionStyleDefault
                                                         handler:^(UIAlertAction * action)
                                   {
                                       
                                       [alert dismissViewControllerAnimated:YES completion:nil];
                                       
                                       if ([methodNameString isEqualToString:@"Permit"]) {
                                           
                                           [self.permitView removeFromSuperview];
                                           
                                       }
                                       
                                       else if ([methodNameString isEqualToString:@"Availability Report"]){
                                           
                                           [self.availabilityReportView removeFromSuperview];
                                           
                                       }
 
                                   }];
        
        [alert addAction:okButton];
        
        [self presentViewController:alert animated:YES completion:nil];
        
    }
}


- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField
{
    if (textField==self.plantTextField)
    {
        self.dropDownHeaderTitle.text = @"List of Plants";
        
        [[self.plantTextField valueForKey:@"textInputTraits"] setValue:[UIColor clearColor] forKey:@"insertionPointColor"];
        
        if(self.dropDownArray == nil){
            
            self.dropDownArray = [NSMutableArray new];
        }
        else{
            [self.dropDownArray removeAllObjects];
        }
        
        [self.plantTextField resignFirstResponder];
        
        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getListOfPlants]];
        
        [self.listofPlantsTableView reloadData];
        
        [self.view addSubview:self.listofPlantsView];
        
        
        return NO;
        
        
    }
    else if (textField==self.permitPlantTextField)
    {
        self.dropDownHeaderTitle.text = @"List of Plants";
        
        [[self.permitPlantTextField valueForKey:@"textInputTraits"] setValue:[UIColor clearColor] forKey:@"insertionPointColor"];
        
        if(self.dropDownArray == nil){
            
            self.dropDownArray = [NSMutableArray new];
        }
        else{
            [self.dropDownArray removeAllObjects];
        }
        
        [self.permitPlantTextField resignFirstResponder];
        
        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getListOfPlants]];
        
        [self.listofPlantsTableView reloadData];
        
        [self.view addSubview:self.listofPlantsView];
        
        
        return NO;
    }
    else if (textField==self.permitWorkcenterTextField)
    {
        self.dropDownHeaderTitle.text = @"List of WorkCenter";
        
        [[self.permitWorkcenterTextField valueForKey:@"textInputTraits"] setValue:[UIColor clearColor] forKey:@"insertionPointColor"];
        
        if(self.dropDownArray == nil){
            
            self.dropDownArray = [NSMutableArray new];
        }
        else{
            [self.dropDownArray removeAllObjects];
        }
        
        [self.permitWorkcenterTextField resignFirstResponder];
        
        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getListOfWorkCenter]];
        
        [self.view addSubview:self.listofPlantsView];
        
        [self.listofPlantsTableView reloadData];
        
        return NO;
    }
    else{
        
        tag=(int)textField.tag;
        
        if (textField==self.startDateTextField)
        {
            tag=1;
            [self datePickerForPickingDate];
        }
        else if (textField==self.endDateTextField)
        {
            tag=2;
            [self datePickerForPickingDate];
        }
        //        else if (textField==self.monthTextField)
        //        {
        //            tag = 3;
        //            [self dropDown];
        //            self.monthTextField.inputView = self.dropDownTableView;
        //            self.monthTextField.inputAccessoryView = self.mypickerToolbar;
        //
        //            [self.dropDownTableView reloadData];
        //            return YES;
        //
        //        }
        //        else if (textField==self.yearTextField)
        //        {
        //            tag = 4;
        //
        //            [self dropDown];
        //            self.yearTextField.inputView = self.dropDownTableView;
        //            self.yearTextField.inputAccessoryView = self.mypickerToolbar;
        //
        //            [self.dropDownTableView reloadData];
        //            return YES;
        //
        //        }
        else if (textField==self.malfunctionStartTextField)
        {
            tag=7;
            [self datePickerForPickingDate];
            return YES;
        }
        else if (textField==self.malfunctionEndTextField)
        {
            tag=6;
            [self datePickerForPickingDate];
            return YES;
        }
        else if (textField==self.notifMonthTextField)
        {
            tag = 5;
            [self picker];
            self.notifMonthTextField.inputView = myPickerView;
            [self pickerToolBar];
            self.notifMonthTextField.inputAccessoryView = toolBar;
        }
        else if (textField==self.monthTextField)
        {
            tag = 3;
            [self picker];
            self.monthTextField.inputView = myPickerView;
            [self pickerToolBar];
            self.monthTextField.inputAccessoryView = toolBar;
        }
        else if (textField==self.permitTimePeriodTextField)
        {
            if (segmentedControl.selectedSegmentIndex == 0)
            {
                tag = 8;
                [self picker];
                self.permitTimePeriodTextField.inputView = myPickerView;
                [self pickerToolBar];
                self.permitTimePeriodTextField.inputAccessoryView = toolBar;
                
            }
            else if (segmentedControl.selectedSegmentIndex == 1)
            {
                tag = 9;
                [self picker];
                self.permitTimePeriodTextField.inputView = myPickerView;
                [self pickerToolBar];
                self.permitTimePeriodTextField.inputAccessoryView = toolBar;
            }
        }
        
    }
    
    return YES;
}

-(BOOL)textFieldShouldReturn:(UITextField *)textField{
    
    [textField resignFirstResponder];
    
    return YES;
}

-(void)pickerToolBar
{
    
    if (isiPhone5) {
        toolBar= [[UIToolbar alloc] initWithFrame:CGRectMake(0,0,320,44)];
    }
    else if (isiPhone6 || isiPhone7)
    {
        toolBar= [[UIToolbar alloc] initWithFrame:CGRectMake(0,0,375,44)];
    }
    else if (IS_IPHONE_6_PLUS || IS_IPHONE_7_PLUS)
    {
        toolBar= [[UIToolbar alloc] initWithFrame:CGRectMake(0,0,414,44)];
    }
    else if (IS_IPAD)
    {
        toolBar= [[UIToolbar alloc] initWithFrame:CGRectMake(0,0,414,44)];

    }
    else
    {
        toolBar= [[UIToolbar alloc] initWithFrame:CGRectMake(0,0,320,44)];
    }
    
    [toolBar setBarStyle:UIBarStyleBlackOpaque];
    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    
    UIBarButtonItem *barButtonCancel = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(pickerCancelClicked)];
    
    [barItems addObject:barButtonCancel];
    [barButtonCancel setTintColor:[UIColor whiteColor]];
    
    UIBarButtonItem *barButtonDone = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(pickerDoneClicked)];
    
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    
    [barItems addObject:flexSpace];
    
    [barItems addObject:barButtonDone];
    [barButtonDone setTintColor:[UIColor whiteColor]];
    
    [toolBar setItems:barItems animated:YES];
    
}

-(void)picker
{
    calendar = [NSCalendar new];
    currentDateComponents = [[NSCalendar currentCalendar] components:NSCalendarUnitDay | NSCalendarUnitMonth | NSCalendarUnitYear fromDate:[NSDate date]];
    monthsArray=[[NSMutableArray alloc]initWithObjects:@"Jan",@"Feb",@"Mar",@"Apr",@"May",@"Jun",@"Jul",@"Aug",@"Sep",@"Oct",@"Nov",@"Dec",nil];
    yearsArray=[[NSMutableArray alloc]init];
    
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat:@"yyyy"];
    NSString *yearString = [dateFormatter stringFromDate:[NSDate date]];
    
    for (int i=0; i<4; i++)
    {
        [yearsArray addObject:[NSString stringWithFormat:@"%d",[yearString intValue]-i]];
    }
    
    if (isiPhone5)
    {
        myPickerView = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 200, 320, 200)];
        
    }
    else if (isiPhone6 || isiPhone7)
    {
        myPickerView = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 467, 375, 200)];
    }
    else if (IS_IPHONE_6_PLUS || IS_IPHONE_7_PLUS)
    {
        myPickerView = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 200, 414, 200)];
    }
    else if (IS_IPAD)
    {
        myPickerView = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 200, 414, 200)];

    }
    else
    {
        myPickerView = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 200, 320, 200)];
        
    }
    myPickerView.delegate = self;
    myPickerView.dataSource = self;
    
    myPickerView.showsSelectionIndicator = YES;
    [myPickerView selectRow:[currentDateComponents month]-1 inComponent:0 animated:YES];
    
}
#pragma UIPickerView Delegate Methods

// tell the picker how many components it will have
- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView
{
    return 2;
}

// tell the picker how many rows are available for a given component
- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component
{
    NSInteger rowsInComponent ;
    NSInteger yrInComponent ;
    
    if (component==0)
    {
        rowsInComponent=[monthsArray count];
        return rowsInComponent;
        
    }
    if (component == 1)
    {
        yrInComponent=[yearsArray count];
        return yrInComponent;
        
    }
    return 0;
}



- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
{
    
    if ([pickerView selectedRowInComponent:0]+1>[currentDateComponents month] && [[yearsArray objectAtIndex:[pickerView selectedRowInComponent:1]] intValue]==[currentDateComponents year])
    {
        [pickerView selectRow:[currentDateComponents month]-1 inComponent:0 animated:YES];
        
        [pickerView reloadComponent:0];
        
    }
    
    if (component==1)
    {
        [pickerView reloadComponent:0];
        
    }
    if (tag == 3)
    {
        self.monthTextField.text = [NSString stringWithFormat:@"%@ %@",[monthsArray objectAtIndex:[pickerView selectedRowInComponent:0]],[yearsArray objectAtIndex:[pickerView selectedRowInComponent:1]]];
    }
    else if (tag == 8)
    {
        self.permitTimePeriodTextField.text = [NSString stringWithFormat:@"%@ %@",[monthsArray objectAtIndex:[pickerView selectedRowInComponent:0]],[yearsArray objectAtIndex:[pickerView selectedRowInComponent:1]]];
    }
    else if (tag == 9)
    {
        self.permitTimePeriodTextField.text = [NSString stringWithFormat:@"%@ %@",[monthsArray objectAtIndex:[pickerView selectedRowInComponent:0]],[yearsArray objectAtIndex:[pickerView selectedRowInComponent:1]]];
    }
    else
    {
        self.notifMonthTextField.text = [NSString stringWithFormat:@"%@ %@",[monthsArray objectAtIndex:[pickerView selectedRowInComponent:0]],[yearsArray objectAtIndex:[pickerView selectedRowInComponent:1]]];
    }
}

- (UIView *)pickerView:(UIPickerView *)pickerView viewForRow:(NSInteger)row forComponent:(NSInteger)component reusingView:(UIView *)view
{
    UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 50, 44)];
    label.backgroundColor = [UIColor clearColor];
    label.textColor = [UIColor blackColor];
    label.font = [UIFont fontWithName:@"Arial-BoldMT" size:18];
    label.text = component==0?[monthsArray objectAtIndex:row]:[yearsArray objectAtIndex:row];
    
    if (component==0)
    {
        if (row+1>[currentDateComponents month] && [[yearsArray objectAtIndex:[pickerView selectedRowInComponent:1]] intValue]==[currentDateComponents year])
        {
            label.textColor = [UIColor grayColor];
        }
    }
    return label;
}
// tell the picker the width of each row for a given component
- (CGFloat)pickerView:(UIPickerView *)pickerView widthForComponent:(NSInteger)component
{
    CGFloat componentWidth ;
    
    if (component==0)
    {
        componentWidth = 100;
    }
    else  {
        componentWidth = 100;
    }
    
    return componentWidth;
}


-(void)dropDown
{
    self.dropDownTableView = [[UITableView alloc] initWithFrame:CGRectMake(0, 120, 320, 200)];
    self.dropDownTableView.delegate=self;
    self.dropDownTableView.dataSource=self;
    
    // Create done button in UIPickerView
    
    self.mypickerToolbar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 0, 320, 56)];
    
    self.mypickerToolbar.barStyle = UIBarStyleBlackOpaque;
    
    [self.mypickerToolbar sizeToFit];
    
    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    
    UIBarButtonItem *cancelBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(pickerTableViewCancelClicked)];
    
    [barItems addObject:cancelBtn];
    [cancelBtn setTintColor:[UIColor whiteColor]];
    
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    
    [barItems addObject:flexSpace];
    
    UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(tableViewDoneClicked)];
    
    [barItems addObject:doneBtn];
    [doneBtn setTintColor:[UIColor whiteColor]];
    
    [self.mypickerToolbar setItems:barItems animated:YES];
    
}
-(void)pickerTableViewCancelClicked
{
    if (tag == 3)
    {
        self.monthTextField.text = @"";
        [self.monthTextField resignFirstResponder];
        self.malfunctionStartTextField.text = @"";
        self.malfunctionEndTextField.text = @"";
        
    }
    
    else
    {
        self.yearTextField.text = @"";
        [self.yearTextField resignFirstResponder];
        self.malfunctionStartTextField.text = @"";
        self.malfunctionEndTextField.text = @"";
        
    }
    
}
-(void)tableViewDoneClicked
{
    [self.monthTextField resignFirstResponder];
    [self.yearTextField resignFirstResponder];
    
}

- (IBAction)backButtonClicked:(id)sender
{
    [self.availabilityView removeFromSuperview];
}


-(IBAction)closeListofPlantsView:(id)sender{
    
    if ([selectedFlag isEqualToString:@"Permit"])
    {
        [self.listofPlantsView removeFromSuperview];
        
        [self.view addSubview:self.permitView];
    }
    else
    {
        
        [self.listofPlantsView removeFromSuperview];
        [notificationView removeFromSuperview];
        
        [self.view addSubview:notificationView];
    }
    
}

-(void)datePickerForPickingDate
{
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone)
    {
        
        datePicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(0, 0, 320, 200)];
    }
    else
    {
        
        datePicker = [[UIDatePicker alloc]initWithFrame:CGRectMake(0, 0, 420, 200)];
    }
    
    self.startDateTextField.inputView=datePicker;
    self.endDateTextField.inputView=datePicker;
    self.malfunctionStartTextField.inputView=datePicker;
    self.malfunctionEndTextField.inputView=datePicker;
    
    dateFormat = [[NSDateFormatter alloc] init];
    datePicker.datePickerMode = UIDatePickerModeDate;
    datePicker.maximumDate=[NSDate date];
    
    [dateFormat setDateFormat:@"yyyy-MM"];
    
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone)
    {
        [dropDownview setFrame:CGRectMake(4, 460, 320, 240)];
        [datePicker setFrame:CGRectMake(0,0, 320, 240)];
    }
    else
    {
        [dropDownview setFrame:CGRectMake(4, 460, 726, 240)];
        [datePicker setFrame:CGRectMake(0,0, 726, 240)];
    }
    self.mypickerToolbar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 0, 320, 56)];
    
    self.mypickerToolbar.barStyle = UIBarStyleBlackOpaque;
    
    [self.mypickerToolbar sizeToFit];
    
    NSMutableArray *barItems = [[NSMutableArray alloc] init];
    
    UIBarButtonItem *cnclBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(pickerCancelClicked)];
    
    [barItems addObject:cnclBtn];
    [cnclBtn setTintColor:[UIColor whiteColor]];
    
    UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
    
    [barItems addObject:flexSpace];
    
    UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(pickerDoneClicked)];
    
    [barItems addObject:doneBtn];
    [doneBtn setTintColor:[UIColor whiteColor]];
    
    [self.mypickerToolbar setItems:barItems animated:YES];
    
    self.startDateTextField.inputAccessoryView=_mypickerToolbar;
    self.endDateTextField.inputAccessoryView=_mypickerToolbar;
    self.malfunctionStartTextField.inputAccessoryView=_mypickerToolbar;
    self.malfunctionEndTextField.inputAccessoryView=_mypickerToolbar;
    
}

-(void)pickerDoneClicked
{
    if (tag==1)
    {
        [dateFormat setDateFormat:@"MMM yyyy"];
        NSString *convertedDateString = [dateFormat stringFromDate:datePicker.date];
        self.startDateTextField.text = convertedDateString;
        [self.startDateTextField resignFirstResponder];
    }
    
    else if (tag==2)
    {
        [dateFormat setDateFormat:@"MMM yyyy"];
        NSString *convertedEndDateString = [dateFormat stringFromDate:datePicker.date];
        self.endDateTextField.text = convertedEndDateString;
        [self.endDateTextField resignFirstResponder];
    }
    else if (tag==5)
    {
        [myPickerView removeFromSuperview];
        [self.notifMonthTextField resignFirstResponder] ;
    }
    else if (tag==3)
    {
        [myPickerView removeFromSuperview];
        [self.monthTextField resignFirstResponder] ;
    }
    
    else if (tag==7)
    {
        [dateFormat setDateFormat:@"dd.MM.yyyy"];
        self.malfunctionStartTextField.text = [dateFormat stringFromDate:datePicker.date];
        [self.malfunctionStartTextField resignFirstResponder];
    }
    else if (tag==6)
    {
        [dateFormat setDateFormat:@"dd.MM.yyyy"];
        self.malfunctionEndTextField.text = [dateFormat stringFromDate:datePicker.date];
        [self.malfunctionEndTextField resignFirstResponder];
    }
    else if (tag==8)
    {
        [myPickerView removeFromSuperview];
        [self.permitTimePeriodTextField resignFirstResponder];
    }
    else if (tag==9)
    {
        [myPickerView removeFromSuperview];
        [self.permitTimePeriodTextField resignFirstResponder];
    }
    
    
}

-(void)pickerCancelClicked
{
    if (tag==1)
    {
        self.startDateTextField.text = @"";
        [self.startDateTextField resignFirstResponder];
    }
    else if (tag==2)
    {
        self.endDateTextField.text = @"";
        [self.endDateTextField resignFirstResponder];
    }
    else if (tag==5)
    {
        [myPickerView removeFromSuperview];
        
        self.notifMonthTextField.text = @"";
        [self.notifMonthTextField resignFirstResponder];
        
    }
    else if (tag==3)
    {
        [myPickerView removeFromSuperview];
        self.monthTextField.text = @"";
        [self.monthTextField resignFirstResponder];
        
    }
    
    else if (tag==7)
    {
        self.malfunctionStartTextField.text = @"";
        [self.malfunctionStartTextField resignFirstResponder];
    }
    else if (tag==6)
    {
        self.malfunctionEndTextField.text = @"";
        [self.malfunctionEndTextField resignFirstResponder];
    }
    else if (tag==8)
    {
        [myPickerView removeFromSuperview];
        
        self.permitTimePeriodTextField.text = @"";
        [self.permitTimePeriodTextField resignFirstResponder];
        
    }
    else if (tag==9)
    {
        [myPickerView removeFromSuperview];
        
        self.permitTimePeriodTextField.text = @"";
        [self.permitTimePeriodTextField resignFirstResponder];
        
    }
    
}


-(IBAction)dashBoardBackButton:(id)sender
{
    
    [self.navigationController popViewControllerAnimated:YES];
    
}

- (IBAction)backClicked:(id)sender
{
   InitialFlag=YES;
//    if ([selectedFlag isEqualToString:@"Brkdown"]) {
//
//        [brkDownView removeFromSuperview];
//    }
//    else if ([selectedFlag isEqualToString:@"Notification"])
//    {
//        //        self.descNotifPieChartView.hidden = YES;
//        //        self.detailsText.hidden = YES;
//        //        self.secondLevelNotifFilterImage.hidden = YES;
//        //
//        //        self.filterButton.hidden = YES;
//        //        self.notifCloseButton.hidden = YES;
//        [notificationView removeFromSuperview];
//
//    }
//    else if ([selectedFlag isEqualToString:@"Order"])
//    {
//     [notificationView removeFromSuperview];
//
//    }
    
    [self.navigationController popViewControllerAnimated:YES];
    
}

- (IBAction)notifReportBackClicked:(id)sender
{
    [notifdetailView removeFromSuperview];
    
}

-(void)singleTap
{
    self.descBrkdwnLbl.text = @"Time to Repair";
}

-(void)initialData
{
    if([[ConnectionManager defaultManager] isReachable])
    {
 
        hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
        hud.mode = MBProgressHUDAnimationFade;
        hud.label.text = @"Data loading in progress...";
        
        //switch to background thread
        dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{
            
            //back to the main thread for the UI call
            dispatch_async(dispatch_get_main_queue(), ^{
                
                if ([selectedFlag isEqualToString:@"Brkdown"]) {
 
                    [self requestforBreakDownData];
                    
                 }
                else if ([selectedFlag isEqualToString:@"Notification"])
                {
                    self.misHeaderLabel.text = @"Notification Analysis";
                    
                     [notificationView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                    
                     [self.pieNotifChartView setFrame:CGRectMake(23, 116, self.notifSubView.frame.size.width-40, self.notifSubView.frame.size.height-40)];
                    
                       [self.analysisView setFrame:CGRectMake(23, 116, self.notifSubView.frame.size.width, self.notifSubView.frame.size.height)];
                    
                     [self.view addSubview:notificationView];
                    
                    [self requestforNotificationData];

                    
                }
                else if ([selectedFlag isEqualToString:@"Order"])
                {
                    self.misHeaderLabel.text = @"Order Analysis";
                     [self requestforNotificationData];
 
                    [notificationView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                    
                    [self.view addSubview:notificationView];
                }
                else if ([selectedFlag isEqualToString:@"Permit"])
                {
                    [self requestforPermitData];
                    
                     [self.permitView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                    
                    [self.view addSubview:self.permitView];
 
                 }
                else if ([selectedFlag isEqualToString:@"Availability"])
                {
                    [self requestforAvailabilityData];
                    
                    [self.availabilityReportView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                    
                    [self.view addSubview:self.availabilityReportView];
                }
            });
            
            // more on the background thread
        });
    }
    else
    {
 
        [self showAlertMessageWithTitle:@"No Network Available" message:@"Please check your device network connection" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
     }
}

+ (void)handleTapGesture:(UIButton *)sender{
    
    if (misButtonSlection) {
        misButtonSlection = nil;
    }
    
    misButtonSlection = [[MISViewController alloc]init];
    
    [misButtonSlection handleButtonSelection:sender];
}

-(void) handleButtonSelection:(UIButton *)buttonTag{
    
    if([[ConnectionManager defaultManager] isReachable])
    {
        self.detailsText.text = @"";
        NSInteger index=buttonTag.tag;
        
        if(detailsArray == nil || month == nil || timeArr == nil || txtArray == nil || descArray == nil || arrays == nil){
            detailsArray = [NSMutableArray new];
            month = [NSMutableArray new];
            timeArr = [NSMutableArray new];
            txtArray = [NSMutableArray new];
            descArray = [NSMutableArray new];
            arrays = [NSMutableArray new];
            
        }
        else{
            [detailsArray removeAllObjects];
            [month removeAllObjects];
            [timeArr removeAllObjects];
            [txtArray removeAllObjects];
            [descArray removeAllObjects];
            [arrays removeAllObjects];
            
        }
        
        if (res_obj == nil) {
            res_obj = [Response sharedInstance];
        }
        
        self.pieNotifChartView = [DLPieChart new];
        // [self.pieNotifChartView setFrame:CGRectMake(0, 83, 375, 275)];
        self.descNotifPieChartView = [DLPieChart new];
        //        [self.descNotifPieChartView setFrame:CGRectMake(0, 391, 375, 275)];
        //        self.detailsText.hidden = NO;
        //        self.pieNotifChartView.hidden = NO;
        //        self.descNotifPieChartView.hidden = NO;
        //        self.closeButton.hidden = NO;
        //        self.notifCloseButton.hidden = NO;
        
        if (index >=0) {
            
            self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
            
            if (index == 0)
            {
                
                self.detailsText = [UILabel new];
                self.detailsText.text = @"Completed Notifications";
                
                if ([res_obj.misDictionary objectForKey:@"Details"])
                {
                    [arrays addObjectsFromArray:[res_obj.misDictionary objectForKey:@"Details"]];
                    if ([arrays count])
                    {
                        for (int i=0; i<[arrays count]; i++)
                        {
                            if([[arrays objectAtIndex:i] objectForKey:@"Comp"])
                            {
                                [timeArr addObject:[[arrays objectAtIndex:i] objectForKey:@"Comp"]];
                                
                            }
                            else
                            {
                                [timeArr addObject:@"0"];
                            }
                            if([[arrays objectAtIndex:i] objectForKey:@"Qmart"])
                            {
                                [month addObject:[[arrays objectAtIndex:i] objectForKey:@"Qmart"]];
                            }
                            
                            if([[arrays objectAtIndex:i] objectForKey:@"Qmartx"])
                            {
                                [txtArray addObject:[[arrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                            }
                            
                            [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                            
                            [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                        }
                    }
                }
            }
            else if (index == 1)
            {
                self.detailsText = [UILabel new];
                
                self.detailsText.text = @"In Progress Notifications";
                
                if ([res_obj.misDictionary objectForKey:@"Details"])
                {
                    
                    [arrays addObjectsFromArray:[res_obj.misDictionary objectForKey:@"Details"]];
                    
                    if ([arrays count])
                    {
                        // if ([arrays count]>1)
                        // {
                        for (int i=0; i<[arrays count]; i++)
                        {
                            if([[arrays objectAtIndex:i] objectForKey:@"Inpr"])
                            {
                                [timeArr addObject:[[arrays objectAtIndex:i] objectForKey:@"Inpr"]];
                                
                            }
                            else
                            {
                                [timeArr addObject:@"0"];
                            }
                            if([[arrays objectAtIndex:i] objectForKey:@"Qmart"])
                            {
                                [month addObject:[[arrays objectAtIndex:i] objectForKey:@"Qmart"]];
                            }
                            if([[arrays objectAtIndex:i] objectForKey:@"Qmartx"])
                            {
                                [txtArray addObject:[[arrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                            }
                            [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                            [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                        }
                    }
                }
            }
            else if (index == 2)
            {
                self.detailsText.text = @"Outstanding Notifications";
                
                if ([res_obj.misDictionary objectForKey:@"Details"])
                {
                    
                    [arrays addObjectsFromArray:[res_obj.misDictionary objectForKey:@"Details"]];
                    if ([arrays count])
                    {
                        for (int i=0; i<[arrays count]; i++)
                        {
                            if([[arrays objectAtIndex:i] objectForKey:@"Outs"])
                            {
                                [timeArr addObject:[[arrays objectAtIndex:i] objectForKey:@"Outs"]];
                                
                            }
                            else
                            {
                                [timeArr addObject:@"0"];
                            }
                            if([[arrays objectAtIndex:i] objectForKey:@"Qmart"])
                            {
                                [month addObject:[[arrays objectAtIndex:i] objectForKey:@"Qmart"]];
                            }
                            if([[arrays objectAtIndex:i] objectForKey:@"Qmartx"])
                            {
                                [txtArray addObject:[[arrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                            }
                            [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                            [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                        }
                    }
                }
            }
            else if (index == 3)
            {
                self.detailsText.text = @"Deleted Notifications";
                
                
                if ([res_obj.misDictionary objectForKey:@"Details"])
                {
                    
                    [arrays addObjectsFromArray:[res_obj.misDictionary objectForKey:@"Details"]];
                    if ([arrays count])
                    {
                        if ([arrays count]>1)
                        {
                            for (int i=0; i<[arrays count]; i++)
                            {
                                if([[arrays objectAtIndex:i] objectForKey:@"Dele"])
                                {
                                    [timeArr addObject:[[arrays objectAtIndex:i] objectForKey:@"Dele"]];
                                    
                                }
                                else
                                {
                                    [timeArr addObject:@"0"];
                                }
                                if([[arrays objectAtIndex:i] objectForKey:@"Qmart"])
                                {
                                    [month addObject:[[arrays objectAtIndex:i] objectForKey:@"Qmart"]];
                                }
                                if([[arrays objectAtIndex:i] objectForKey:@"Qmartx"])
                                {
                                    [txtArray addObject:[[arrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                }
                                [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                            }
                        }
                    }
                }
            }
            
            [self.pieNotifChartView renderInLayer:self.descNotifPieChartView dataArray:detailsArray];
        }
        else
        {
           
            [self showAlertMessageWithTitle:@"No data available" message:@"" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
            
         }
    }
    else
    {
        
         [self showAlertMessageWithTitle:@"No Network Available" message:@"Please check your device network connection" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        
    }
}

-(void)notifFilters
{
    if (notifFilter == YES)
    {
        self.secondLevelNotifFilterImage.hidden = YES;
        
        self.filterButton.hidden = YES;
        
        notifDetailFilter = YES;
    }
    else
    {
        self.secondLevelNotifFilterImage.hidden = NO;
        
        self.filterButton.hidden = NO;
        notifDetailFilter = NO;
    }
}
-(void)filtersDetails
{
    if (notifDetailFilter == YES)
    {
        self.detailFilterImage.hidden = YES;
        self.detailFilter.hidden = YES;
        
    }
    else
    {
        self.detailFilterImage.hidden = NO;
        
        self.detailFilter.hidden = NO;
        
    }
}


- (void)handleTapGesture:(UITapGestureRecognizer *)sender
{
    CGPoint tapPoint = [sender locationInView:self.pieNotifChartView];
    NSInteger index =[self.pieNotifChartView getCurrentSelectedOnTouch:tapPoint];
    NSLog(@"%ld", (long)index);
    
    //    [self.pieNotifChartView setSliceDeselectedAtIndex:0];
    //    [self.pieNotifChartView setSliceDeselectedAtIndex:1];
    //    [self.pieNotifChartView setSliceDeselectedAtIndex:2];
    
    [self notifFilters];
    
    self.detailsText.text = @"";
    self.secondLevelNotifBackground.hidden = YES;
    if(detailsArray == nil || month == nil || timeArr == nil || txtArray == nil || descArray == nil ||  arrays == nil || tempDetailsarrays == nil || detailFilteredArray == nil || monthTempArray == nil || tempDetailsCopyArray == nil || notifTypeArray == nil || notifMainArray == nil || finalNotifDetailsArray == nil || totalCoutArray == nil || notifQmartArray == nil || notifQmartTextArray == nil || notifDescFilteredArray == nil)
    {
        detailsArray = [NSMutableArray new];
        month = [NSMutableArray new];
        timeArr = [NSMutableArray new];
        txtArray = [NSMutableArray new];
        descArray = [NSMutableArray new];
        arrays = [NSMutableArray new];
        tempDetailsarrays = [NSMutableArray new];
        detailFilteredArray = [NSMutableArray new];
        monthTempArray = [NSMutableArray new];
        tempDetailsCopyArray = [NSMutableArray new];
        notifTypeArray = [NSMutableArray new];
        notifMainArray = [NSMutableArray new];
        finalNotifDetailsArray = [NSMutableArray new];
        totalCoutArray = [NSMutableArray new];
        notifQmartArray = [NSMutableArray new];
        notifQmartTextArray = [NSMutableArray new];
        notifDescFilteredArray = [NSMutableArray new];
        
    }
    else{
        [detailsArray removeAllObjects];
        [month removeAllObjects];
        [timeArr removeAllObjects];
        [txtArray removeAllObjects];
        [descArray removeAllObjects];
        [arrays removeAllObjects];
        [tempDetailsarrays removeAllObjects];
        [detailFilteredArray removeAllObjects];
        [monthTempArray removeAllObjects];
        //            [tempDetailsCopyArray removeAllObjects];
        [notifTypeArray removeAllObjects];
        [notifMainArray removeAllObjects];
        [finalNotifDetailsArray removeAllObjects];
        [totalCoutArray removeAllObjects];
        [notifQmartArray removeAllObjects];
        [notifQmartTextArray removeAllObjects];
        [notifDescFilteredArray removeAllObjects];
        
    }
    
    //    [notifDescFilteredArray removeAllObjects];
    //    for (int i=0; i<[[notifDescFilterStructuredArray objectAtIndex:0] count]; i++)
    //    {
    //        [[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifDescPlantStatus"];
    //    }
    //
    //    for (int i=0; i<[notifDescPlantWorkCenterArray count]; i++)
    //    {
    //        [[notifDescPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifDescWorkCenterStatus"];
    //    }
    //    [notifDescPlantWorkCenterArray removeAllObjects];
    //    notifDescFilterFlag = NO;
    //    self.misFilterTableView.tag = 5;
    //    [self.misFilterTableView reloadData];
    //
    if (index >=0) {
        
        if(sender.view.tag == 1)
        {
            self.pieNotifChartView.selectedIdentifier = nil;
            self.descNotifPieChartView.selectedIdentifier = @"DoubleClick";
            
            if (sender.state == UIGestureRecognizerStateRecognized)
            {
                //                    self.detailsText.hidden = NO;
                //                    self.descNotifPieChartView.hidden = NO;
                //                    self.closeButton.hidden = NO;
                //                    self.notifCloseButton.hidden = NO;
                [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
                //                    [tempDetailsCopyArray removeAllObjects];
                
                tempDetailsCopyArray= [tempDetailsarrays copy];
                
                if (index == 0 )
                {
                    [self.pieNotifChartView setSliceDeselectedAtIndex:1];
                    [self.pieNotifChartView setSliceDeselectedAtIndex:2];
                    [self.pieNotifChartView setSliceSelectedAtIndex:index];
                    
                    
                    if ([selectedFlag isEqualToString:@"Notification"])
                    {
                     self.detailsText.text = @"Completed Notifications";

                        
                    if ([notifFilteredArray count])
                    {
                        //                                self.pieNotifChartView.selectedIdentifier = @"SingleClick";
                        //  self.pieNotifChartView.selectedIdentifier = nil;
                        
                        self.secondLevelNotifFilterImage.hidden = YES;
                        
                        self.filterButton.hidden = YES;
                        self.detailFilterImage.hidden = YES;
                        
                        self.detailFilter.hidden = YES;
                        self.descPlantHeader.hidden = NO;
                        self.notifDescPlantLabelText.hidden = NO;
                        self.notifDescPlantLabelText.text = descPlant;
                        
                        if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                {
                                    //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    //                                        {
                                    //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                    //                                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                            
                                                        }
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                        else
                        {
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                                {

                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        
                                                    }
                                                }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                            {

                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    
                                                }
                                            }
                                            }
                                            
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                    }
                    
                    else if ([tempDetailsarrays count])
                    {
                        for (int i = 0; i<[tempDetailsarrays count]; i++)
                        {
                            textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                            if ([finalNotifDetailsArray count])
                            {
                                for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                {
                                    if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                    {
                                        notifPieChart = YES;
                                    }
                                }
                                if (notifPieChart == YES)
                                {
                                    notifPieChart = NO;
                                }
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                        {
                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                            {
                                                
                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                
                                            }
                                        }
                                        
                                    }
                                    
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    if (finalNotifDetailsArray == nil)
                                    {
                                        finalNotifDetailsArray = [NSMutableArray new];
                                    }
                                    else
                                    {
                                        [finalNotifDetailsArray removeAllObjects];
                                    }
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                    
                                }
                            }
                            
                            else
                            {
                                NSInteger sum = 0;
                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                {
                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                    {
                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                        {
                                            
                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                            
                                        }
                                    }
                                    
                                }
                                
                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                
                                
                                if ([notifMainArray count]) {
                                    
                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                    {
                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                        
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                        
                                        [finalNotifDetailsArray addObject:tempDictionary];
                                    }
                                }
                            }
                        }
                        
                        
                        for (int z=0; z<[finalNotifDetailsArray count]; z++)
                        {
                            if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                            }
                            
                        }
                    }
                    
                  }
                    else if ([selectedFlag isEqualToString:@"Order"])
                    {
                        self.detailsText.text = @"Completed Order";

                        if ([notifFilteredArray count])
                        {
                            //                                self.pieNotifChartView.selectedIdentifier = @"SingleClick";
                            //  self.pieNotifChartView.selectedIdentifier = nil;
                            
                            self.secondLevelNotifFilterImage.hidden = YES;
                            
                            self.filterButton.hidden = YES;
                            self.detailFilterImage.hidden = YES;
                            
                            self.detailFilter.hidden = YES;
                            self.descPlantHeader.hidden = NO;
                            self.notifDescPlantLabelText.hidden = NO;
                            self.notifDescPlantLabelText.text = descPlant;
                            
                            if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                            {
                                
                                
                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                {
                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    {
                                        //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        //                                        {
                                        //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                        //                                                {
                                        textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                        if ([finalNotifDetailsArray count])
                                        {
                                            for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                            {
                                                if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                                {
                                                    notifPieChart = YES;
                                                }
                                            }
                                            if (notifPieChart == YES)
                                            {
                                                notifPieChart = NO;
                                            }
                                            else
                                            {
                                                NSInteger sum = 0;
                                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                                {
                                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                    {
                                                        
                                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                        {
                                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                            {
                                                                
                                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                                
                                                            }
                                                        }
                                                    }
                                                    
                                                }
                                                
                                                
                                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                                
                                                if (finalNotifDetailsArray == nil)
                                                {
                                                    finalNotifDetailsArray = [NSMutableArray new];
                                                }
                                                else
                                                {
                                                    [finalNotifDetailsArray removeAllObjects];
                                                }
                                                
                                                if ([notifMainArray count]) {
                                                    
                                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                    {
                                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                        
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                        
                                                        [finalNotifDetailsArray addObject:tempDictionary];
                                                    }
                                                }
                                                
                                            }
                                        }
                                        
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                            
                                                        }
                                                    }
                                                }
                                            }
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                
                                
                                for (int z=0; z<[finalNotifDetailsArray count]; z++)
                                {
                                    if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                    {
                                        [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                        [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                        [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                        [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                    }
                                    
                                }
                            }
                            else
                            {
                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                {
                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                    {
                                        textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                        if ([finalNotifDetailsArray count])
                                        {
                                            for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                            {
                                                if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                                {
                                                    notifPieChart = YES;
                                                }
                                            }
                                            if (notifPieChart == YES)
                                            {
                                                notifPieChart = NO;
                                            }
                                            else
                                            {
                                                NSInteger sum = 0;
                                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                                {
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                            
                                                        }
                                                    }
                                                    
                                                }
                                                
                                                
                                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                                
                                                if (finalNotifDetailsArray == nil)
                                                {
                                                    finalNotifDetailsArray = [NSMutableArray new];
                                                }
                                                else
                                                {
                                                    [finalNotifDetailsArray removeAllObjects];
                                                }
                                                
                                                if ([notifMainArray count]) {
                                                    
                                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                    {
                                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                        
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                        
                                                        [finalNotifDetailsArray addObject:tempDictionary];
                                                    }
                                                }
                                                
                                            }
                                        }
                                        
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        
                                                    }
                                                }
                                                
                                            }
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                for (int z=0; z<[finalNotifDetailsArray count]; z++)
                                {
                                    if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                    {
                                        [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                        [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                        [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                        [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                    }
                                    
                                }
                            }
                        }
                        
                        else if ([tempDetailsarrays count])
                        {
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                if ([finalNotifDetailsArray count])
                                {
                                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        if (finalNotifDetailsArray == nil)
                                        {
                                            finalNotifDetailsArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifDetailsArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                        {
                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                            {
                                                
                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                
                                            }
                                        }
                                        
                                    }
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                        
                    }
                }
                else if (index == 1)
                {
                    
                    [self.pieNotifChartView setSliceDeselectedAtIndex:0];
                    [self.pieNotifChartView setSliceDeselectedAtIndex:2];
                    [self.pieNotifChartView setSliceSelectedAtIndex:index];
                    
                    if ([selectedFlag isEqualToString:@"Notification"])
                    {

                    self.detailsText.text = @"In Progress Notifications";
                    
                    
                    if ([notifFilteredArray count])
                    {
                        // self.pieNotifChartView.selectedIdentifier = @"SingleClick";
                        self.secondLevelNotifFilterImage.hidden = YES;
                        
                        self.filterButton.hidden = YES;
                        // self.descPlantHeader.hidden = NO;
                        // self.notifDescPlantLabelText.hidden = NO;
                        self.notifDescPlantLabelText.text = descPlant;
                        
                        if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                {
                                    //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    //                                        {
                                    //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                    //                                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                            
                                                        }
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                        else
                        {
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                                {

                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                        
                                                    }
                                                }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                            {

                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                    
                                                }
                                            }
                                            }
                                            
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                    }
                    
                        
                    else if ([tempDetailsarrays count])
                    {
                        for (int i = 0; i<[tempDetailsarrays count]; i++)
                        {
                            textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                            if ([finalNotifDetailsArray count])
                            {
                                for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                {
                                    if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                    {
                                        notifPieChart = YES;
                                    }
                                }
                                if (notifPieChart == YES)
                                {
                                    notifPieChart = NO;
                                }
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                        {
                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                            {
                                                
                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                
                                            }
                                        }
                                        
                                    }
                                    
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    if (finalNotifDetailsArray == nil)
                                    {
                                        finalNotifDetailsArray = [NSMutableArray new];
                                    }
                                    else
                                    {
                                        [finalNotifDetailsArray removeAllObjects];
                                    }
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                    
                                }
                            }
                            
                            else
                            {
                                NSInteger sum = 0;
                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                {
                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                    {
                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                        {
                                            
                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                            
                                        }
                                    }
                                    
                                }
                                
                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                
                                
                                if ([notifMainArray count]) {
                                    
                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                    {
                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                        
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                        
                                        [finalNotifDetailsArray addObject:tempDictionary];
                                    }
                                }
                            }
                        }
                        
                        
                        for (int z=0; z<[finalNotifDetailsArray count]; z++)
                        {
                            if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                            }
                            
                        }
                    }
                  }
                    else if ([selectedFlag isEqualToString:@"Order"])
                    {
                        self.detailsText.text = @"In Progress Order";
                        
                        if ([notifFilteredArray count])
                        {
                            // self.pieNotifChartView.selectedIdentifier = @"SingleClick";
                            self.secondLevelNotifFilterImage.hidden = YES;
                            
                            self.filterButton.hidden = YES;
                            // self.descPlantHeader.hidden = NO;
                            // self.notifDescPlantLabelText.hidden = NO;
                            self.notifDescPlantLabelText.text = descPlant;
                            
                            if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                            {
                                
                                
                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                {
                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    {
                                        //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        //                                        {
                                        //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                        //                                                {
                                        textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                        if ([finalNotifDetailsArray count])
                                        {
                                            for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                            {
                                                if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                                {
                                                    notifPieChart = YES;
                                                }
                                            }
                                            if (notifPieChart == YES)
                                            {
                                                notifPieChart = NO;
                                            }
                                            else
                                            {
                                                NSInteger sum = 0;
                                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                                {
                                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                    {
                                                        
                                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                        {
                                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                            {
                                                                
                                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                                
                                                            }
                                                        }
                                                    }
                                                    
                                                }
                                                
                                                
                                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                                
                                                if (finalNotifDetailsArray == nil)
                                                {
                                                    finalNotifDetailsArray = [NSMutableArray new];
                                                }
                                                else
                                                {
                                                    [finalNotifDetailsArray removeAllObjects];
                                                }
                                                
                                                if ([notifMainArray count]) {
                                                    
                                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                    {
                                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                        
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                        
                                                        [finalNotifDetailsArray addObject:tempDictionary];
                                                    }
                                                }
                                                
                                            }
                                        }
                                        
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                            
                                                        }
                                                    }
                                                }
                                            }
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                
                                
                                for (int z=0; z<[finalNotifDetailsArray count]; z++)
                                {
                                    if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                                    {
                                        [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                        [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                        [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                        [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                    }
                                    
                                }
                            }
                            else
                            {
                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                {
                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                    {
                                        textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                        if ([finalNotifDetailsArray count])
                                        {
                                            for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                            {
                                                if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                                {
                                                    notifPieChart = YES;
                                                }
                                            }
                                            if (notifPieChart == YES)
                                            {
                                                notifPieChart = NO;
                                            }
                                            else
                                            {
                                                NSInteger sum = 0;
                                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                                {
                                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                                    {
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                            
                                                        }
                                                    }
                                                    }
                                                    
                                                }
                                                
                                                
                                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                                
                                                if (finalNotifDetailsArray == nil)
                                                {
                                                    finalNotifDetailsArray = [NSMutableArray new];
                                                }
                                                else
                                                {
                                                    [finalNotifDetailsArray removeAllObjects];
                                                }
                                                
                                                if ([notifMainArray count]) {
                                                    
                                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                    {
                                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                        
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                        
                                                        [finalNotifDetailsArray addObject:tempDictionary];
                                                    }
                                                }
                                                
                                            }
                                        }
                                        
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                                {

                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                        
                                                    }
                                                }
                                                }
                                                
                                            }
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                
                                
                                for (int z=0; z<[finalNotifDetailsArray count]; z++)
                                {
                                    if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                                    {
                                        [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                        [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                        [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                        [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                    }
                                    
                                }
                            }
                        }
                        
                        
                        else if ([tempDetailsarrays count])
                        {
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                if ([finalNotifDetailsArray count])
                                {
                                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                    
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        if (finalNotifDetailsArray == nil)
                                        {
                                            finalNotifDetailsArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifDetailsArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                        {
                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                            {
                                                
                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                
                                            }
                                        }
                                        
                                    }
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                    }
                }
                
                else if (index == 2)
                {
                    [self.pieNotifChartView setSliceDeselectedAtIndex:0];
                    [self.pieNotifChartView setSliceDeselectedAtIndex:1];
                    [self.pieNotifChartView setSliceSelectedAtIndex:index];
                    
                    if ([selectedFlag isEqualToString:@"Notification"])
                    {
                        
                    self.detailsText.text = @"Outstanding Notifications";
                    
                    if ([notifFilteredArray count])
                    {
                        // self.pieNotifChartView.selectedIdentifier = @"SingleClick";
                        self.secondLevelNotifFilterImage.hidden = YES;
                        
                        self.filterButton.hidden = YES;
                        // self.descPlantHeader.hidden = NO;
                        // self.notifDescPlantLabelText.hidden = NO;
                        self.notifDescPlantLabelText.text = descPlant;
                        
                        if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                            
                                                        }
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                        else
                        {
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                                {

                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                        
                                                    }
                                                }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                            {

                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                    
                                                }
                                            }
                                            }
                                            
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                    }
                    else if ([tempDetailsarrays count])
                    {
                        for (int i = 0; i<[tempDetailsarrays count]; i++)
                        {
                            textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                            if ([finalNotifDetailsArray count])
                            {
                                for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                {
                                    if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                    {
                                        notifPieChart = YES;
                                    }
                                }
                                if (notifPieChart == YES)
                                {
                                    notifPieChart = NO;
                                }
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                        {
                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                            {
                                                
                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                
                                            }
                                        }
                                        
                                    }
                                    
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    if (finalNotifDetailsArray == nil)
                                    {
                                        finalNotifDetailsArray = [NSMutableArray new];
                                    }
                                    else
                                    {
                                        [finalNotifDetailsArray removeAllObjects];
                                    }
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                    
                                }
                            }
                            
                            else
                            {
                                NSInteger sum = 0;
                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                {
                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                    {
                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                        {
                                            
                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                            
                                        }
                                    }
                                    
                                }
                                
                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                
                                
                                if ([notifMainArray count]) {
                                    
                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                    {
                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                        
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                        
                                        [finalNotifDetailsArray addObject:tempDictionary];
                                    }
                                }
                            }
                        }
                        
                        
                        for (int z=0; z<[finalNotifDetailsArray count]; z++)
                        {
                            if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                            }
                        }
                    }
                  }
                    else if ([selectedFlag isEqualToString:@"Order"])
                    {
                            
                            self.detailsText.text = @"Outstanding Order";
                            
                            if ([notifFilteredArray count])
                            {
                                // self.pieNotifChartView.selectedIdentifier = @"SingleClick";
                                self.secondLevelNotifFilterImage.hidden = YES;
                                
                                self.filterButton.hidden = YES;
                                // self.descPlantHeader.hidden = NO;
                                // self.notifDescPlantLabelText.hidden = NO;
                                self.notifDescPlantLabelText.text = descPlant;
                                
                                if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    for (int i = 0; i<[tempDetailsarrays count]; i++)
                                    {
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                            if ([finalNotifDetailsArray count])
                                            {
                                                for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                                {
                                                    if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                                    {
                                                        notifPieChart = YES;
                                                    }
                                                }
                                                if (notifPieChart == YES)
                                                {
                                                    notifPieChart = NO;
                                                }
                                                else
                                                {
                                                    NSInteger sum = 0;
                                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                                    {
                                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                        {
                                                            
                                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                            {
                                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                                {
                                                                    
                                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                                    
                                                                }
                                                            }
                                                        }
                                                        
                                                    }
                                                    
                                                    
                                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                                    
                                                    if (finalNotifDetailsArray == nil)
                                                    {
                                                        finalNotifDetailsArray = [NSMutableArray new];
                                                    }
                                                    else
                                                    {
                                                        [finalNotifDetailsArray removeAllObjects];
                                                    }
                                                    
                                                    if ([notifMainArray count]) {
                                                        
                                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                        {
                                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                            
                                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                            
                                                            [finalNotifDetailsArray addObject:tempDictionary];
                                                        }
                                                    }
                                                    
                                                }
                                            }
                                            
                                            else
                                            {
                                                NSInteger sum = 0;
                                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                                {
                                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                    {
                                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                        {
                                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                            {
                                                                
                                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                                
                                                            }
                                                        }
                                                    }
                                                }
                                                
                                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                                
                                                
                                                if ([notifMainArray count]) {
                                                    
                                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                    {
                                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                        
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                        
                                                        [finalNotifDetailsArray addObject:tempDictionary];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    
                                    
                                    for (int z=0; z<[finalNotifDetailsArray count]; z++)
                                    {
                                        if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                                        {
                                            [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                            [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                            [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                            [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                            [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                        }
                                        
                                    }
                                }
                                else
                                {
                                    for (int i = 0; i<[tempDetailsarrays count]; i++)
                                    {
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                            if ([finalNotifDetailsArray count])
                                            {
                                                for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                                {
                                                    if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                                    {
                                                        notifPieChart = YES;
                                                    }
                                                }
                                                if (notifPieChart == YES)
                                                {
                                                    notifPieChart = NO;
                                                }
                                                else
                                                {
                                                    NSInteger sum = 0;
                                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                                    {
                                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                                        {
                                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                        {
                                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                            {
                                                                
                                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                                
                                                            }
                                                        }
                                                        }
                                                        
                                                    }
                                                    
                                                    
                                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                                    
                                                    if (finalNotifDetailsArray == nil)
                                                    {
                                                        finalNotifDetailsArray = [NSMutableArray new];
                                                    }
                                                    else
                                                    {
                                                        [finalNotifDetailsArray removeAllObjects];
                                                    }
                                                    
                                                    if ([notifMainArray count]) {
                                                        
                                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                        {
                                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                            
                                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                            
                                                            [finalNotifDetailsArray addObject:tempDictionary];
                                                        }
                                                    }
                                                    
                                                }
                                            }
                                            
                                            else
                                            {
                                                NSInteger sum = 0;
                                                for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                                {
                                                    if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                                    {

                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                            
                                                        }
                                                    }
                                                    }
                                                    
                                                }
                                                
                                                [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                                [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                                
                                                
                                                if ([notifMainArray count]) {
                                                    
                                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                    {
                                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                        
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                        
                                                        [finalNotifDetailsArray addObject:tempDictionary];
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                    
                                    
                                    for (int z=0; z<[finalNotifDetailsArray count]; z++)
                                    {
                                        if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                                        {
                                            [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                            [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                            [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                            [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                            [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                        }
                                        
                                    }
                                }
                            }
                            else if ([tempDetailsarrays count])
                            {
                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Auart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                        
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Auart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                    
                                                }
                                            }
                                            
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Auart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Auartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Auartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                                
                                
                                for (int z=0; z<[finalNotifDetailsArray count]; z++)
                                {
                                    if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                                    {
                                        [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                        [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auart"]];
                                        [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Auartx"]];
                                        [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                    }
                                }
                            }
                    }
                }
                
                }
            
            dispatch_async(dispatch_get_main_queue(), ^{
                [self.descNotifPieChartView renderInLayer:self.descNotifPieChartView dataArray:nil];
                
                if ([detailsArray count]) {
                    //  self.descNotifPieChartView.selectedIdentifier = @"DoubleClick";
                    
                    [self.descNotifPieChartView renderInLayer:self.descNotifPieChartView dataArray:detailsArray];
                    //                            [self.notifSubView addSubview:self.analysisView];
                    //                            [superview addSubview:self.analysisView];
                    self.descNotifPieChartView.hidden = NO;
                    //                            self.secondLevelNotifView.hidden= NO;
                    [notificationView addSubview:self.secondLevelNotifView];
                    
                }
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];
            });
            
        }
    }
    else
    {
          [self showAlertMessageWithTitle:@"No data available" message:@"" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
     }
 }

-(void)secondPiechart
{
    self.secondLevelNotifFilterImage.hidden = NO;
    
    self.filterButton.hidden = NO;
    
    if(detailsArray == nil || month == nil || timeArr == nil || txtArray == nil || descArray == nil ||  arrays == nil){
        detailsArray = [NSMutableArray new];
        month = [NSMutableArray new];
        timeArr = [NSMutableArray new];
        txtArray = [NSMutableArray new];
        descArray = [NSMutableArray new];
        arrays = [NSMutableArray new];
        
    }
    else{
        [detailsArray removeAllObjects];
        [month removeAllObjects];
        [timeArr removeAllObjects];
        [txtArray removeAllObjects];
        [descArray removeAllObjects];
        [arrays removeAllObjects];
        
    }
    //            self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
    //
    //                self.detailsText.hidden = NO;
    //                self.descNotifPieChartView.hidden = NO;
    //                self.closeButton.hidden = NO;
    //                self.notifCloseButton.hidden = NO;
    
    if ([self.detailsText.text isEqualToString:@"Completed Notifications"])
    {
        
        if ([parsedDictionary objectForKey:@"Details"])
        {
            [tempDetailsarrays removeAllObjects];
            
            tempDetailsarrays = [NSMutableArray new];
            [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
            if ([self.filteredArray count])
            {
                self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
                
                NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[self.filteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                
                self.filteredArray = [tempDetailsarrays filteredArrayUsingPredicate:plPredicate];
                
                if ([self.filteredArray count])
                {
                    for (int i=0; i<[self.filteredArray count]; i++)
                    {
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Comp"])
                        {
                            [timeArr addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Comp"]];
                            
                        }
                        else
                        {
                            [timeArr addObject:@"0"];
                        }
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"])
                        {
                            [month addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"]];
                        }
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"])
                        {
                            [txtArray addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"]];
                        }
                        [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                    }
                }
            }
            else
            {
                
                if ([tempDetailsarrays count])
                {
                    for (int i=0; i<[tempDetailsarrays count]; i++)
                    {
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Comp"])
                        {
                            [timeArr addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Comp"]];
                            
                        }
                        else
                        {
                            [timeArr addObject:@"0"];
                        }
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"])
                        {
                            [month addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"]];
                        }
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"])
                        {
                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                        }
                        [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                    }
                }
            }
        }
    }
    
    else if ([self.detailsText.text isEqualToString:@"In Progress Notifications"])
    {
        
        if ([parsedDictionary objectForKey:@"Details"])
        {
            tempDetailsarrays = [NSMutableArray new];
            [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
            
            if ([self.filteredArray count])
            {
                self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
                
                NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[self.filteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                
                self.filteredArray = [tempDetailsarrays filteredArrayUsingPredicate:plPredicate];
                
                if ([self.filteredArray count])
                {
                    for (int i=0; i<[self.filteredArray count]; i++)
                    {
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Inpr"])
                        {
                            [timeArr addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Inpr"]];
                            
                        }
                        else
                        {
                            [timeArr addObject:@"0"];
                        }
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"])
                        {
                            [month addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"]];
                        }
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"])
                        {
                            [txtArray addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"]];
                        }
                        [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                    }
                }
            }
            else
            {
                if ([tempDetailsarrays count])
                {
                    for (int i=0; i<[tempDetailsarrays count]; i++)
                    {
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Inpr"])
                        {
                            [timeArr addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Inpr"]];
                            
                        }
                        else
                        {
                            [timeArr addObject:@"0"];
                        }
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"])
                        {
                            [month addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"]];
                        }
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"])
                        {
                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                        }
                        [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                    }
                }
            }
        }
    }
    else if ([self.detailsText.text isEqualToString:@"Outstanding Notifications"])
    {
        
        if ([parsedDictionary objectForKey:@"Details"])
        {
            tempDetailsarrays = [NSMutableArray new];
            [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
            
            if ([self.filteredArray count])
            {
                self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
                
                NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[self.filteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                
                self.filteredArray = [tempDetailsarrays filteredArrayUsingPredicate:plPredicate];
                
                if ([self.filteredArray count])
                {
                    for (int i=0; i<[self.filteredArray count]; i++)
                    {
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Outs"])
                        {
                            [timeArr addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Outs"]];
                            
                        }
                        else
                        {
                            [timeArr addObject:@"0"];
                        }
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"])
                        {
                            [month addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"]];
                        }
                        if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"])
                        {
                            [txtArray addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"]];
                        }
                        [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                    }
                }
            }
            else
            {
                if ([tempDetailsarrays count])
                {
                    for (int i=0; i<[tempDetailsarrays count]; i++)
                    {
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Outs"])
                        {
                            [timeArr addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Outs"]];
                            
                        }
                        else
                        {
                            [timeArr addObject:@"0"];
                        }
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"])
                        {
                            [month addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"]];
                        }
                        if([[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"])
                        {
                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                        }
                        [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                    }
                }
            }
        }
    }
    
    
    [self.pieNotifChartView renderInLayer:self.descNotifPieChartView dataArray:detailsArray];
    
}


- (void)handleBrkdwnTapGesture:(UITapGestureRecognizer *)sender
{
    CGPoint tapPoint = [sender locationInView:self.pieBrkDownChartView];
    NSInteger index=[self.pieBrkDownChartView getCurrentSelectedOnTouch:tapPoint];
    NSLog(@"%ld",(long)index);
    
    
    if([[ConnectionManager defaultManager] isReachable])
    {
        self.descBrkdwnLbl.text = @"";
        
        
        
        if (temparrays == nil ||detailsArray ==nil || month == nil || timeArr == nil) {
            
            temparrays = [NSMutableArray new];
            month = [NSMutableArray new];
            timeArr = [NSMutableArray new];
            
        }
        else
        {
            [temparrays removeAllObjects];
            [detailsArray removeAllObjects];
            [month removeAllObjects];
            [timeArr removeAllObjects];
        }
        if(sender.view.tag == 3)
        {
            self.pieBrkDownChartView.selectedIdentifier = @"DoubleClick";
            
            if (sender.state == UIGestureRecognizerStateRecognized)
            {
                self.descBrkdwnLbl.hidden = NO;
                self.descBrkDownChartView.hidden = NO;
                self.closeButton.hidden = NO;
                
                if (barDtailArray == nil || typeArray == nil || barTotalArray == nil)
                {
                    barDtailArray = [NSMutableArray new];
                    typeArray = [NSMutableArray new];
                    barTotalArray = [NSMutableArray new];
                    
                    
                }
                else
                {
                    [barDtailArray removeAllObjects];
                    [typeArray removeAllObjects];
                    [barTotalArray removeAllObjects];
                    
                    
                }
                NSInteger brkSumM1 = 0;
                NSInteger brkSumM2 = 0;
                NSInteger brkSumM4 = 0;
                
                if (index == 0)
                {
                    [self.pieBrkDownChartView setSliceDeselectedAtIndex:1];
                    [self.pieBrkDownChartView setSliceDeselectedAtIndex:2];
                    [self.pieBrkDownChartView setSliceSelectedAtIndex:index];
                    
                    self.descBrkdwnLbl.text = @"Total Breakdowns";
                    
                    if ([barchartArray count])
                    {
                        if ([self.brkFilterdArray count])
                        {
                            for (int i=0; i<[self.brkFilterdArray count]; i++)
                            {
                                for (int j = 0; j<[barchartArray count]; j++)
                                {
                                    
                                    if ([[[self.brkFilterdArray objectAtIndex:i]objectForKey:@"Iwerk"] isEqualToString:[[barchartArray objectAtIndex:j]objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M1"])
                                        {
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"TotM2"])
                                            {
                                                
                                                brkSumM1 += [[[barchartArray objectAtIndex:j] objectForKey:@"TotM2"] integerValue];
                                                NSLog(@"brkM1 %ld",(long)brkSumM1);
                                            }
                                            
                                        }
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M2"])
                                        {
                                            
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"TotM2"])
                                            {
                                                brkSumM2 += [[[barchartArray objectAtIndex:j] objectForKey:@"TotM2"] integerValue];
                                                NSLog(@"brkM2 %ld",(long)brkSumM2);
                                            }
                                        }
                                        
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M4"])
                                        {
                                            
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"TotM2"])
                                            {
                                                brkSumM4 += [[[barchartArray objectAtIndex:j] objectForKey:@"TotM2"] integerValue];
                                                NSLog(@"brkM4 %ld",(long)brkSumM4);
                                            }
                                        }
                                        
                                    }
                                    
                                }
                            }
                        }
                        else
                        {
                            
                            for (int i=0; i<[barchartArray count]; i++)
                            {
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M1"])
                                {
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"TotM2"])
                                    {
                                        brkSumM1 += [[[barchartArray objectAtIndex:i] objectForKey:@"TotM2"] integerValue];
                                        NSLog(@"brkM1 %ld",(long)brkSumM1);
                                    }
                                }
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M2"])
                                {
                                    
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"TotM2"])
                                    {
                                        brkSumM2 += [[[barchartArray objectAtIndex:i] objectForKey:@"TotM2"] integerValue];
                                        NSLog(@"brkM2 %ld",(long)brkSumM2);
                                    }
                                }
                                
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M4"])
                                {
                                    
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"TotM2"])
                                    {
                                        brkSumM4 += [[[barchartArray objectAtIndex:i] objectForKey:@"TotM2"] integerValue];
                                        NSLog(@"brkM4 %ld",(long)brkSumM4);
                                    }
                                }
                                
                            }
                        }
                        [barDtailArray addObject:[NSNumber numberWithInteger:brkSumM1]];
                        [barDtailArray addObject:[NSNumber numberWithDouble:brkSumM2]];
                        [barDtailArray addObject:[NSNumber numberWithDouble:brkSumM4]];
                        [typeArray addObjectsFromArray:[NSArray arrayWithObjects:@"M1",@"M2",@"M4", nil]];
                        [barTotalArray addObjectsFromArray:[NSArray arrayWithObjects:barDtailArray,typeArray, nil]];
                        [brkDownView addSubview:self.barchartView];
                        [self barchart];
                        [_chart reloadData];
                    }
                    
                }
                else if (index == 1)
                {
                    [self.pieBrkDownChartView setSliceDeselectedAtIndex:0];
                    [self.pieBrkDownChartView setSliceDeselectedAtIndex:2];
                    
                    [self.pieBrkDownChartView setSliceSelectedAtIndex:index];
                    
                    self.descBrkdwnLbl.text = @"Frequency";
                    
                    
                    if ([barchartArray count])
                    {
                        if ([self.brkFilterdArray count])
                        {
                            for (int i=0; i<[self.brkFilterdArray count]; i++)
                            {
                                for (int j = 0; j<[barchartArray count]; j++)
                                {
                                    
                                    if ([[[self.brkFilterdArray objectAtIndex:i]objectForKey:@"Iwerk"] isEqualToString:[[barchartArray objectAtIndex:j]objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M1"])
                                        {
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"Count"])
                                            {
                                                brkSumM1 += [[[barchartArray objectAtIndex:j] objectForKey:@"Count"] integerValue];
                                                NSLog(@"brkM1 %ld",(long)brkSumM1);
                                            }
                                            
                                        }
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M2"])
                                        {
                                            
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"Count"])
                                            {
                                                brkSumM2 += [[[barchartArray objectAtIndex:j] objectForKey:@"Count"] integerValue];
                                                NSLog(@"brkM2 %ld",(long)brkSumM2);
                                            }
                                        }
                                        
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M4"])
                                        {
                                            
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"Count"])
                                            {
                                                brkSumM4 += [[[barchartArray objectAtIndex:j] objectForKey:@"Count"] integerValue];
                                                NSLog(@"brkM4 %ld",(long)brkSumM4);
                                            }
                                        }
                                        
                                    }
                                    
                                }
                            }
                        }
                        else
                        {
                            
                            for (int i=0; i<[barchartArray count]; i++)
                            {
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M1"])
                                {
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"Count"])
                                    {
                                        brkSumM1 += [[[barchartArray objectAtIndex:i] objectForKey:@"Count"] integerValue];
                                        NSLog(@"brkM1 %ld",(long)brkSumM1);
                                    }
                                }
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M2"])
                                {
                                    
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"Count"])
                                    {
                                        brkSumM2 += [[[barchartArray objectAtIndex:i] objectForKey:@"Count"] integerValue];
                                        NSLog(@"brkM2 %ld",(long)brkSumM2);
                                    }
                                }
                                
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M4"])
                                {
                                    
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"Count"])
                                    {
                                        brkSumM4 += [[[barchartArray objectAtIndex:i] objectForKey:@"Count"] integerValue];
                                        NSLog(@"brkM4 %ld",(long)brkSumM4);
                                    }
                                }
                                
                            }
                        }
                        [barDtailArray addObject:[NSNumber numberWithInteger:brkSumM1]];
                        [barDtailArray addObject:[NSNumber numberWithDouble:brkSumM2]];
                        [barDtailArray addObject:[NSNumber numberWithDouble:brkSumM4]];
                        [typeArray addObjectsFromArray:[NSArray arrayWithObjects:@"M1",@"M2",@"M4", nil]];
                        [barTotalArray addObjectsFromArray:[NSArray arrayWithObjects:barDtailArray,typeArray, nil]];
                        [brkDownView addSubview:self.barchartView];
                        [self barchart];
                        [_chart reloadData];
                    }
                }
                else if (index == 2)
                {
                    [self.pieBrkDownChartView setSliceDeselectedAtIndex:0];
                    [self.pieBrkDownChartView setSliceDeselectedAtIndex:1];
                    
                    [self.pieBrkDownChartView setSliceSelectedAtIndex:index];
                    
                    self.descBrkdwnLbl.text = @"Total PM Offline";
                    
                    
                    if ([barchartArray count])
                    {
                        if ([self.brkFilterdArray count])
                        {
                            for (int i=0; i<[self.brkFilterdArray count]; i++)
                            {
                                for (int j = 0; j<[barchartArray count]; j++)
                                {
                                    
                                    if ([[[self.brkFilterdArray objectAtIndex:i]objectForKey:@"Iwerk"] isEqualToString:[[barchartArray objectAtIndex:j]objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M1"])
                                        {
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"TotM3"])
                                            {
                                                brkSumM1 += [[[barchartArray objectAtIndex:j] objectForKey:@"TotM3"] integerValue];
                                                NSLog(@"brkM1 %ld",(long)brkSumM1);
                                            }
                                            
                                        }
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M2"])
                                        {
                                            
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"TotM3"])
                                            {
                                                brkSumM2 += [[[barchartArray objectAtIndex:j] objectForKey:@"TotM3"] integerValue];
                                                NSLog(@"brkM2 %ld",(long)brkSumM2);
                                            }
                                        }
                                        
                                        if ([[[barchartArray objectAtIndex:j]objectForKey:@"Qmart"] isEqualToString:@"M4"])
                                        {
                                            
                                            if ([[barchartArray objectAtIndex:j] objectForKey:@"TotM3"])
                                            {
                                                brkSumM4 += [[[barchartArray objectAtIndex:j] objectForKey:@"TotM3"] integerValue];
                                                NSLog(@"brkM4 %ld",(long)brkSumM4);
                                            }
                                        }
                                        
                                    }
                                    
                                }
                            }
                        }
                        else
                        {
                            
                            for (int i=0; i<[barchartArray count]; i++)
                            {
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M1"])
                                {
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"TotM3"])
                                    {
                                        brkSumM1 += [[[barchartArray objectAtIndex:i] objectForKey:@"TotM3"] integerValue];
                                        NSLog(@"brkM1 %ld",(long)brkSumM1);
                                    }
                                }
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M2"])
                                {
                                    
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"TotM3"])
                                    {
                                        brkSumM2 += [[[barchartArray objectAtIndex:i] objectForKey:@"TotM3"] integerValue];
                                        NSLog(@"brkM2 %ld",(long)brkSumM2);
                                    }
                                }
                                
                                if ([[[barchartArray objectAtIndex:i]objectForKey:@"Qmart"] isEqualToString:@"M4"])
                                {
                                    
                                    if ([[barchartArray objectAtIndex:i] objectForKey:@"TotM3"])
                                    {
                                        brkSumM4 += [[[barchartArray objectAtIndex:i] objectForKey:@"TotM3"] integerValue];
                                        NSLog(@"brkM4 %ld",(long)brkSumM4);
                                    }
                                }
                                
                            }
                        }
                        [barDtailArray addObject:[NSNumber numberWithInteger:brkSumM1]];
                        [barDtailArray addObject:[NSNumber numberWithDouble:brkSumM2]];
                        [barDtailArray addObject:[NSNumber numberWithDouble:brkSumM4]];
                        [typeArray addObjectsFromArray:[NSArray arrayWithObjects:@"M1",@"M2",@"M4", nil]];
                        [barTotalArray addObjectsFromArray:[NSArray arrayWithObjects:barDtailArray,typeArray, nil]];
                        [brkDownView addSubview:self.barchartView];
                        [self barchart];
                        [_chart reloadData];
                    }
                }
            }
        }
    }
    else
    {
 
        [self showAlertMessageWithTitle:@"No Network Available" message:@"Please check your device network connection" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
     }
    
    self.descBrkdwnLbl.hidden=NO;
}

-(void)barchart
{
    if (_barColors == nil)
    {
        _barColors = [NSMutableArray new];
    }
    else
    {
        [_barColors removeAllObjects];
    }
    _values							= complianceArray;
    
    //    _values							= mttrMainArray;
    
    // NSMutableArray *colorsArray = [NSMutableArray new];
    // [colorsArray addObject:[UIColor blueColor]];
    for (int i = 0; i< _values.count; i++)
    {
        UIColor *color = [UIColor blueColor];
        [_barColors addObject:color];
    }
    //    _barColors						= @[[UIColor orangeColor], [UIColor colorWithRed:185/255.0 green:123/255.0 blue:83/255.0 alpha:1.0], [UIColor colorWithRed:207/255.0 green:167/255.0 blue:76/255.0 alpha:1.0], [UIColor colorWithRed:145/255.0 green:164/255.0 blue:69/255.0 alpha:1.0], [UIColor colorWithRed:119/255.0 green:175/255.0 blue:98/255.0 alpha:1.0], [UIColor colorWithRed:97/255.0 green:166/255.0 blue:144/255.0 alpha:1.0],[UIColor colorWithRed:196/255.0 green:179/255.0 blue:170/255.0 alpha:1.0],[UIColor redColor],[UIColor greenColor],[UIColor yellowColor],[UIColor blackColor],[UIColor blueColor],[UIColor purpleColor],[UIColor redColor],[UIColor greenColor]];
    //_currentBarColor				= 0;
    CGRect chartFrame;
    if (isiPhone6 || isiPhone7)
    {
        chartFrame				= CGRectMake(0.0,
                                             0.0,
                                             375.0,
                                             500.0);
    }
    else if (IS_IPHONE_6_PLUS || IS_IPHONE_7_PLUS)
    {
        
        chartFrame				= CGRectMake(0.0,
                                             0.0,
                                             414.0,
                                             575.0);
    }
    else if (isiPhone5)
    {
        chartFrame				= CGRectMake(0.0,
                                             0.0,
                                             320.0,
                                             400.0);
    }
    else if (IS_IPAD)
    {
        chartFrame                = CGRectMake(0.0,
                                               0.0,
                                               768.0,
                                               976.0);
    }
    
    else
    {
        chartFrame				= CGRectMake(0.0,
                                             0.0,
                                             320.0,
                                             400.0);
    }
    _chart							= [[SimpleBarChart alloc] initWithFrame:chartFrame];
    _chart.center					= CGPointMake(self.view.frame.size.width / 2.0, self.view.frame.size.height / 2.0);
    _chart.delegate					= self;
    _chart.dataSource				= self;
    _chart.barShadowOffset			= CGSizeMake(2.0, 1.0);
    _chart.animationDuration		= 1.0;
    _chart.barShadowColor			= [UIColor lightGrayColor];
    _chart.barShadowAlpha			= 0.5;
    _chart.barShadowRadius			= 1.0;
    _chart.barWidth					= 20.0;
    _chart.barTextFont = [UIFont systemFontOfSize:10.0];
    _chart.xLabelType				= SimpleBarChartXLabelTypeVerticle;
    _chart.incrementValue			= 10;
    _chart.barTextType				= SimpleBarChartBarTextTypeRoof;
    _chart.barTextColor				= [UIColor darkGrayColor];
    _chart.gridColor				= [UIColor grayColor];
    _chart.hasYLabels = YES;
    _chart.chartBorderColor = [UIColor blackColor];
    
    [self.notifSubView addSubview:self.notifBarchartView];
    [self.notifBarchartView addSubview:_chart];
    
    //    [self.view addSubview:_chart];
    //  [self.notifBarchartView addSubview:_chart];
    
}

#pragma mark SimpleBarChartDataSource

- (NSUInteger)numberOfBarsInBarChart:(SimpleBarChart *)barChart
{
    return _values.count;
}

- (CGFloat)barChart:(SimpleBarChart *)barChart valueForBarAtIndex:(NSUInteger)index
{
    return [[_values objectAtIndex:index]floatValue];
}

- (NSString *)barChart:(SimpleBarChart *)barChart textForBarAtIndex:(NSUInteger)index
{
    return [_values objectAtIndex:index];
    // return [[_values objectAtIndex:index] stringValue];
    
}

- (NSString *)barChart:(SimpleBarChart *)barChart xLabelForBarAtIndex:(NSUInteger)index
{
    //return [[barTotalArray objectAtIndex:1] objectAtIndex:index];
    // return [_values objectAtIndex:index];
    return [[notifBarchartTextDescArray objectAtIndex:1] objectAtIndex:index];
    
}

- (UIColor *)barChart:(SimpleBarChart *)barChart colorForBarAtIndex:(NSUInteger)index
{
    return [_barColors objectAtIndex:index];
    // return [_barColors objectAtIndex:_currentBarColor];
    
}


//- (NSUInteger)numberOfBarsInBarChart:(SimpleBarChart *)barChart
//{
//    return _values.count;
//}
//
//- (CGFloat)barChart:(SimpleBarChart *)barChart valueForBarAtIndex:(NSUInteger)index
//{
//    return [[_values objectAtIndex:index] floatValue];
//}
//
//- (NSString *)barChart:(SimpleBarChart *)barChart textForBarAtIndex:(NSUInteger)index
//{
//    return [[_values objectAtIndex:index] stringValue];
//}
//
//- (NSString *)barChart:(SimpleBarChart *)barChart xLabelForBarAtIndex:(NSUInteger)index
//{
//    return [[_values objectAtIndex:index] stringValue];
//}
//
//- (UIColor *)barChart:(SimpleBarChart *)barChart colorForBarAtIndex:(NSUInteger)index
//{
//    return [_barColors objectAtIndex:_currentBarColor];
//}


- (IBAction)barchartBackClicked:(id)sender
{
    [self.pieBrkDownChartView setSliceDeselectedAtIndex:0];
    [self.pieBrkDownChartView setSliceDeselectedAtIndex:1];
    [self.pieBrkDownChartView setSliceDeselectedAtIndex:2];
    
    [_chart removeFromSuperview];
    [self.barchartView removeFromSuperview];
}

- (void)handleDescTapGesture:(UITapGestureRecognizer *)sender
{
    CGPoint tapPoint = [sender locationInView:self.descNotifPieChartView];
    NSInteger index=[self.descNotifPieChartView getCurrentSelectedOnTouch:tapPoint];
    NSLog(@"%ld",(long)index);
    
    self.notifSearch.text = @"";
    if([[ConnectionManager defaultManager] isReachable])
    {
        [self filtersDetails];
        if(sender.view.tag == 2)
        {
            if (index >=0)
            {
                if (sender.state == UIGestureRecognizerStateRecognized)
                {
                    
                    if(tempArrayDetails == nil || numArray == nil || textArray == nil || equipArray == nil || temparrays == nil || phaseArray == nil || equipTxtArray == nil || plntTxtArray == nil || workCenterTxtArray == nil)
                    {
                        tempArrayDetails = [NSMutableArray new];
                        numArray = [NSMutableArray new];
                        textArray = [NSMutableArray new];
                        equipArray = [NSMutableArray new];
                        temparrays = [NSMutableArray new];
                        phaseArray = [NSMutableArray new];
                        equipTxtArray = [NSMutableArray new];
                        plntTxtArray = [NSMutableArray new];
                        workCenterTxtArray = [NSMutableArray new];
                        
                    }
                    else{
                        [tempArrayDetails removeAllObjects];
                        [numArray removeAllObjects];
                        [textArray removeAllObjects];
                        [equipArray removeAllObjects];
                        [temparrays removeAllObjects];
                        [phaseArray removeAllObjects];
                        [equipTxtArray removeAllObjects];
                        [plntTxtArray removeAllObjects];
                        [workCenterTxtArray removeAllObjects];
                        
                    }
                    if(equipDict == nil || plntTxtDict == nil || workCenterTxtDict == nil || textDict == nil || equipTxtDict == nil )
                    {
                        tempArrayDetails = [NSMutableArray new];
                        equipDict = [NSMutableDictionary new];
                        plntTxtDict = [NSMutableDictionary new];
                        workCenterTxtDict = [NSMutableDictionary new];
                        temparrays = [NSMutableArray new];
                        textDict = [NSMutableDictionary new];
                        equipTxtDict = [NSMutableDictionary new];
                        
                    }
                    else{
                        [tempArrayDetails removeAllObjects];
                        [equipDict removeAllObjects];
                        [plntTxtDict removeAllObjects];
                        [workCenterTxtDict removeAllObjects];
                        [temparrays removeAllObjects];
                        [textDict removeAllObjects];
                        [equipTxtDict removeAllObjects];
                        
                    }
                    self.detailFilterImage.hidden = NO;
                    
                    self.detailFilter.hidden = NO;
                    
                    // tempArrayDetails = [NSMutableArray new];
                    
                    if ([parsedDictionary objectForKey:@"Description"])
                    {
                        [temparrays addObjectsFromArray:[parsedDictionary objectForKey:@"Description"]];
                        
                        if ([self.detailsText.text isEqualToString:@"In Progress Notifications"])
                        {
                            
                            if ([notifDescFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                self.detailSelectedPlantText.hidden = YES;
                                self.detailPlantHeader.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            //                    {
                            //                        self.detailFilter.hidden = YES;
                            //                     //   self.detailPlantHeader.hidden = NO;
                            //                        self.detailSelectedPlantText.hidden = NO;
                            //                        self.detailSelectedPlantText.text = detailPlant;
                            //                       notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                            //                        for (int i = 0; i<[temparrays count]; i++)
                            //                        {
                            //                            if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                            //                            {
                            //                                if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                            //                                {
                            //                                     if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                            //                                     {
                            //                                         if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                            //                                         {
                            //                                             numDict = [NSMutableDictionary new];
                            //
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Qmnum"];
                            //                                             }
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                            //
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Qmtxt"];
                            //                                             }
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Equnr"];
                            //                                             }
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                            //                                             {
                            //
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Eqktx"];
                            //                                             }
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Swerk"];
                            //                                             }
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Tplnr"];
                            //                                             }
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Phase"];
                            //                                             }
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Qmart"];
                            //                                             }
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Ernam"];
                            //                                             }
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Strmn"];
                            //                                             }
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Ltrmn"];
                            //                                             }
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Msaus"];
                            //                                             }
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Priok"];
                            //                                             }
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Auswk"];
                            //                                             }
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Ausvn"];
                            //                                             }
                            //
                            //                                             if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                            //                                             {
                            //                                                 [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                            //                                             }
                            //                                             else
                            //                                             {
                            //                                                 [numDict setObject:@"-" forKey:@"Ausbs"];
                            //                                             }
                            //
                            //                                             [tempArrayDetails addObject:numDict];
                            //                                         }
                            //
                            //                                     }
                            //                                }
                            //                                else
                            //                                {
                            //                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                            //                                    {
                            //                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                            //                                        {
                            //                                            numDict = [NSMutableDictionary new];
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                            //
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Equnr"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                            //                                            {
                            //
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Swerk"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Phase"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmart"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ernam"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Strmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ltrmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Msaus"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Priok"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Auswk"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                            //                                            }
                            //
                            //                                            [tempArrayDetails addObject:numDict];
                            //                                        }
                            //
                            //                                    }
                            //                                }
                            //                            }
                            //                        }
                            //                    }
                            else if ([notifFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            
                            else
                            {
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                for (int i=0; i<[temparrays count]; i++)
                                {
                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                    {
                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                        {
                                            numDict = [NSMutableDictionary new];
                                            
                                            titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                            notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmnum"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Equnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                            {
                                                
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Swerk"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Arbpl"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Phase"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmart"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ernam"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Strmn"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ltrmn"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Msaus"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Priok"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auswk"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                                            }
                                            
                                            [tempArrayDetails addObject:numDict];
                                        }
                                    }
                                }
                            }
                        }
                        else if ([self.detailsText.text isEqualToString:@"In Progress Order"])
                        {
                            if ([notifDescFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                self.detailSelectedPlantText.hidden = YES;
                                self.detailPlantHeader.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"2"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"2"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            else if ([notifFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"2"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"2"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            
                            else
                            {
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                for (int i=0; i<[temparrays count]; i++)
                                {
                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"2"])
                                    {
                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                        {
                                            numDict = [NSMutableDictionary new];
                                            
                                            titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                            notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Aufnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ktext"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Equnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                            {
                                                
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Swerk"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Arbpl"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Phase"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auart"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ernam"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Gstrp"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Gltrp"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Msaus"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Priok"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auswk"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                                            }
                                            
                                            [tempArrayDetails addObject:numDict];
                                        }
                                    }
                                }
                            }
                        }
                        
                        else if ([self.detailsText.text isEqualToString:@"Completed Notifications"])
                        {
                            if ([notifDescFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                self.detailSelectedPlantText.hidden = YES;
                                self.detailPlantHeader.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            //                    {
                            //                        self.detailFilter.hidden = YES;
                            //
                            //                      //  self.detailPlantHeader.hidden = NO;
                            //                        self.detailSelectedPlantText.hidden = NO;
                            //                        self.detailSelectedPlantText.text = detailPlant;
                            //
                            //                        for (int i = 0; i<[temparrays count]; i++)
                            //                        {
                            //                            if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                            //                            {
                            //                                if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                            //                                {
                            //                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                            //                                    {
                            //                                        if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                            //                                        {
                            //                                            numDict = [NSMutableDictionary new];
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                            //
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Equnr"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                            //                                            {
                            //
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Swerk"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            //                                            }
                            //
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Phase"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmart"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ernam"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Strmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ltrmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Msaus"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Priok"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Auswk"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                            //                                            }
                            //
                            //                                            [tempArrayDetails addObject:numDict];
                            //                                        }
                            //                                    }
                            //                                }
                            //                                else
                            //                                {
                            //                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                            //                                    {
                            //                                        if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                            //                                        {
                            //                                            numDict = [NSMutableDictionary new];
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                            //
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Equnr"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                            //                                            {
                            //
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Swerk"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            //                                            }
                            //
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Phase"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmart"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ernam"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Strmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ltrmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Msaus"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Priok"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Auswk"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                            //                                            }
                            //
                            //                                            [tempArrayDetails addObject:numDict];
                            //                                        }
                            //                                    }
                            //                                }
                            //                            }
                            //                        }
                            //                    }
                            else if ([notifFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            else
                            {
                                
                                [numDict removeAllObjects];
                                
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                for (int i=0; i<[temparrays count]; i++)
                                {
                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                                    {
                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                        {
                                            numDict = [NSMutableDictionary new];
                                            
                                            titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                            notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmnum"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Equnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                            {
                                                
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Swerk"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Arbpl"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                                            }
                                            
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Phase"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmart"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ernam"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Strmn"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ltrmn"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Msaus"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Priok"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auswk"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                                            }
                                            
                                            
                                            [tempArrayDetails addObject:numDict];
                                        }
                                    }
                                }
                            }
                            
                        }
                        else if ([self.detailsText.text isEqualToString:@"Completed Order"])
                        {
                            if ([notifDescFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                self.detailSelectedPlantText.hidden = YES;
                                self.detailPlantHeader.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            else if ([notifFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            else
                            {
                                
                                [numDict removeAllObjects];
                                
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                for (int i=0; i<[temparrays count]; i++)
                                {
                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                    {
                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                        {
                                            numDict = [NSMutableDictionary new];
                                            
                                            titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                            notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Aufnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ktext"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Equnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                            {
                                                
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Swerk"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Arbpl"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                                            }
                                            
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Phase"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auart"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ernam"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Gstrp"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Gltrp"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Msaus"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Priok"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auswk"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                                            }
                                            
                                            
                                            [tempArrayDetails addObject:numDict];
                                        }
                                    }
                                }
                            }
                            
                        }
                        else if ([self.detailsText.text isEqualToString:@"Outstanding Notifications"])
                        {
                            if ([notifDescFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                self.detailSelectedPlantText.hidden = YES;
                                self.detailPlantHeader.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            //                    {
                            //                        self.detailFilter.hidden = YES;
                            //
                            //                       // self.detailPlantHeader.hidden = NO;
                            //                        self.detailSelectedPlantText.hidden = NO;
                            //                        self.detailSelectedPlantText.text = detailPlant;
                            //
                            //                        for (int i = 0; i<[temparrays count]; i++)
                            //                        {
                            //                            if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                            //                            {
                            //                                if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                            //                                {
                            //                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                            //                                    {
                            //                                        if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                            //                                        {
                            //                                            numDict = [NSMutableDictionary new];
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                            //
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Equnr"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                            //                                            {
                            //
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Swerk"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            //                                            }
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Phase"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmart"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ernam"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Strmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ltrmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Msaus"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Priok"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Auswk"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                            //                                            }
                            //
                            //                                            [tempArrayDetails addObject:numDict];
                            //                                        }
                            //                                    }
                            //                                }
                            //                                else
                            //                                {
                            //                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                            //                                    {
                            //                                        if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                            //                                        {
                            //                                            numDict = [NSMutableDictionary new];
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                            //
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Equnr"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                            //                                            {
                            //
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Swerk"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            //                                            }
                            //
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Phase"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Qmart"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ernam"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Strmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ltrmn"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Msaus"];
                            //                                            }
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Priok"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Auswk"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                            //                                            }
                            //
                            //                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                            //                                            {
                            //                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                            //                                            }
                            //                                            else
                            //                                            {
                            //                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                            //                                            }
                            //
                            //                                            [tempArrayDetails addObject:numDict];
                            //                                        }
                            //                                    }
                            //                                }
                            //                            }
                            //                        }
                            //                    }
                            else if ([notifFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            
                            else
                            {
                                
                                [numDict removeAllObjects];
                                
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                for (int i=0; i<[temparrays count]; i++)
                                    
                                {
                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                                    {
                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                        {
                                            numDict = [NSMutableDictionary new];
                                            
                                            titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                            notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmnum"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                                
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Equnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                            {
                                                
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Swerk"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Arbpl"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Phase"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmart"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Qmart"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ernam"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Strmn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Strmn"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ltrmn"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Msaus"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Priok"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auswk"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                                            }
                                            
                                            [tempArrayDetails addObject:numDict];
                                        }
                                    }
                                }
                            }
                            
                        }
                        else if ([self.detailsText.text isEqualToString:@"Outstanding Order"])
                        {
                            if ([notifDescFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                self.detailSelectedPlantText.hidden = YES;
                                self.detailPlantHeader.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"0"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"0"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            else if ([notifFilteredArray count])
                            {
                                self.detailFilterImage.hidden = YES;
                                
                                self.detailFilter.hidden = YES;
                                
                                [numDict removeAllObjects];
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                                {
                                    
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"0"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                                else
                                {
                                    for (int i=0; i<[temparrays count]; i++)
                                    {
                                        
                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"0"])
                                            {
                                                if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                                {
                                                    numDict = [NSMutableDictionary new];
                                                    
                                                    titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                                    notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Aufnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                        
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ktext"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                                    {
                                                        
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Phase"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auart"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gstrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Gltrp"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                                    }
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Priok"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                                    }
                                                    
                                                    if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                                    {
                                                        [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                                    }
                                                    else
                                                    {
                                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                                    }
                                                    
                                                    [tempArrayDetails addObject:numDict];
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            
                            else
                            {
                                
                                [numDict removeAllObjects];
                                
                                notifCompString = [[res_obj.myArray objectAtIndex:0] objectAtIndex:index];
                                
                                for (int i=0; i<[temparrays count]; i++)
                                    
                                {
                                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"0"])
                                    {
                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Auart"]])
                                        {
                                            numDict = [NSMutableDictionary new];
                                            
                                            titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                            notifTypeTextString = [res_obj.notifTypeArray objectAtIndex:index];
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Aufnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Aufnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ktext"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ktext"] forKey:@"Ktext"];
                                                
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ktext"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Equnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                                            {
                                                
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Eqktx"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Swerk"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Arbpl"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Arbpl"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Tplnr"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Phase"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Phase"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auart"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auart"] forKey:@"Auart"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auart"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ernam"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ernam"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Gstrp"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gstrp"] forKey:@"Gstrp"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Gstrp"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Gltrp"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Gltrp"] forKey:@"Gltrp"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Gltrp"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Msaus"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Msaus"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Priok"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Priok"];
                                            }
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Auswk"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Auswk"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausvn"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausvn"];
                                            }
                                            
                                            if ([[temparrays objectAtIndex:i] objectForKey:@"Ausbs"])
                                            {
                                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                            }
                                            else
                                            {
                                                [numDict setObject:@"-" forKey:@"Ausbs"];
                                            }
                                            
                                            [tempArrayDetails addObject:numDict];
                                        }
                                    }
                                }
                            }
                            
                        }
                    }
                    
                    if ([tempArrayDetails count])
                    {
                        self.notifDetailsHeaderText.text = titleString;
                        [self.notifDescription setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                        [self.view addSubview:self.notifDescription];
                        [self.notifDescTableView reloadData];
                    }
                    else
                    {
                           [self showAlertMessageWithTitle:@"Warning" message:@"No data available" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                     }
                 }
            }
            else
            {
                 [self showAlertMessageWithTitle:@"No data available" message:@"" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
             }
         }
    }
    else
    {
          [self showAlertMessageWithTitle:@"Alert" message:@"No Network Availbale. Data Cannot be Refreshed" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
     }
}

-(void)details
{
    
    if(tempArrayDetails == nil || numArray == nil || textArray == nil || equipArray == nil || temparrays == nil || phaseArray == nil || equipTxtArray == nil || plntTxtArray == nil || workCenterTxtArray == nil)
    {
        tempArrayDetails = [NSMutableArray new];
        numArray = [NSMutableArray new];
        textArray = [NSMutableArray new];
        equipArray = [NSMutableArray new];
        temparrays = [NSMutableArray new];
        phaseArray = [NSMutableArray new];
        equipTxtArray = [NSMutableArray new];
        plntTxtArray = [NSMutableArray new];
        workCenterTxtArray = [NSMutableArray new];
        
    }
    else{
        [tempArrayDetails removeAllObjects];
        [numArray removeAllObjects];
        [textArray removeAllObjects];
        [equipArray removeAllObjects];
        [temparrays removeAllObjects];
        [phaseArray removeAllObjects];
        [equipTxtArray removeAllObjects];
        [plntTxtArray removeAllObjects];
        [workCenterTxtArray removeAllObjects];
        
    }
    if(equipDict == nil || plntTxtDict == nil || workCenterTxtDict == nil || textDict == nil || equipTxtDict == nil )
    {
        tempArrayDetails = [NSMutableArray new];
        equipDict = [NSMutableDictionary new];
        plntTxtDict = [NSMutableDictionary new];
        workCenterTxtDict = [NSMutableDictionary new];
        temparrays = [NSMutableArray new];
        textDict = [NSMutableDictionary new];
        //                equipTxtArray = [NSMutableArray new];
        equipTxtDict = [NSMutableDictionary new];
        //                numDict = [NSMutableDictionary new];
        
    }
    else{
        [tempArrayDetails removeAllObjects];
        [equipDict removeAllObjects];
        [plntTxtDict removeAllObjects];
        [workCenterTxtDict removeAllObjects];
        [temparrays removeAllObjects];
        [textDict removeAllObjects];
        //                [equipTxtArray removeAllObjects];
        [equipTxtDict removeAllObjects];
        //               [numDict removeAllObjects];
        
    }
    
    tempArrayDetails = [NSMutableArray new];
    
    if ([parsedDictionary objectForKey:@"Description"])
    {
        [temparrays addObjectsFromArray:[parsedDictionary objectForKey:@"Description"]];
        
        if ([self.detailsText.text isEqualToString:@"In Progress Notifications"])
        {
            
            [numDict removeAllObjects];
            
            for (int i=0; i<[temparrays count]; i++)
                
            {
                
                if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                {
                    if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                    {
                        numDict = [NSMutableDictionary new];
                        
                        //                                if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M1"])
                        //                                {
                        //                                    titleString = @"M1-Maintenance Request";
                        //                                }
                        //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M2"])
                        //                                {
                        //                                    titleString = @"M2-Malfunction Report";
                        //                                }
                        //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M3"])
                        //                                {
                        //                                    titleString = @"M3-Activity Report";
                        //                                }
                        //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"ZB"])
                        //                                {
                        //                                    titleString = @"ZB-Grey Matter Notif";
                        //                                }
                        
                        if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                        {
                            [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                        }
                        else
                        {
                            [numDict setObject:@"-" forKey:@"Qmnum"];
                        }
                        
                        if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                        {
                            [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                            
                        }
                        else
                        {
                            [numDict setObject:@"-" forKey:@"Qmtxt"];
                        }
                        
                        if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                        {
                            [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                        }
                        else
                        {
                            [numDict setObject:@"-" forKey:@"Equnr"];
                        }
                        
                        if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                        {
                            
                            [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                        }
                        else
                        {
                            [numDict setObject:@"-" forKey:@"Eqktx"];
                        }
                        
                        if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                        {
                            [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                        }
                        else
                        {
                            [numDict setObject:@"-" forKey:@"Swerk"];
                        }
                        if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                        {
                            [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                        }
                        else
                        {
                            [numDict setObject:@"-" forKey:@"Tplnr"];
                        }
                        
                        [tempArrayDetails addObject:numDict];
                    }
                }
            }
            
        }
        else if ([self.detailsText.text isEqualToString:@"Completed Notifications"])
        {
            if ([self.scFilteredArray count])
            {
                
                NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[self.scFilteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                
                self.detailFilteredArray = [temparrays filteredArrayUsingPredicate:plPredicate];
                
                [numDict removeAllObjects];
                
                for (int i=0; i<[ self.detailFilteredArray count]; i++)
                    
                {
                    
                    if ([[[ self.detailFilteredArray objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                    {
                        if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[ self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmart"]])
                        {
                            numDict = [NSMutableDictionary new];
                            
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmnum"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            }
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmtxt"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            }
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Equnr"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Equnr"];
                            }
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Eqktx"])
                            {
                                
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            }
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Swerk"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Swerk"];
                            }
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Tplnr"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            }
                            
                            [tempArrayDetails addObject:numDict];
                        }
                    }
                }
                
            }
            else
            {
                
                [numDict removeAllObjects];
                
                for (int i=0; i<[temparrays count]; i++)
                    
                {
                    
                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                    {
                        if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                        {
                            numDict = [NSMutableDictionary new];
                            
                            //                                if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M1"])
                            //                                {
                            //                                    titleString = @"M1-Maintenance Request";
                            //                                }
                            //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M2"])
                            //                                {
                            //                                    titleString = @"M2-Malfunction Report";
                            //                                }
                            //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M3"])
                            //                                {
                            //                                    titleString = @"M3-Activity Report";
                            //                                }
                            //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"ZB"])
                            //                                {
                            //                                    titleString = @"ZB-Grey Matter Notif";
                            //                                }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Equnr"];
                            }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                            {
                                
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Swerk"];
                            }
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            }
                            
                            [tempArrayDetails addObject:numDict];
                        }
                    }
                }
            }
            
        }
        else if ([self.detailsText.text isEqualToString:@"Outstanding Notifications"])
        {
            if ([self.scFilteredArray count])
            {
                
                NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[self.scFilteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                
                self.detailFilteredArray = [temparrays filteredArrayUsingPredicate:plPredicate];
                
                [numDict removeAllObjects];
                
                for (int i=0; i<[ self.detailFilteredArray count]; i++)
                    
                {
                    
                    if ([[[ self.detailFilteredArray objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                    {
                        if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[ self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmart"]])
                        {
                            numDict = [NSMutableDictionary new];
                            
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmnum"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            }
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmtxt"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            }
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Equnr"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Equnr"];
                            }
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Eqktx"])
                            {
                                
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            }
                            
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Swerk"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Swerk"];
                            }
                            if ([[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Tplnr"])
                            {
                                [numDict setObject:[[self.detailFilteredArray objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            }
                            
                            [tempArrayDetails addObject:numDict];
                        }
                    }
                }
                
            }
            else
            {
                
                [numDict removeAllObjects];
                
                for (int i=0; i<[temparrays count]; i++)
                    
                {
                    if ([[[temparrays objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                    {
                        if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                        {
                            numDict = [NSMutableDictionary new];
                            
                            //                                if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M1"])
                            //                                {
                            //                                    titleString = @"M1-Maintenance Request";
                            //                                }
                            //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M2"])
                            //                                {
                            //                                    titleString = @"M2-Malfunction Report";
                            //                                }
                            //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"M3"])
                            //                                {
                            //                                    titleString = @"M3-Activity Report";
                            //                                }
                            //                                else if ([[[res_obj.myArray objectAtIndex:0] objectAtIndex:index] isEqualToString:@"ZB"])
                            //                                {
                            //                                    titleString = @"ZB-Grey Matter Notif";
                            //                                }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmnum"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Qmnum"];
                            }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Qmtxt"];
                            }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Equnr"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Equnr"];
                            }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Eqktx"])
                            {
                                
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Eqktx"];
                            }
                            
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Swerk"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Swerk"];
                            }
                            if ([[temparrays objectAtIndex:i] objectForKey:@"Tplnr"])
                            {
                                [numDict setObject:[[temparrays objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                            }
                            else
                            {
                                [numDict setObject:@"-" forKey:@"Tplnr"];
                            }
                            
                            [tempArrayDetails addObject:numDict];
                        }
                    }
                }
            }
            
        }
    }
    
    
    //            self.headerLabel.text = titleString;
    
    [self.notifDescription setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    
    [self.view addSubview:self.notifDescription];
    [self.notifDescTableView reloadData];
}

- (void)handlePermitTapGesture:(UITapGestureRecognizer *)sender
{
    CGPoint tapPoint = [sender locationInView:self.permitPiechartView];
    NSInteger index=[self.permitPiechartView getCurrentSelectedOnTouch:tapPoint];
    NSLog(@"%ld", (long)index);
    
    self.permitPiechartView.selectedIdentifier  = @"";
    self.workApprovalPiechartView.selectedIdentifier  = @"";
    applicationString = @"PermitStatus";
    
    if(sender.view.tag == 4)
    {
        if (sender.state == UIGestureRecognizerStateRecognized)
        {
            if(firstObjectArray == nil || secondObjectArray == nil || thirdObjectArray == nil || fourthObjectArray == nil || fifthObjectArray == nil || sixthObjectArray == nil || seventhObjectArray == nil || tempArrayDetails == nil || permitApplicationTypeArray == nil || first == nil ||second == nil || third == nil || fourth == nil || fifth == nil || sixth == nil || seventh == nil || applicationTypeArray == nil || permitArray == nil || applnTextArray == nil || permitWaTableArray == nil || permitApplnArray == nil)
            {
                firstObjectArray = [NSMutableArray new];
                secondObjectArray = [NSMutableArray new];
                thirdObjectArray = [NSMutableArray new];
                fourthObjectArray = [NSMutableArray new];
                fifthObjectArray = [NSMutableArray new];
                sixthObjectArray = [NSMutableArray new];
                seventhObjectArray = [NSMutableArray new];
                tempArrayDetails = [NSMutableArray new];
                permitApplicationTypeArray = [NSMutableArray new];
                first = [NSMutableArray new];
                second = [NSMutableArray new];
                third = [NSMutableArray new];
                fourth = [NSMutableArray new];
                fifth = [NSMutableArray new];
                sixth = [NSMutableArray new];
                seventh = [NSMutableArray new];
                applicationTypeArray = [NSMutableArray new];
                permitArray = [NSMutableArray new];
                applnTextArray = [NSMutableArray new];
                permitWaTableArray = [NSMutableArray new];
                permitApplnArray = [NSMutableArray new];
                
            }
            else{
                [firstObjectArray removeAllObjects];
                [secondObjectArray removeAllObjects];
                [thirdObjectArray removeAllObjects];
                [fourthObjectArray removeAllObjects];
                [fifthObjectArray removeAllObjects];
                [sixthObjectArray removeAllObjects];
                [seventhObjectArray removeAllObjects];
                [tempArrayDetails removeAllObjects];
                [first removeAllObjects];
                [second removeAllObjects];
                [third removeAllObjects];
                [fourth removeAllObjects];
                [fifth removeAllObjects];
                [sixth removeAllObjects];
                [seventh removeAllObjects];
                [permitApplicationTypeArray removeAllObjects];
                [applicationTypeArray removeAllObjects];
                [permitArray removeAllObjects];
                [applnTextArray removeAllObjects];
                [permitWaTableArray removeAllObjects];
                [permitApplnArray removeAllObjects];
                
            }
            
            if (index == 2 )
            {
                if (segmentedControl.selectedSegmentIndex == 0)
                {
                    self.applicationHeaderText.text = @"Applications Closed";
                    if ([workCenterFilteredArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = YES;
                        permitFilteredPlantString = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"];
                        permitStatusTextString = [res_obj.permitTextArray objectAtIndex:index];
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            permitFilteredWorkCenterString = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                            
                            if ([permitStatusTextString isEqualToString:@"Clsd"])
                            {
                                permitStatusString = @"Closed";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]] && [permitFilteredWorkCenterString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Clsd"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            permitWrkCntrString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        if ([permitWrkCntrString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                                        {
                                                            
                                                            [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                            permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                            
                                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                            {
                                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                            {
                                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                            {
                                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                            {
                                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                            {
                                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                            {
                                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                            {
                                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        
                                    }
                                }
                            }
                        }
                        else
                        {
                            
                            if ([permitStatusTextString isEqualToString:@"Clsd"])
                            {
                                permitStatusString = @"Closed";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Clsd"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                        
                                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                        {
                                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                        {
                                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                        {
                                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                        {
                                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                        {
                                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                        {
                                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                        {
                                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                }
                            }
                        }
                    }
                    else if ([permitDescrpnArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = NO;
                        
                        permitStatusString = @"Closed";
                        for (int j=0; j<[permitDetailDescpnArray count]; j++)
                        {
                            if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Clsd"] isEqualToString:@"X"])
                            {
                                permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                
                                for (int i = 0; i<[permitDescrpnArray count]; i++)
                                {
                                    if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                    {
                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                        
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                    }
                                }
                                
                            }
                        }
                    }
                    
                    
                }
                else if (segmentedControl.selectedSegmentIndex == 1)
                {
                    self.applicationHeaderText.text = @"Applications Issued";
                    
                    if ([wrkAppFilteredArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = YES;
                        permitFilteredPlantString = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"];
                        permitStatusTextString = [[res_obj.permitSecondTextArray objectAtIndex:0] objectAtIndex:index];
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            permitFilteredWorkCenterString = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                            
                            if ([permitStatusTextString isEqualToString:@"Issued"])
                            {
                                permitStatusString = @"Issued";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]] && [permitFilteredWorkCenterString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Green"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            permitWrkCntrString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        if ([permitWrkCntrString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                                        {
                                                            
                                                            [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                            permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                            
                                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                            {
                                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                            {
                                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                            {
                                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                            {
                                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                            {
                                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                            {
                                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                            {
                                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        
                                    }
                                }
                            }
                        }
                        else
                        {
                            
                            if ([permitStatusTextString isEqualToString:@"Issued"])
                            {
                                permitStatusString = @"Issued";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Green"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                        
                                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                        {
                                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                        {
                                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                        {
                                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                        {
                                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                        {
                                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                        {
                                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                        {
                                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                }
                            }
                        }
                    }
                    else if ([permitDescrpnArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = NO;
                        
                        permitStatusString = @"Issued";
                        for (int j=0; j<[permitDetailDescpnArray count]; j++)
                        {
                            if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Green"] isEqualToString:@"X"])
                            {
                                permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                
                                for (int i = 0; i<[permitDescrpnArray count]; i++)
                                {
                                    if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                    {
                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                        
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                    }
                                }
                                
                            }
                        }
                    }
                }
                //                int firstObjectLength = (int)firstObjectArray.count ;
                //                NSLog(@"length = %d",firstObjectLength);
                //                int secondObjectLength = (int)secondObjectArray.count ;
                //                NSLog(@"length = %d",secondObjectLength);
                //                int thirdObjectLength = (int)thirdObjectArray.count ;
                //                NSLog(@"length = %d",thirdObjectLength);
                //                int fourthObjectLength = (int)fourthObjectArray.count ;
                //                NSLog(@"length = %d",fourthObjectLength);
                //                int fifthObjectLength = (int)fifthObjectArray.count ;
                //                NSLog(@"length = %d",fifthObjectLength);
                //                int sixthObjectLength = (int)sixthObjectArray.count ;
                //                NSLog(@"length = %d",sixthObjectLength);
                //                int seventhObjectLength = (int)seventhObjectArray.count ;
                //                NSLog(@"length = %d",seventhObjectLength);
                //
                //                if (firstCountArray == nil || secondCountArray == nil || thirdCountArray == nil || fourthCountArray == nil || fifthCountArray == nil || sixthCountArray == nil || seventhCountArray == nil || totalPermitArray == nil)
                //                {
                //                    firstCountArray = [NSMutableArray new];
                //                    secondCountArray = [NSMutableArray new];
                //                    thirdCountArray = [NSMutableArray new];
                //                    fourthCountArray = [NSMutableArray new];
                //                    fifthCountArray = [NSMutableArray new];
                //                    sixthCountArray = [NSMutableArray new];
                //                    seventhCountArray = [NSMutableArray new];
                //                    totalPermitArray = [NSMutableArray new];
                //                }
                //                else
                //                {
                //                    [firstCountArray removeAllObjects];
                //                    [secondCountArray removeAllObjects];
                //                    [thirdCountArray removeAllObjects];
                //                    [fourthCountArray removeAllObjects];
                //                    [fifthCountArray removeAllObjects];
                //                    [sixthCountArray removeAllObjects];
                //                    [seventhCountArray removeAllObjects];
                //                    [totalPermitArray removeAllObjects];
                //                }
                //
                //                [firstCountArray addObject:[NSNumber numberWithInt:firstObjectLength]];
                //                [secondCountArray addObject:[NSNumber numberWithInt:secondObjectLength]];
                //                [thirdCountArray addObject:[NSNumber numberWithInt:thirdObjectLength]];
                //                [fourthCountArray addObject:[NSNumber numberWithInt:fourthObjectLength]];
                //                [fifthCountArray addObject:[NSNumber numberWithInt:fifthObjectLength]];
                //                [sixthCountArray addObject:[NSNumber numberWithInt:sixthObjectLength]];
                //                [seventhCountArray addObject:[NSNumber numberWithInt:seventhObjectLength]];
                //
                //
                //                [totalPermitArray addObjectsFromArray:[NSArray arrayWithObjects:firstCountArray,secondCountArray,thirdCountArray,fourthCountArray,fifthCountArray,sixthCountArray,seventhCountArray, nil]];
                //                if ([totalPermitArray count])
                //                {
                //                    int total = 0;
                //                    for (int i = 0; i<[totalPermitArray count]; i++)
                //                    {
                //                        total += [[[totalPermitArray objectAtIndex:i] objectAtIndex:0] intValue];
                //                    }
                //                    self.applicationTotalCount.text = [NSString stringWithFormat:@"%d",total];
                //                }
                //
                //                if ([firstObjectArray count])
                //                {
                //                    [first addObject:[firstObjectArray objectAtIndex:0]];
                //                }
                //                if ([secondObjectArray count])
                //                {
                //                    [second addObject:[secondObjectArray objectAtIndex:0]];
                //                }
                //                if ([thirdObjectArray count])
                //                {
                //                    [third addObject:[thirdObjectArray objectAtIndex:0]];
                //                }
                //                if ([fourthObjectArray count])
                //                {
                //                    [fourth addObject:[fourthObjectArray objectAtIndex:0]];
                //                }
                //                if ([fifthObjectArray count])
                //                {
                //                    [fifth addObject:[fifthObjectArray objectAtIndex:0]];
                //                }
                //
                //                if ([sixthObjectArray count])
                //                {
                //                    [sixth addObject:[sixthObjectArray objectAtIndex:0]];
                //                }
                //                if ([seventhObjectArray count])
                //                {
                //                    [seventh addObject:[seventhObjectArray objectAtIndex:0]];
                //                }
                //                [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
                //
                //                for (int i =0; i<[applicationTypeArray count]; i ++)
                //                {
                //                    if ([[applicationTypeArray objectAtIndex:i] count])
                //                    {
                //                       [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
                //                        [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[permitApplicationTypeArray objectAtIndex:i], nil]];
                //                    }
                //                }
                //
                //                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
                //
                //                [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
                //
                //                [self.permitView addSubview:self.permitDescriptionView];
                //                [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
            }
            
            else if (index == 0)
            {
                if (segmentedControl.selectedSegmentIndex == 0)
                {
                    self.applicationHeaderText.text = @"Applications Created";
                    
                    if ([workCenterFilteredArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = YES;
                        permitFilteredPlantString = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"];
                        permitStatusTextString = [res_obj.permitTextArray objectAtIndex:index];
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            permitFilteredWorkCenterString = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                            
                            if ([permitStatusTextString isEqualToString:@"Crea"])
                            {
                                permitStatusString = @"Created";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]] && [permitFilteredWorkCenterString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Crea"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            permitWrkCntrString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        if ([permitWrkCntrString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                                        {
                                                            
                                                            [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                            permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                            
                                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                            {
                                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                            {
                                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                            {
                                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                            {
                                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                            {
                                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                            {
                                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                            {
                                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        
                                    }
                                }
                            }
                        }
                        else
                        {
                            
                            if ([permitStatusTextString isEqualToString:@"Crea"])
                            {
                                permitStatusString = @"Created";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Crea"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                        
                                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                        {
                                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                        {
                                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                        {
                                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                        {
                                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                        {
                                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                        {
                                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                        {
                                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                }
                            }
                        }
                    }
                    else if ([permitDescrpnArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = NO;
                        
                        permitStatusString = @"Created";
                        for (int j=0; j<[permitDetailDescpnArray count]; j++)
                        {
                            if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Crea"] isEqualToString:@"X"])
                            {
                                permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                
                                for (int i = 0; i<[permitDescrpnArray count]; i++)
                                {
                                    if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                    {
                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                    }
                                }
                                
                            }
                        }
                    }
                    
                }
                else if (segmentedControl.selectedSegmentIndex == 1)
                {
                    self.applicationHeaderText.text = @"Applications Not Issued";
                    
                    if ([wrkAppFilteredArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = YES;
                        permitFilteredPlantString = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"];
                        permitStatusTextString = [[res_obj.permitSecondTextArray objectAtIndex:0] objectAtIndex:index];
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            permitFilteredWorkCenterString = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                            
                            if ([permitStatusTextString isEqualToString:@"Not Issued"])
                            {
                                permitStatusString = @"Not Issued";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]] && [permitFilteredWorkCenterString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Red"] isEqualToString:@"X"])
                                        {
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            permitWrkCntrString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        if ([permitWrkCntrString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                                        {
                                                            
                                                            [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                            permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                            
                                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                            {
                                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                            {
                                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                            {
                                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                            {
                                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                            {
                                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                            {
                                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                            {
                                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        
                                    }
                                }
                            }
                        }
                        else
                        {
                            if ([permitStatusTextString isEqualToString:@"Not Issued"])
                            {
                                permitStatusString = @"Not Issued";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Red"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                        
                                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                        {
                                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                        {
                                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                        {
                                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                        {
                                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                        {
                                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                        {
                                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                        {
                                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                }
                            }
                        }
                    }
                    else if ([permitDescrpnArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = NO;
                        
                        permitStatusString = @"Not Issued";
                        for (int j=0; j<[permitDetailDescpnArray count]; j++)
                        {
                            if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Red"] isEqualToString:@"X"])
                            {
                                permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                
                                for (int i = 0; i<[permitDescrpnArray count]; i++)
                                {
                                    if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                    {
                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                        
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                    }
                                }
                            }
                        }
                    }
                    
                    
                    
                    
                }
                //                int firstObjectLength = (int)firstObjectArray.count ;
                //                NSLog(@"length = %d",firstObjectLength);
                //                int secondObjectLength = (int)secondObjectArray.count ;
                //                NSLog(@"length = %d",secondObjectLength);
                //                int thirdObjectLength = (int)thirdObjectArray.count ;
                //                NSLog(@"length = %d",thirdObjectLength);
                //                int fourthObjectLength = (int)fourthObjectArray.count ;
                //                NSLog(@"length = %d",fourthObjectLength);
                //                int fifthObjectLength = (int)fifthObjectArray.count ;
                //                NSLog(@"length = %d",fifthObjectLength);
                //                int sixthObjectLength = (int)sixthObjectArray.count ;
                //                NSLog(@"length = %d",sixthObjectLength);
                //                int seventhObjectLength = (int)seventhObjectArray.count ;
                //
                //                if (firstCountArray == nil || secondCountArray == nil || thirdCountArray == nil || fourthCountArray == nil || fifthCountArray == nil || sixthCountArray == nil || seventhCountArray == nil || totalPermitArray == nil)
                //                {
                //                    firstCountArray = [NSMutableArray new];
                //                    secondCountArray = [NSMutableArray new];
                //                    thirdCountArray = [NSMutableArray new];
                //                    fourthCountArray = [NSMutableArray new];
                //                    fifthCountArray = [NSMutableArray new];
                //                    sixthCountArray = [NSMutableArray new];
                //                    seventhCountArray = [NSMutableArray new];
                //                    totalPermitArray = [NSMutableArray new];
                //
                //                }
                //                else
                //                {
                //                    [firstCountArray removeAllObjects];
                //                    [secondCountArray removeAllObjects];
                //                    [thirdCountArray removeAllObjects];
                //                    [fourthCountArray removeAllObjects];
                //                    [fifthCountArray removeAllObjects];
                //                    [sixthCountArray removeAllObjects];
                //                    [seventhCountArray removeAllObjects];
                //                    [totalPermitArray removeAllObjects];
                //
                //                }
                //
                //                [firstCountArray addObject:[NSNumber numberWithInt:firstObjectLength]];
                //                [secondCountArray addObject:[NSNumber numberWithInt:secondObjectLength]];
                //                [thirdCountArray addObject:[NSNumber numberWithInt:thirdObjectLength]];
                //                [fourthCountArray addObject:[NSNumber numberWithInt:fourthObjectLength]];
                //                [fifthCountArray addObject:[NSNumber numberWithInt:fifthObjectLength]];
                //                [sixthCountArray addObject:[NSNumber numberWithInt:sixthObjectLength]];
                //                [seventhCountArray addObject:[NSNumber numberWithInt:seventhObjectLength]];
                //
                //                [totalPermitArray addObjectsFromArray:[NSArray arrayWithObjects:firstCountArray,secondCountArray,thirdCountArray,fourthCountArray,fifthCountArray,sixthCountArray,seventhCountArray, nil]];
                //                if ([totalPermitArray count])
                //                {
                //                    int total = 0;
                //                    for (int i = 0; i<[totalPermitArray count]; i++)
                //                    {
                //                        total += [[[totalPermitArray objectAtIndex:i] objectAtIndex:0] intValue];
                //                    }
                //                    self.applicationTotalCount.text = [NSString stringWithFormat:@"%d",total];
                //                }
                //
                //                NSLog(@"length = %d",seventhObjectLength);
                //
                //                if ([firstObjectArray count])
                //                {
                //
                //                    [first addObject:[firstObjectArray objectAtIndex:0]];
                //                }
                //                else
                //                {
                //                    [first addObject:@"1"];
                //                }
                //                if ([secondObjectArray count])
                //                {
                //                    [second addObject:[secondObjectArray objectAtIndex:0]];
                //                }
                //                else
                //                {
                //                    [second addObject:@"2"];
                //                }
                //                if ([thirdObjectArray count])
                //                {
                //                    [third addObject:[thirdObjectArray objectAtIndex:0]];
                //                }
                //                else
                //                {
                //                    [third addObject:@"3"];
                //                }
                //                if ([fourthObjectArray count])
                //                {
                //                    [fourth addObject:[fourthObjectArray objectAtIndex:0]];
                //                }
                //                else
                //                {
                //                    [fourth addObject:@"4"];
                //                }
                //                if ([fifthObjectArray count])
                //                {
                //                    [fifth addObject:[fifthObjectArray objectAtIndex:0]];
                //                }
                //                else
                //                {
                //                    [fifth addObject:@"5"];
                //                }
                //                if ([sixthObjectArray count])
                //                {
                //                    [sixth addObject:[sixthObjectArray objectAtIndex:0]];
                //                }
                //                else
                //                {
                //                    [sixth addObject:@"6"];
                //                }
                //                if ([seventhObjectArray count])
                //                {
                //                    [seventh addObject:[seventhObjectArray objectAtIndex:0]];
                //                }
                //                else
                //                {
                //                    [seventh addObject:@"7"];
                //                }
                //                //                applicationTypeArray = [NSMutableArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil];
                //
                //                [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
                //
                //                for (int i =0; i<[applicationTypeArray count]; i ++)
                //                {
                ////                    [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0]]];
                //                    [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
                //
                //                }
                //
                //                [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:0] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:1] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:2] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:3] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:4] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:5] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:6] objectAtIndex:0], nil]];
                //
                //                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
                //
                //                [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
                //
                //                [self.permitView addSubview:self.permitDescriptionView];
                //
                //                [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
                //                [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
                
                
            }
            else if (index == 1)
            {
                if (segmentedControl.selectedSegmentIndex == 0)
                {
                    self.applicationHeaderText.text = @"Applications Prepared";
                    
                    if ([workCenterFilteredArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = YES;
                        permitFilteredPlantString = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"];
                        permitStatusTextString = [res_obj.permitTextArray objectAtIndex:index];
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            permitFilteredWorkCenterString = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                            
                            if ([permitStatusTextString isEqualToString:@"Prep"])
                            {
                                permitStatusString = @"Prepared";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]] && [permitFilteredWorkCenterString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Prep"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            permitWrkCntrString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        if ([permitWrkCntrString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                                        {
                                                            
                                                            [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                            permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                            
                                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                            {
                                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                            {
                                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                            {
                                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                            {
                                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                            {
                                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                            {
                                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                            {
                                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        
                                    }
                                }
                            }
                        }
                        else
                        {
                            
                            if ([permitStatusTextString isEqualToString:@"Prep"])
                            {
                                permitStatusString = @"Prepared";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Prep"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                        
                                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                        {
                                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                        {
                                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                        {
                                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                        {
                                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                        {
                                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                        {
                                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                        {
                                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                }
                            }
                        }
                    }
                    else if ([permitDescrpnArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = NO;
                        
                        permitStatusString = @"Prepared";
                        for (int j=0; j<[permitDetailDescpnArray count]; j++)
                        {
                            if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Prep"] isEqualToString:@"X"])
                            {
                                permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                
                                
                                for (int i = 0; i<[permitDescrpnArray count]; i++)
                                {
                                    if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                    {
                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                        
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                    }
                                }
                                
                            }
                        }
                    }
                }
                else if (segmentedControl.selectedSegmentIndex == 1)
                {
                    self.applicationHeaderText.text = @"Applications Partially Issued";
                    
                    if ([wrkAppFilteredArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = YES;
                        permitFilteredPlantString = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"];
                        permitStatusTextString = [[res_obj.permitSecondTextArray objectAtIndex:0] objectAtIndex:index];
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            permitFilteredWorkCenterString = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                            
                            if ([permitStatusTextString isEqualToString:@"Partially Issued"])
                            {
                                permitStatusString = @"Partially Issued";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]] && [permitFilteredWorkCenterString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Yellow"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            permitWrkCntrString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Arbpl"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        if ([permitWrkCntrString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                                        {
                                                            
                                                            [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                            permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                            
                                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                            {
                                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                            {
                                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                            {
                                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                            {
                                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                            {
                                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                            {
                                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                            {
                                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                            }
                                                            
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        
                                    }
                                }
                            }
                        }
                        else
                        {
                            
                            if ([permitStatusTextString isEqualToString:@"Partially Issued"])
                            {
                                permitStatusString = @"Partially Issued";
                                for (int j=0; j<[permitDetailDescpnArray count]; j++)
                                {
                                    if ([permitFilteredPlantString isEqualToString:[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"]])
                                    {
                                        if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Yellow"] isEqualToString:@"X"])
                                        {
                                            
                                            permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                            permitPlntString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Iwerk"];
                                            
                                            for (int i = 0; i<[permitDescrpnArray count]; i++)
                                            {
                                                if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                                {
                                                    if ([permitPlntString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                                                    {
                                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                                        
                                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                                        {
                                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                                        {
                                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                                        {
                                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                                        {
                                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                                        {
                                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                                        {
                                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                                        {
                                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                                        }
                                                        
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    
                                }
                            }
                        }
                    }
                    else if ([permitDescrpnArray count])
                    {
                        self.permitDetailPlantText.hidden = YES;
                        self.permitDetailPlantTitle.hidden = YES;
                        self.permitDetailFilter.hidden = NO;
                        
                        permitStatusString = @"Partially Issued";
                        for (int j=0; j<[permitDetailDescpnArray count]; j++)
                        {
                            if ([[[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Yellow"] isEqualToString:@"X"])
                            {
                                permitWapnrTextString = [[permitDetailDescpnArray objectAtIndex:j] objectForKey:@"Wapnr"];
                                
                                for (int i = 0; i<[permitDescrpnArray count]; i++)
                                {
                                    if ([permitWapnrTextString isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapnr"]])
                                    {
                                        [permitApplnArray addObject:[permitDescrpnArray objectAtIndex:i]];
                                        permitPlantApplnText = [[permitApplnArray objectAtIndex:0] objectForKey:@"Iwerk"];
                                        
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                    }
                                }
                                
                            }
                        }
                    }
                    
                }
                
            }
            
            int firstObjectLength = (int)firstObjectArray.count ;
            NSLog(@"length = %d",firstObjectLength);
            int secondObjectLength = (int)secondObjectArray.count ;
            NSLog(@"length = %d",secondObjectLength);
            int thirdObjectLength = (int)thirdObjectArray.count ;
            NSLog(@"length = %d",thirdObjectLength);
            int fourthObjectLength = (int)fourthObjectArray.count ;
            NSLog(@"length = %d",fourthObjectLength);
            int fifthObjectLength = (int)fifthObjectArray.count ;
            NSLog(@"length = %d",fifthObjectLength);
            int sixthObjectLength = (int)sixthObjectArray.count ;
            NSLog(@"length = %d",sixthObjectLength);
            int seventhObjectLength = (int)seventhObjectArray.count ;
            NSLog(@"length = %d",seventhObjectLength);
            
            if (firstCountArray == nil || secondCountArray == nil || thirdCountArray == nil || fourthCountArray == nil || fifthCountArray == nil || sixthCountArray == nil || seventhCountArray == nil || totalPermitArray == nil)
            {
                firstCountArray = [NSMutableArray new];
                secondCountArray = [NSMutableArray new];
                thirdCountArray = [NSMutableArray new];
                fourthCountArray = [NSMutableArray new];
                fifthCountArray = [NSMutableArray new];
                sixthCountArray = [NSMutableArray new];
                seventhCountArray = [NSMutableArray new];
                totalPermitArray = [NSMutableArray new];
            }
            else
            {
                [firstCountArray removeAllObjects];
                [secondCountArray removeAllObjects];
                [thirdCountArray removeAllObjects];
                [fourthCountArray removeAllObjects];
                [fifthCountArray removeAllObjects];
                [sixthCountArray removeAllObjects];
                [seventhCountArray removeAllObjects];
                [totalPermitArray removeAllObjects];
            }
            
            [firstCountArray addObject:[NSNumber numberWithInt:firstObjectLength]];
            [secondCountArray addObject:[NSNumber numberWithInt:secondObjectLength]];
            [thirdCountArray addObject:[NSNumber numberWithInt:thirdObjectLength]];
            [fourthCountArray addObject:[NSNumber numberWithInt:fourthObjectLength]];
            [fifthCountArray addObject:[NSNumber numberWithInt:fifthObjectLength]];
            [sixthCountArray addObject:[NSNumber numberWithInt:sixthObjectLength]];
            [seventhCountArray addObject:[NSNumber numberWithInt:seventhObjectLength]];
            
            
            [totalPermitArray addObjectsFromArray:[NSArray arrayWithObjects:firstCountArray,secondCountArray,thirdCountArray,fourthCountArray,fifthCountArray,sixthCountArray,seventhCountArray, nil]];
            if ([totalPermitArray count])
            {
                int total = 0;
                for (int i = 0; i<[totalPermitArray count]; i++)
                {
                    total += [[[totalPermitArray objectAtIndex:i] objectAtIndex:0] intValue];
                }
                self.applicationTotalCount.text = [NSString stringWithFormat:@"%d",total];
            }
            if (![permitApplnArray count])
            {
                [applicationTypeArray removeAllObjects];
                [applnTextArray removeAllObjects];
                [tempArrayDetails removeAllObjects];
                [permitArray removeAllObjects];
                [self.permitDescriptionView removeFromSuperview];
                
                [self.permitDescriptionView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                
                [self.permitView addSubview:self.permitDescriptionView];

                [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
 
                [self showAlertMessageWithTitle:@"" message:@"No chart data available" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                
            }
            else
            {

            if ([firstObjectArray count])
            {
                [first addObject:[firstObjectArray objectAtIndex:0]];
            }
            if ([secondObjectArray count])
            {
                [second addObject:[secondObjectArray objectAtIndex:0]];
            }
            if ([thirdObjectArray count])
            {
                [third addObject:[thirdObjectArray objectAtIndex:0]];
            }
            if ([fourthObjectArray count])
            {
                [fourth addObject:[fourthObjectArray objectAtIndex:0]];
            }
            if ([fifthObjectArray count])
            {
                [fifth addObject:[fifthObjectArray objectAtIndex:0]];
            }
            
            if ([sixthObjectArray count])
            {
                [sixth addObject:[sixthObjectArray objectAtIndex:0]];
            }
            if ([seventhObjectArray count])
            {
                [seventh addObject:[seventhObjectArray objectAtIndex:0]];
            }
            [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
            
            for (int i =0; i<[applicationTypeArray count]; i ++)
            {
                if ([[applicationTypeArray objectAtIndex:i] count])
                {
                    [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
                }
            }
            
            for (int j=0; j<[permitApplicationTypeArray count]; j++)
            {
                [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:j] objectAtIndex:0], nil]];
                
            }
            
//                NSArray *f;
//                NSString *s;
//                if (firstObjectLength != 0)
//                {
//                    s =[NSString stringWithFormat:@"%@",[NSNumber numberWithInteger:firstObjectLength]];
//                    f = [NSArray arrayWithObject:[NSNumber numberWithInteger:firstObjectLength]];
//                }
//                if (secondObjectLength != 0)
//                {
//                   f = [NSArray arrayWithObject:[NSNumber numberWithInteger:secondObjectLength]];
//                }
//                if (thirdObjectLength != 0)
//                {
//                    f = [NSMutableArray arrayWithObject:[NSNumber numberWithInteger:thirdObjectLength]];
//                }
//                if (fourthObjectLength != 0)
//                {
//                    f = [NSMutableArray arrayWithObject:[NSNumber numberWithInteger:fourthObjectLength]];
//                }
//                if (fifthObjectLength != 0)
//                {
//                    f = [NSMutableArray arrayWithObject:[NSNumber numberWithInteger:fifthObjectLength]];
//                }
//                if (sixthObjectLength != 0)
//                {
//                    f = [NSMutableArray arrayWithObject:[NSNumber numberWithInteger:sixthObjectLength]];
//                }
//                if (seventhObjectLength == 0)
//                {
//                    f = [NSArray arrayWithObject:[NSNumber numberWithInteger:seventhObjectLength]];
//                }
//                
            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];

                if (chartDataArray == nil)
                {
                    chartDataArray = [NSMutableArray new];
                }
                else
                {
                    [chartDataArray removeAllObjects];
                }

                for (int i = 0; i<[tempArrayDetails count]; i++)
                {
                    NSString *tstr =[NSString stringWithFormat:@"%@",[tempArrayDetails objectAtIndex:i]];
                    if (![tstr isEqualToString:@"0"])
                    {
                        [chartDataArray addObject:tstr];
                    }
                }
                
            [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,chartDataArray, nil]];
            
//            [self.permitView addSubview:self.permitDescriptionView];
//            if (![permitApplnArray count])
//            {
//                [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
//
//                UIAlertView *pAlert = [[UIAlertView alloc] initWithTitle:@"" message:@"No chart data available" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
//                [pAlert show];
//            }
//            else
//            {
               // [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,chartDataArray, nil]];
                [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];

                [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];

                [self.permitDescriptionView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];

                 [self.permitView addSubview:self.permitDescriptionView];
              //  }
  
            }
            
        }
    }
}

- (void)handlePermitDescriptionTapGesture:(UITapGestureRecognizer *)sender
{
    CGPoint tapPoint = [sender locationInView:self.permitDescriptionPiechartView];
    NSInteger index = [self.permitDescriptionPiechartView getCurrentSelectedOnTouch:tapPoint];
    NSLog(@"%ld", (long)index);
    
    self.permitSearchBar.text = @"";
    if(sender.view.tag == 6)
    {
        if (sender.state == UIGestureRecognizerStateRecognized)
        {
            if (workApprNum == nil || permitWrkApprNum == nil || permitDetailListArray == nil || permitAppArray == nil)
            {
                workApprNum = [NSMutableArray new];
                permitWrkApprNum = [NSMutableArray new];
                permitDetailListArray = [NSMutableArray new];
                permitAppArray = [NSMutableArray new];
                
            }
            else
            {
                [workApprNum removeAllObjects];
                [permitWrkApprNum removeAllObjects];
                [permitDetailListArray removeAllObjects];
                [permitAppArray removeAllObjects];
                
            }
            if (index == 0 )
            {
                if (segmentedControl.selectedSegmentIndex == 0)
                {
                    
                    if ([permitStatusString isEqualToString:@"Closed"])
                    {
                        for (int i=0; i<[permitApplnArray count]; i++)
                        {
                            if ([[[permitApplnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                NSString *tempPermitArray;
                                tempPermitArray = [[permitApplnArray objectAtIndex:i] objectForKey:@"Wapinr"];
                                for (int j=0; j<[permitDetailArray count]; j++)
                                {
                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
                                    {
                                        permitWrkApprNumDict = [NSMutableDictionary new];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Priok"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Equnr"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Eqktx"];
                                        }
                                        
                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
                                    }
                                    
                                }
                                
                            }
                        }
                    }
                    else if ([permitStatusString isEqualToString:@"Created"])
                    {
                        for (int i=0; i<[permitApplnArray count]; i++)
                        {
                            if ([[[permitApplnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                NSString *tempPermitArray;
                                tempPermitArray = [[permitApplnArray objectAtIndex:i] objectForKey:@"Wapinr"];
                                for (int j=0; j<[permitDetailArray count]; j++)
                                {
                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
                                    {
                                        
                                        permitWrkApprNumDict = [NSMutableDictionary new];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Priok"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Equnr"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Eqktx"];
                                        }
                                        
                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
                                    }
                                }
                            }
                            
                        }
                        
                    }
                    else if ([permitStatusString isEqualToString:@"Prepared"])
                    {
                        for (int i=0; i<[permitApplnArray count]; i++)
                        {
                            if ([[[permitApplnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                NSString *tempPermitArray;
                                tempPermitArray = [[permitApplnArray objectAtIndex:i] objectForKey:@"Wapinr"];
                                for (int j=0; j<[permitDetailArray count]; j++)
                                {
                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
                                    {
                                        permitWrkApprNumDict = [NSMutableDictionary new];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Priok"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Equnr"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Eqktx"];
                                        }
                                        
                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
                                    }
                                }
                                
                            }
                            
                        }
                    }
                    // else if ([permitStatusString isEqualToString:@"Rejected"])
                    //                          {
                    //                              for (int i=0; i<[permitApplnArray count]; i++)
                    //                              {
                    //                                  if ([[[permitApplnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                    //                                  {
                    //                                      NSString *tempPermitArray;
                    //                                      tempPermitArray = [[permitApplnArray objectAtIndex:i] objectForKey:@"Wapinr"];
                    //                                      for (int j=0; j<[permitDetailArray count]; j++)
                    //                                      {
                    //                                          if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
                    //                                          {
                    //                                          permitWrkApprNumDict = [NSMutableDictionary new];
                    //                                          [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
                    //                                          [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
                    //                                          [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                    //                                          [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                    //                                          [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
                    //                                          [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
                    //                                          [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
                    //                                          [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
                    //                                          if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
                    //                                          {
                    //                                              [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
                    //
                    //                                          }
                    //                                          else
                    //                                          {
                    //                                              [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
                    //                                          }
                    //                                          if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                    //                                          {
                    //                                              [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
                    //
                    //                                          }
                    //                                          else
                    //                                          {
                    //                                              [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
                    //                                          }
                    //                                          if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                    //                                          {
                    //                                              [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                    //
                    //                                          }
                    //                                          else
                    //                                          {
                    //                                              [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
                    //                                          }
                    //
                    //                                          [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
                    //                                      }
                    //                                  }
                    //
                    //                                  }
                    //
                    //                              }
                    //                          }
                }
                else if (segmentedControl.selectedSegmentIndex == 1)
                {
                    if ([permitStatusString isEqualToString:@"Not Issued"])
                    {
                        for (int i=0; i<[permitApplnArray count]; i++)
                        {
                            if ([[[permitApplnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                NSString *tempPermitArray;
                                tempPermitArray = [[permitApplnArray objectAtIndex:i] objectForKey:@"Wapinr"];
                                for (int j=0; j<[permitDetailArray count]; j++)
                                {
                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
                                    {
                                        
                                        permitWrkApprNumDict = [NSMutableDictionary new];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Priok"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Equnr"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Eqktx"];
                                        }
                                        
                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
                                    }
                                    
                                }
                            }
                            
                        }
                    }
                    else if ([permitStatusString isEqualToString:@"Partially Issued"])
                    {
                        for (int i=0; i<[permitApplnArray count]; i++)
                        {
                            if ([[[permitApplnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                NSString *tempPermitArray;
                                tempPermitArray = [[permitApplnArray objectAtIndex:i] objectForKey:@"Wapinr"];
                                for (int j=0; j<[permitDetailArray count]; j++)
                                {
                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
                                    {
                                        
                                        permitWrkApprNumDict = [NSMutableDictionary new];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Priok"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Equnr"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Eqktx"];
                                        }
                                        
                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
                                    }
                                }
                                
                            }
                            
                        }
                    }
                    else if ([permitStatusString isEqualToString:@"Issued"])
                    {
                        for (int i=0; i<[permitApplnArray count]; i++)
                        {
                            if ([[[permitApplnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                NSString *tempPermitArray;
                                tempPermitArray = [[permitApplnArray objectAtIndex:i] objectForKey:@"Wapinr"];
                                for (int j=0; j<[permitDetailArray count]; j++)
                                {
                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
                                    {
                                        permitWrkApprNumDict = [NSMutableDictionary new];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Priok"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Equnr"];
                                        }
                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
                                        {
                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                            
                                        }
                                        else
                                        {
                                            [permitWrkApprNumDict setObject:@"" forKey:@"Eqktx"];
                                        }
                                        
                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
                                    }
                                }
                            }
                        }
                    }
                }
                
                  [self.permitDetailView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                
                [self.view addSubview:self.permitDetailView];
                self.permitDetailTableView.tag = 0;
                [self.permitDetailTableView reloadData];
                
            }
            
        }
    }
}
//  else if (index == 6)
//            {
//                for (int i=0; i<[permitDescrpnArray count]; i++)
//                {
//                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
//                    {
//                        if ([permitStatusString isEqualToString:@"Closed"])
//                        {
//                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Clsd"] isEqualToString:@"X"])
//                            {
//                                NSString *tempPermitArray;
//                                tempPermitArray = [[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapinr"];
//                                for (int j=0; j<[permitDetailArray count]; j++)
//                                {
//                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
//                                    {
//                                        permitWrkApprNumDict = [NSMutableDictionary new];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
//                                        }
//
//                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
//
//                                    }
//
//                                }
//
//                            }
//                        }
//                        else if ([permitStatusString isEqualToString:@"Created"])
//                        {
//                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Crea"] isEqualToString:@"X"])
//                            {
//                                NSString *tempPermitArray;
//                                tempPermitArray = [[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapinr"];
//                                for (int j=0; j<[permitDetailArray count]; j++)
//                                {
//                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
//                                    {
//                                        permitWrkApprNumDict = [NSMutableDictionary new];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
//                                        }
//
//                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
//
//                                    }
//
//                                }
//
//                            }
//                        }
//                        else if ([permitStatusString isEqualToString:@"Prepared"])
//                        {
//                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Prep"] isEqualToString:@"X"])
//                            {
//                                NSString *tempPermitArray;
//                                tempPermitArray = [[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapinr"];
//                                for (int j=0; j<[permitDetailArray count]; j++)
//                                {
//                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
//                                    {
//                                        permitWrkApprNumDict = [NSMutableDictionary new];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
//                                        }
//
//                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
//
//                                    }
//
//                                }
//
//                            }
//                        }
//                        else if ([permitStatusString isEqualToString:@"Rejected"])
//                        {
//                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Reje"] isEqualToString:@"X"])
//                            {
//                                NSString *tempPermitArray;
//                                tempPermitArray = [[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapinr"];
//                                for (int j=0; j<[permitDetailArray count]; j++)
//                                {
//                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
//                                    {
//                                        permitWrkApprNumDict = [NSMutableDictionary new];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
//                                        }
//
//                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
//
//                                    }
//
//                                }
//
//                            }
//                        }
//                        else if ([permitStatusString isEqualToString:@"Not Issued"])
//                        {
//                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Red"] isEqualToString:@"X"])
//                            {
//                                NSString *tempPermitArray;
//                                tempPermitArray = [[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapinr"];
//                                for (int j=0; j<[permitDetailArray count]; j++)
//                                {
//                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
//                                    {
//                                        permitWrkApprNumDict = [NSMutableDictionary new];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
//                                        }
//
//                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
//
//                                    }
//
//                                }
//
//                            }
//                        }
//                        else if ([permitStatusString isEqualToString:@"Partially Issued"])
//                        {
//                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Yellow"] isEqualToString:@"X"])
//                            {
//                                NSString *tempPermitArray;
//                                tempPermitArray = [[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapinr"];
//                                for (int j=0; j<[permitDetailArray count]; j++)
//                                {
//                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
//                                    {
//                                        permitWrkApprNumDict = [NSMutableDictionary new];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
//                                        }
//
//                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
//
//                                    }
//
//                                }
//
//                            }
//                        }
//                        else if ([permitStatusString isEqualToString:@"Issued"])
//                        {
//                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Green"] isEqualToString:@"X"])
//                            {
//                                NSString *tempPermitArray;
//                                tempPermitArray = [[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapinr"];
//                                for (int j=0; j<[permitDetailArray count]; j++)
//                                {
//                                    if ([tempPermitArray isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
//                                    {
//                                        permitWrkApprNumDict = [NSMutableDictionary new];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
//                                        [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
//                                        }
//                                        if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
//                                        {
//                                            [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
//
//                                        }
//                                        else
//                                        {
//                                            [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
//                                        }
//
//                                        [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
//
//                                    }
//                                }
//                            }
//                        }
//                    }
////                    {
////
////                        for (int j=0; j<[permitDetailArray count]; j++)
////                        {
////
////                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Wapinr"] isEqualToString:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wapinr"]])
////                            {
////                                permitWrkApprNumDict = [NSMutableDictionary new];
////
////                                [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Wcnr"] forKey:@"Wcnr"];
////                                [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Stxt"] forKey:@"Stxt"];
////                                [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Aufnr"] forKey:@"Aufnr"];
////                                [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Tplnr"] forKey:@"Tplnr"];
////                                [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Datefr"] forKey:@"Datefr"];
////                                [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Dateto"] forKey:@"Dateto"];
////                                [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timefr"] forKey:@"Timefr"];
////                                [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Timeto"] forKey:@"Timeto"];
////                                if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"])
////                                {
////                                    [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Priok"] forKey:@"Priok"];
////
////                                }
////                                else
////                                {
////                                    [permitWrkApprNumDict setObject:@"-" forKey:@"Priok"];
////                                }
////                                if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
////                                {
////                                    [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"] forKey:@"Equnr"];
////
////                                }
////                                else
////                                {
////                                    [permitWrkApprNumDict setObject:@"-" forKey:@"Equnr"];
////                                }
////                                if ([[permitDetailArray objectAtIndex:j]objectForKey:@"Equnr"])
////                                {
////                                    [permitWrkApprNumDict setObject:[[permitDetailArray objectAtIndex:j]objectForKey:@"Eqktx"] forKey:@"Eqktx"];
////
////                                }
////                                else
////                                {
////                                    [permitWrkApprNumDict setObject:@"-" forKey:@"Eqktx"];
////                                }
////
////                                [permitDetailListArray addObjectsFromArray:[NSArray arrayWithObject:permitWrkApprNumDict]];
////
////                            }
////
////                        }
////
////                    }
//
//                }
//
//                 [self.view addSubview:self.permitDetailView];
//                 [self.permitDetailTableView reloadData];
//
//            }

//        }
//        }
//    }


-(void)loadBreakDownCliked{
    
    array = [NSMutableArray new];
    txtArray = [NSMutableArray new];
    descArray = [NSMutableArray new];
    detailsArray = [NSMutableArray new];
    monthArray= [NSMutableArray new];
    month = [NSMutableArray new];
    timeArr = [NSMutableArray new];
    
    selectedFlag=@"Brkdown";
    [self initialData];
    
}





- (void)updateChartData
{
    if (self.shouldHideData)
    {
        _chartView.data = nil;
        return;
    }
    //    _chartXMin = -0.5
    //    _chartXMax = Double(_data.xVals.count) - 0.5


    [self setChartData];

}



- (void)setChartData
{
    CombinedChartData *data = [[CombinedChartData alloc] init];
    data.barData = [self generateBarData];

    data.lineData = [self generateLineData];

    //  _chartView.xAxis.axisMaximum = data.xMax + 0.0;
    _chartView.xAxis.axisMinimum = -0.3;
    _chartView.xAxis.axisMaximum = data.xMax + 0.3;
    _chartView.data = data;

}

- (void)optionTapped:(NSString *)key
{
    if ([key isEqualToString:@"toggleLineValues"])
    {
        for (NSObject<IChartDataSet> *set in _chartView.data.dataSets)
        {
            if ([set isKindOfClass:LineChartDataSet.class])
            {
                set.drawValuesEnabled = !set.isDrawValuesEnabled;
            }
        }

        [_chartView setNeedsDisplay];
        return;
    }

    if ([key isEqualToString:@"toggleBarValues"])
    {
        for (NSObject<IChartDataSet> *set in _chartView.data.dataSets)
        {
            if ([set isKindOfClass:BarChartDataSet.class])
            {
                set.drawValuesEnabled = !set.isDrawValuesEnabled;
            }
        }

        [_chartView setNeedsDisplay];
        return;
    }

    if ([key isEqualToString:@"removeDataSet"])
    {
        int rnd = (int)arc4random_uniform((float)_chartView.data.dataSetCount);
        [_chartView.data removeDataSet:[_chartView.data getDataSetByIndex:rnd]];
        [_chartView.data notifyDataChanged];
        [_chartView notifyDataSetChanged];
    }

}

- (LineChartData *)generateLineData
{

    NSMutableArray *entries1 = [[NSMutableArray alloc] init];
    NSMutableArray *entries2 = [[NSMutableArray alloc] init];


    //    values1= [NSArray arrayWithObjects:@"2",@"1",@"2",@"3",@"3",@"4",@"7",@"5",@"3",@"1",@"2",@"1", nil];
    values1= brkDownCountArray;

    //    values2 =[NSArray arrayWithObjects:@"12.3",@"2",@"3.4",@"6",@"8",@"5.5",@"11",@"13",@"5",@"4",@"3",@"5", nil];
    values2 = brkDownHoursArray;


    for (int index = 0; index < [values1 count]; index++)
    {
        [entries1 addObject:[[ChartDataEntry alloc] initWithX:index y:[[values1 objectAtIndex:index] doubleValue]]];

    }

    //    for (int index = 0; index < [values2 count]; index++)
    //    {
    //        [entries2 addObject:[[ChartDataEntry alloc] initWithX:index y:[[values2 objectAtIndex:index] doubleValue]]];
    //
    //    }

    LineChartDataSet *set1 = [[LineChartDataSet alloc] initWithValues:entries1 label:@"No of BD"];
    [set1 setColor:[UIColor redColor]];
    set1.lineWidth = 2.5;
    [set1 setCircleColor:[UIColor redColor]];
    set1.circleRadius = 5.0;
    set1.circleHoleRadius = 2.5;
    set1.fillColor = [UIColor blackColor];
    set1.mode = LineChartModeCubicBezier;
    set1.drawValuesEnabled = YES;
    set1.valueFont = [UIFont systemFontOfSize:10.f];
//    set1.valueTextColor = [UIColor colorWithRed:240/255.f green:238/255.f blue:70/255.f alpha:1.f];
    set1.valueTextColor = [UIColor redColor];

    set1.axisDependency = AxisDependencyLeft;

    //    LineChartDataSet *set2 = [[LineChartDataSet alloc] initWithValues:entries2 label:@"BD hrs"];
    //    [set2 setColor:[UIColor blackColor]];
    //    set2.lineWidth = 2.5;
    //    [set2 setCircleColor:[UIColor blackColor]];
    //    set2.circleRadius = 5.0;
    //    set2.circleHoleRadius = 2.5;
    //    set2.fillColor = [UIColor blackColor];
    //    set2.mode = LineChartModeCubicBezier;
    //    set2.drawValuesEnabled = YES;
    //    set2.valueFont = [UIFont systemFontOfSize:10.f];
    ////    set2.valueTextColor = [UIColor colorWithRed:240/255.f green:238/255.f blue:70/255.f alpha:1.f];
    //    set2.valueTextColor = [UIColor darkGrayColor];
    //
    //    set2.axisDependency = AxisDependencyRight;

    //    LineChartData *d = [[LineChartData alloc] initWithDataSets:@[set1,set2]];
    LineChartData *d = [[LineChartData alloc] initWithDataSets:@[set1]];

    return d;
}

- (BarChartData *)generateBarData
{
    NSMutableArray<BarChartDataEntry *> *entries1 = [[NSMutableArray alloc] init];

    // if ([self.currentMonthHeader.text isEqualToString:@"Current Month MTTR"])
    // {
    //     values3 = mttrMainArray;

    //  }
    // else
    // {
    //    values3 =[NSArray arrayWithObjects:@"6.15",@"2",@"1.7",@"2",@"2.6666666666",@"1.375",@"1.57142857142",@"2.6",@"1.666666666",@"4",@"1.5",@"2.55", nil];
    values3 = brkDownMttrArray;


    // }

    for (int index = 0; index < [values3 count]; index++)
    {
        [entries1 addObject:[[BarChartDataEntry alloc] initWithX:index y:[[values3 objectAtIndex:index] doubleValue]]];
        //        [entries2 addObject:[[BarChartDataEntry alloc] initWithX:index y:[[values3 objectAtIndex:index] doubleValue]]];

    }

    BarChartDataSet *set1 = [[BarChartDataSet alloc] initWithValues:entries1 label:@"MTTR"];
    [set1 setColor:[UIColor blueColor]];
//    set1.valueTextColor = [UIColor colorWithRed:60/255.f green:220/255.f blue:78/255.f alpha:1.f];
    set1.valueTextColor = [UIColor blackColor];

    set1.valueFont = [UIFont systemFontOfSize:10.f];
    set1.axisDependency = AxisDependencyLeft;


    //    set1.colors = @[
    //                            [UIColor colorWithRed:61/255.f green:165/255.f blue:255/255.f alpha:1.f],
    //                                        [UIColor colorWithRed:23/255.f green:197/255.f blue:255/255.f alpha:1.f]
    //                                        ];


    //    float groupSpace = 0.06f;
    //    float barSpace = 0.02f; // x2 dataset
    //    float barWidth = 0.45f; // x2 dataset
    // (0.45 + 0.02) * 2 + 0.06 = 1.00 -> interval per "group"
    float groupSpace = 0.01f;
    float barSpace = 0.01f; // x2 dataset
    float barWidth = 0.4f; //
    BarChartData *d = [[BarChartData alloc] initWithDataSets:@[set1]];


    // BarChartData *d = [[BarChartData alloc] initWithDataSet:set1];


    d.barWidth = barWidth;
    // make this BarData object grouped
    [d groupBarsFromX:0.0 groupSpace:groupSpace barSpace:barSpace]; // start at x = 0

    return d;
}


- (void)updateBarChartData
{
    if (self.shouldHideData)
    {
        _barChartView.data = nil;
        return;
    }

    [self setBarGraph];
    //    [self setDataCount:_sliderX.value + 1 range:_sliderY.value];

    //    for (int i = 0; i<[mttrMainArray count]; i++)
    //    {
    //        [self setDataCount:i range:[[mttrMainArray objectAtIndex:i] doubleValue]];
    //    }


    /* if (self.shouldHideData)
     {
     _barChartView.data = nil;
     return;
     }

     [self setDataCount:_sliderX.value + 1 range:_sliderY.value];*/
}

- (void)setBarGraph
{


    NSMutableArray *yVals = [[NSMutableArray alloc] init];

    for (int i = 0; i < [complianceArray count]; i++)
    {
        //        double mult = (range + 1);
        //        double val = (double) (arc4random_uniform(mult));
        if (arc4random_uniform(100) < 25) {
            // [yVals addObject:[[BarChartDataEntry alloc] initWithX:val y:i icon: [UIImage imageNamed:@"icon"]]];
            [yVals addObject:[[BarChartDataEntry alloc] initWithX:i y:[[complianceArray objectAtIndex:i] doubleValue]]];

        } else {
            [yVals addObject:[[BarChartDataEntry alloc] initWithX:i y:[[complianceArray objectAtIndex:i] doubleValue]]];
        }
    }

    BarChartDataSet *set1 = [[BarChartDataSet alloc] init];
    //  BarChartDataSet *set2 = [[BarChartDataSet alloc] init];

    if (_barChartView.data.dataSetCount > 0)
    {
        set1 = (BarChartDataSet *)_barChartView.data.dataSets[0];
        set1.values = yVals;
        [_barChartView.data notifyDataChanged];
        [_barChartView notifyDataSetChanged];
    }
    else
    {
        set1 = [[BarChartDataSet alloc] initWithValues:yVals label:@"The year 2017"];
        // set1.stackLabels = @[@"3100",@"8100"];
        [set1 setColors:ChartColorTemplates.material];
        // set1.drawIconsEnabled = NO;

        NSMutableArray *dataSets = [[NSMutableArray alloc] init];
        [dataSets addObject:set1];

        BarChartData *data = [[BarChartData alloc] initWithDataSets:dataSets];
        [data setValueFont:[UIFont fontWithName:@"HelveticaNeue-Light" size:10.f]];

        data.barWidth = 0.9f;

        _barChartView.data = data;


        //        set2 = [[BarChartDataSet alloc] initWithValues:yVals label:@"2017"];
        //        set2.stackLabels = @[@"3100",@"8100"];
        //        [set2 setColors:ChartColorTemplates.material];
        //        // set1.drawIconsEnabled = NO;
        //
        //        NSMutableArray *dataSets2 = [[NSMutableArray alloc] init];
        //        [dataSets2 addObject:set2];
        //
        //        BarChartData *data2 = [[BarChartData alloc] initWithDataSets:dataSets2];
        //        [data2 setValueFont:[UIFont fontWithName:@"HelveticaNeue-Light" size:10.f]];
        //
        //        data2.barWidth = 0.9f;
        //
        //        _barChartView.data = data2;
    }
}

- (BarChartData *)generateBarGraphData
{
    NSMutableArray<BarChartDataEntry *> *entries1 = [[NSMutableArray alloc] init];

    // if ([self.currentMonthHeader.text isEqualToString:@"Current Month MTTR"])
    // {
    //     values3 = mttrMainArray;

    //  }
    // else
    // {
    //    values3 = mttrMainArray;
    values3 = complianceArray;
    // }

    for (int index = 0; index < [values3 count]; index++)
    {
        [entries1 addObject:[[BarChartDataEntry alloc] initWithX:index y:[[values3 objectAtIndex:index] doubleValue]]];
    }

    BarChartDataSet *set1 = [[BarChartDataSet alloc] initWithValues:entries1 label:@"SMELTER-I JHARSUGUDA"];
    [set1 setColor:[UIColor blueColor]];
    set1.valueTextColor = [UIColor colorWithRed:60/255.f green:220/255.f blue:78/255.f alpha:1.f];
    set1.valueFont = [UIFont systemFontOfSize:10.f];
    set1.axisDependency = AxisDependencyLeft;

    //    set1.colors = @[
    //                            [UIColor colorWithRed:61/255.f green:165/255.f blue:255/255.f alpha:1.f],
    //                                        [UIColor colorWithRed:23/255.f green:197/255.f blue:255/255.f alpha:1.f]
    //                                        ];


    float groupSpace = 0.06f;
    float barSpace = 0.02f; // x2 dataset
    float barWidth = 0.45f; // x2 dataset
    // (0.45 + 0.02) * 2 + 0.06 = 1.00 -> interval per "group"

    BarChartData *d = [[BarChartData alloc] initWithDataSets:@[set1]];

    // BarChartData *d = [[BarChartData alloc] initWithDataSet:set1];


    d.barWidth = barWidth;

    // make this BarData object grouped
    [d groupBarsFromX:0.0 groupSpace:groupSpace barSpace:barSpace]; // start at x = 0

    return d;
}


/* { double start = 1.0;
 
 NSMutableArray *yVals = [[NSMutableArray alloc] init];
 
 for (int i = start; i < start + count + 1; i++)
 {
 double mult = (range + 1);
 double val = (double) (arc4random_uniform(mult));
 if (arc4random_uniform(100) < 25) {
 // [yVals addObject:[[BarChartDataEntry alloc] initWithX:val y:i icon: [UIImage imageNamed:@"icon"]]];
 } else {
 [yVals addObject:[[BarChartDataEntry alloc] initWithX:val y:i]];
 }
 }
 
 BarChartDataSet *set1 = nil;
 if (_barChartView.data.dataSetCount > 0)
 {
 set1 = (BarChartDataSet *)_barChartView.data.dataSets[0];
 set1.values = yVals;
 [_barChartView.data notifyDataChanged];
 [_barChartView notifyDataSetChanged];
 }
 else
 {
 set1 = [[BarChartDataSet alloc] initWithValues:yVals label:@"The year 2017"];
 [set1 setColors:ChartColorTemplates.material];
 // set1.drawIconsEnabled = NO;
 
 NSMutableArray *dataSets = [[NSMutableArray alloc] init];
 [dataSets addObject:set1];
 
 BarChartData *data = [[BarChartData alloc] initWithDataSets:dataSets];
 [data setValueFont:[UIFont fontWithName:@"HelveticaNeue-Light" size:10.f]];
 
 data.barWidth = 0.9f;
 
 _barChartView.data = data;
 }}*/




#pragma mark - Actions

/*- (IBAction)slidersValueChanged:(id)sender
 {
 _sliderTextX.text = [@((int)_sliderX.value + 2) stringValue];
 _sliderTextY.text = [@((int)_sliderY.value) stringValue];
 
 [self updateChartData];
 }*/

#pragma mark - ChartViewDelegate

//- (void)chartValueSelected:(ChartViewBase * __nonnull)chartView entry:(ChartDataEntry * __nonnull)entry highlight:(ChartHighlight * __nonnull)highlight
//{
//    //    months = @[
//    //
//    //               @"Apr", @"May", @"Jun",
//    //               @"Jul", @"Aug", @"Sep",
//    //               @"Oct", @"Nov", @"Dec",
//    //               @"Jan", @"Feb", @"Mar"
//    //               ];
//
//    months = brkDownMonthArray;
//    _chartView.delegate = self;
//
//    _chartView.chartDescription.enabled = NO;
//
//    _chartView.drawGridBackgroundEnabled = NO;
//    _chartView.drawBarShadowEnabled = NO;
//    _chartView.highlightFullBarEnabled = NO;
//
//
//    _chartView.drawOrder = @[
//                             @(CombinedChartDrawOrderBar),
//                             @(CombinedChartDrawOrderLine)
//                             ];
//
//    ChartLegend *l = _chartView.legend;
//    l.wordWrapEnabled = YES;
//    l.horizontalAlignment = ChartLegendHorizontalAlignmentCenter;
//    l.verticalAlignment = ChartLegendVerticalAlignmentBottom;
//    l.orientation = ChartLegendOrientationHorizontal;
//    l.drawInside = NO;
//
//    //        ChartYAxis *rightAxis = _chartView.rightAxis;
//    //        rightAxis.drawGridLinesEnabled = NO;
//    //        rightAxis.axisMinimum = 0.0; // this replaces startAtZero = YES
//
//    ChartYAxis *leftAxis = _chartView.leftAxis;
//    leftAxis.drawGridLinesEnabled = NO;
//    leftAxis.axisMinimum = 0.0; // this replaces startAtZero = YES
//
//    ChartXAxis *xAxis = _chartView.xAxis;
//    //        xAxis.labelPosition = XAxisLabelPositionBothSided;
//    xAxis.labelPosition = XAxisLabelPositionBottom;
//
//    xAxis.axisMinimum = 0.0;
//    xAxis.granularity = 1.0;
//    xAxis.valueFormatter = self;
//
//
//    NSLog(@"%@",entry);
//    NSLog(@"%@",highlight);
//    NSLog(@"chartValueSelected");
//    [self updateChartData];
//
//    [self.barchartView addSubview:brkDownView];
//}
//
//- (void)chartValueNothingSelected:(ChartViewBase * __nonnull)chartView
//{
//    NSLog(@"chartValueNothingSelected");
//}
//



#pragma mark - ChartViewDelegate

//- (void)chartValueSelected:(ChartViewBase * __nonnull)chartView entry:(ChartDataEntry * __nonnull)entry highlight:(ChartHighlight * __nonnull)highlight
//{
//    NSLog(@"chartValueSelected");
//}

//- (void)chartValueNothingSelected:(ChartViewBase * __nonnull)chartView
//{
//    NSLog(@"chartValueNothingSelected");
//}

#pragma mark - IAxisValueFormatter

//- (NSString *)stringForValue:(double)value
//                        axis:(ChartAxisBase *)axis
//{
//    return months[(int)value % months.count];
//}
//

-(void)loadNotifDetailsClicked{
    notifFilteredArray = nil;
    for (int i=0; i<[[notifFilterStructuredArray objectAtIndex:0] count]; i++)
    {
        [[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifPlantStatus"];
    }
    
    for (int i=0; i<[notifPlantWorkCenterArray count]; i++)
    {
        [[notifPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifWorkCenterStatus"];
    }
    notifPlantWorkCenterArray = nil;
    notifFilterFlag = NO;
    self.misFilterTableView.tag = 4;
    [self.misFilterTableView reloadData];
    
    notifBarFilteredArray = nil;
    for (int i=0; i<[[notifBarFilterStructuredArray objectAtIndex:0] count]; i++)
    {
        [[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifBarPlantStatus"];
    }
    
    for (int i=0; i<[notifBarPlantWorkCenterArray count]; i++)
    {
        [[notifBarPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifBarWorkCenterStatus"];
    }
    notifBarPlantWorkCenterArray = nil;
    notifBarFilterFlag = NO;
    self.misFilterTableView.tag = 8;
    [self.misFilterTableView reloadData];
    
    array = [NSMutableArray new];
    txtArray = [NSMutableArray new];
    descArray = [NSMutableArray new];
    detailsArray = [NSMutableArray new];
    monthArray= [NSMutableArray new];
    month = [NSMutableArray new];
    timeArr = [NSMutableArray new];
    selectedFlag=@"Notification";
    
    [self initialData];
}



- (IBAction)refreshClicked:(id)sender
{
    if ([selectedFlag isEqualToString:@"Brkdown"]) {
        
        [defaults setObject:@"Breakdown" forKey:@"PiechartStatus"];
        [defaults synchronize];
        
        if([[ConnectionManager defaultManager] isReachable])
        {
            if ([self.startDateTextField.text isEqualToString:@""]||[self.endDateTextField.text isEqualToString:@""])
            {
                
 
                hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
                hud.mode = MBProgressHUDAnimationFade;
                hud.label.text = @"Data loading in progress...";
                
                
                //switch to background thread
                dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{
                    
                    //back to the main thread for the UI call
                    dispatch_async(dispatch_get_main_queue(), ^{
                        [self requestforBreakDownData];
                        
                    });
                    
                    // more on the background thread
                });
                
            }
            else
            {
 
                hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
                hud.mode = MBProgressHUDAnimationFade;
                hud.label.text = @"Data loading in progress...";
                
                //switch to background thread
                dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{
                    
                    //back to the main thread for the UI call
                    dispatch_async(dispatch_get_main_queue(), ^{
                        //  [ActivityView dismiss];
                        [self refresh];
                        
                    });
                    
                    // more on the background thread
                });
                
            }
        }
        else{
            
               [self showAlertMessageWithTitle:@"Alert" message:@"No Network Availbale. Data Cannot be Refreshed" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        }
    }
    else if ([selectedFlag isEqualToString:@"Notification"]||[selectedFlag isEqualToString:@"Order"])
    {
        if ([selectedFlag isEqualToString:@"Order"])
        {
            [defaults setObject:@"Order" forKey:@"PiechartStatus"];
            [defaults synchronize];
        }
        else if ([selectedFlag isEqualToString:@"Notification"])
        {
            [defaults setObject:@"Notification" forKey:@"PiechartStatus"];
            [defaults synchronize];
        }
        [self.daysTextField resignFirstResponder];
        
        if([[ConnectionManager defaultManager] isReachable])
        {
            
            hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
            hud.mode = MBProgressHUDAnimationFade;
            hud.label.text = @"Data loading in progress...";
            
            //switch to background thread
            dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{
                
                //back to the main thread for the UI call
                dispatch_async(dispatch_get_main_queue(), ^{
                    //[ActivityView dismiss];
                    
                    [self refresh];
                    
                });
                
                // more on the background thread
            });
            
        }
        // }
        else{
          
              [self showAlertMessageWithTitle:@"Alert" message:@"No Network Availbale. Data Cannot be Refreshed" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
            
        }
        
    }
    else if ([selectedFlag isEqualToString:@"Permit"])
    {
        [self.permitWorkcenterTextField resignFirstResponder];
        [self.permitPlantTextField resignFirstResponder];
        
        [defaults setObject:@"Permit" forKey:@"PiechartStatus"];
        [defaults synchronize];
        if([[ConnectionManager defaultManager] isReachable])
        {
            [MBProgressHUD hideHUDForView:self.view animated:YES];

            //switch to background thread
            dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{
                
                //back to the main thread for the UI call
                dispatch_async(dispatch_get_main_queue(), ^{
                    //[ActivityView dismiss];
                    
                    [self refresh];
                    
                });
                
                // more on the background thread
            });
            
        }
        // }
        else{
            
             [self showAlertMessageWithTitle:@"Alert" message:@"No Network Availbale. Data Cannot be Refreshed" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        }
        
    }
}

-(void)manualSelection{
    
    availabilityString = @"1";
    self.monthTextField.hidden = YES;
    self.yearTextField.hidden = YES;
    self.monthTextField.text = @"";
    self.yearTextField.text = @"";
    
    [self.manualyButton setImage:[UIImage imageNamed:@"radioselection"] forState:UIControlStateNormal];
    
    [self.halfYearlyButton setImage:[UIImage imageNamed:@"radiounselection"] forState:UIControlStateNormal];
    
    [self.monthlyButton setImage:[UIImage imageNamed:@"radiounselection"] forState:UIControlStateNormal];
    [self initialMalfunctionData];
}

-(void)halfYearlySelection
{
    availabilityString = @"2";
    self.monthTextField.hidden = YES;
    self.yearTextField.hidden = YES;
    
    self.monthTextField.text = @"";
    self.yearTextField.text = @"";
    [self.halfYearlyButton setImage:[UIImage imageNamed:@"radioselection"] forState:UIControlStateNormal];
    
    [self.manualyButton setImage:[UIImage imageNamed:@"radiounselection"] forState:UIControlStateNormal];
    
    [self.monthlyButton setImage:[UIImage imageNamed:@"radiounselection"] forState:UIControlStateNormal];
    [self initialMalfunctionData];
    
}

-(void)monthlySelection
{
    availabilityString = @"3";
    self.monthTextField.hidden = NO;
    self.yearTextField.hidden = NO;
    self.monthTextField.text = @"";
    self.yearTextField.text = @"";
    
    [self.monthlyButton setImage:[UIImage imageNamed:@"radioselection"] forState:UIControlStateNormal];
    
    [self.manualyButton setImage:[UIImage imageNamed:@"radiounselection"] forState:UIControlStateNormal];
    
    [self.halfYearlyButton setImage:[UIImage imageNamed:@"radiounselection"] forState:UIControlStateNormal];
    self.malfunctionStartTextField.text = @"";
    self.malfunctionEndTextField.text =  @"";
    [self initialMalfunctionData];
    
}

- (IBAction)availabilityButtonClicked:(id)sender
{
    if ([sender tag] == 1) {
        
        [self manualSelection];
    }
    else if ([sender tag] == 2){
        [self halfYearlySelection];
    }
    else if ([sender tag] == 3){
        [self monthlySelection];
    }
}

- (IBAction)availabilityClicked:(id)sender;
{
      [self.availabilityView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    [self.view addSubview:self.availabilityView];
}

-(void)initialMalfunctionData
{
    if ([availabilityString isEqualToString:@"1"])
    {
        self.malfunctionStartTextField.text = @"";
        self.malfunctionEndTextField.text = @"";
        self.malfunctionStartTextField.hidden = NO;
        self.malfunctionEndTextField.hidden = NO;
        self.startDateImage.hidden = NO;
        self.endDateImage.hidden = NO;
        self.mandatoryImage.hidden = NO;
        self.malfunLabel.hidden = NO;
        
        self.malfunctionStartTextField.userInteractionEnabled = YES;
        self.malfunctionEndTextField.userInteractionEnabled = YES;
        
        NSCalendar *cal = [NSCalendar currentCalendar];
        
        NSDate *date = [NSDate date];
        NSDateComponents *comps = [cal components:(NSCalendarUnitYear | NSCalendarUnitMonth | NSCalendarUnitDay)fromDate:date];
        NSDate *today = [cal dateFromComponents:comps];
        NSString *sr =[NSString stringWithFormat:@"%@",today];
        NSLog(@"%@",[sr substringToIndex:10]);
        
        NSString *yearstr = [sr substringToIndex:4];
        NSString *monthStr = [sr substringWithRange:NSMakeRange(5, 2)];
        NSString *dateStr = [sr substringWithRange:NSMakeRange(8, 2)];
        
        self.malfunctionEndTextField.text = [NSString stringWithFormat:@"%@.%@.%@",dateStr,monthStr,yearstr];
        self.malfunctionStartTextField.text = [NSString stringWithFormat:@"01.%@.%@",monthStr,yearstr];
        
    }
    else if ([availabilityString isEqualToString:@"2"])
    {
        self.malfunctionStartTextField.hidden = NO;
        self.malfunctionEndTextField.hidden = NO;
        self.startDateImage.hidden = NO;
        self.endDateImage.hidden = NO;
        self.mandatoryImage.hidden = NO;
        self.malfunLabel.hidden = NO;
        
        calendar = [NSCalendar currentCalendar];
        NSDateComponents *components = [calendar components:NSCalendarUnitYear|NSCalendarUnitMonth|NSCalendarUnitWeekOfMonth|NSCalendarUnitWeekday fromDate:[NSDate date]];
        
        [components setMonth:[components month]-6];
        NSDate *theMonth = [calendar dateFromComponents:components];
        NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
        
        dateString = [dateFormatter stringFromDate:theMonth];
        NSString *yearValue = [dateString substringToIndex:4];
        NSString *monthValue = [dateString substringWithRange:NSMakeRange(5, 2)];
        NSString *daysValue = [dateString substringWithRange:NSMakeRange(8, 2)];
        
        self.malfunctionStartTextField.text = [NSString stringWithFormat:@"%@.%@.%@",daysValue,monthValue,yearValue];
        currentDate = [NSDate date];
        newString = [[NSString stringWithFormat:@"%@",currentDate] substringToIndex:10];
        yearValue =[newString substringToIndex:4];
        monthValue = [newString substringWithRange:NSMakeRange(5, 2)];
        daysValue = [newString substringWithRange:NSMakeRange(8, 2)];
        
        self.malfunctionEndTextField.text = [NSString stringWithFormat:@"%@.%@.%@",daysValue,monthValue,yearValue];
        
        self.malfunctionStartTextField.userInteractionEnabled = NO;
        self.malfunctionEndTextField.userInteractionEnabled = NO;
        
        //        [self.availabilityView addSubview:self.avalibilityDetailsView];
        
    }
    else if ([availabilityString isEqualToString:@"3"])
    {
        self.malfunctionStartTextField.hidden = YES;
        self.malfunctionEndTextField.hidden = YES;
        self.startDateImage.hidden = YES;
        self.endDateImage.hidden = YES;
        self.mandatoryImage.hidden = YES;
        self.malfunLabel.hidden = YES;
    }
    
}

-(void)numberOfDays
{
    NSString *monthString = MonthId;
    NSString *yearString = self.yearTextField.text;
    NSString *day = @"01";
    NSString *end = [NSString stringWithFormat:@"%@-%@-%@",day,monthString,yearString];
    formatter = [[NSDateFormatter alloc] init];
    [formatter setDateFormat:@"dd-MM-yyyy"];
    NSDate *dateFromString = [[NSDate alloc] init];
    dateFromString = [formatter dateFromString:end];
    calendar = [NSCalendar currentCalendar];
    NSDateComponents *components = [calendar components:NSCalendarUnitYear|NSCalendarUnitMonth|NSCalendarUnitWeekOfMonth|NSCalendarUnitWeekday fromDate:dateFromString];
    
    [components setMonth:[components month]+1];
    [components setDay:1];
    NSDate *theDate = [calendar dateFromComponents:components];
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat:@"d"];
    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
    
    dateString = [dateFormatter stringFromDate:theDate];
    dateInt = [dateString intValue];
    NSLog(@"The int: %li", (long)dateInt);
}

- (IBAction)availabilitBbackClicked:(id)sender
{
    [self.avalibilityDetailsView removeFromSuperview];
}

-(void)DetailSelection{
    
    summaryString = @"1";
    [self.detailButton setImage:[UIImage imageNamed:@"radioselection"] forState:UIControlStateNormal];
    
    [self.summaryButton setImage:[UIImage imageNamed:@"radiounselection"] forState:UIControlStateNormal];
    
}

-(void)summarySelection
{
    summaryString = @"2";
    
    [self.summaryButton setImage:[UIImage imageNamed:@"radioselection"] forState:UIControlStateNormal];
    
    [self.detailButton setImage:[UIImage imageNamed:@"radiounselection"] forState:UIControlStateNormal];
}

- (IBAction)detailsClicked:(id)sender
{
    if ([sender tag] == 1) {
        
        [self DetailSelection];
    }
    else if ([sender tag] == 2){
        [self summarySelection];
    }
}


- (IBAction)runClicked:(id)sender
{
    //    if ([self.malfunctionStartTextField.text isEqualToString:@""]|| [self.malfunctionEndTextField.text isEqualToString:@""])
    //    {
    //        alert = [[UIAlertView alloc] initWithTitle:@"" message:@"Malfunction start dates should not be empty" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
    //        [alert show];
    //    }
    //    else
    //    {
    selectedFlag=@"Availability";
    self.notifHeaderTitle.text = @"Availability Report";
    [self initialData];
    // }
    
}

- (IBAction)functionalLocationSerach:(id)sender
{
    button=(UIButton*)sender;
    if (button.tag == 1)
    {
        [self functionLocationSearchActionMethod];
        
    }
    else if (button.tag == 2)
    {
        [self functionLocationSearchActionMethod];
    }
}

-(void)functionLocationSearchActionMethod
{
    
    if (self.funcDropDownArray == nil)
    {
        self.funcDropDownArray = [NSMutableArray new];
    }
    else
    {
        [self.funcDropDownArray removeAllObjects];
    }
    
    //if ([equipmentTextField.text isEqualToString:@""]) {
    
    
    [self.funcDropDownArray addObjectsFromArray:[[DataBase sharedInstance] getFuncLoc:@"*"]];
    
    //    }
    //    else{
    //        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getFuncLocForEquipID:equipmentID]];
    //    }
    
    if (![self.funcDropDownArray count]) {
        
 
        [self showAlertMessageWithTitle:@"Information" message:@"No Functional Location Available" cancelButtonTitle:@"Ok" withactionType:@"Multiple" forMethod:@"FLocn"];
        
    }
    else{
        
        funcLocationTableView.tag =1;
        
        funcLocationSearch.tag = 1;
        
        [funcLocationTableView reloadData];
        
          [funcLocationView  setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
        
        [self.view addSubview:funcLocationView];
    }
    
}

- (IBAction)equipmentSearch:(id)sender
{
    button=(UIButton*)sender;
    if (button.tag == 1)
    {
        [self equipemntSearchActionMethod];
        
    }
    else if (button.tag == 2)
    {
        [self equipemntSearchActionMethod];
        
    }
}

-(void)equipemntSearchActionMethod{
    
    if (self.funcDropDownArray == nil)
    {
        self.funcDropDownArray = [NSMutableArray new];
    }
    else
    {
        [self.funcDropDownArray removeAllObjects];
    }
    
    equipmentNumberTableView.tag =1;
    
    [self.funcDropDownArray addObjectsFromArray:[[DataBase sharedInstance] getOnlyDistinctEquipments:nil]];
    
    //    if ([functionalLocationTextField.text isEqualToString:@""]) {
    //        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getEquipments:@"*"]];
    //    }
    //    else{
    //        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getEquipmentsForlocationID:functionalLocationID]];
    //    }
    
    if (![self.funcDropDownArray count])
    {
          [self showAlertMessageWithTitle:@"Information" message:@"No Equipments are Available" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
    }
    else{
        
        equipmentNumbersearch.tag = 2;
        [equipmentNumberTableView reloadData];
          [equipmentNumberView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
        [self.view addSubview:equipmentNumberView];
    }
    
}



- (IBAction)plantSearch:(id)sender
{
    //        [self.dropDownArray removeAllObjects];
    //
    //        [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getListOfWorkCenter]];
    //
    //        if (![self.dropDownArray count]) {
    //            UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"Information" message:@"No plant and work center are Available" delegate:self cancelButtonTitle:@"OK" otherButtonTitles: nil];
    //            [alert show];
    //        }
    //        else{
    //
    //            plantWorkcenterSearch.tag = 4;
    //
    //            [plantWorkcenterTableView setTag:1];
    //
    //            [plantWorkcenterTableView reloadData];
    //
    //            [self.view addSubview:plantWorkcenterView];
    //        }
}

- (IBAction)workCenterSearch:(id)sender
{
    //    [self.dropDownArray removeAllObjects];
    //
    //    [self.dropDownArray addObjectsFromArray:[[DataBase sharedInstance] getListOfWorkCenter]];
    //
    //    if (![self.dropDownArray count]) {
    //        UIAlertView *alert = [[UIAlertView alloc]initWithTitle:@"Information" message:@"No plant and work center are Available" delegate:self cancelButtonTitle:@"OK" otherButtonTitles: nil];
    //        [alert show];
    //    }
    //    else{
    //
    //        plantWorkcenterSearch.tag = 4;
    //
    //        [plantWorkcenterTableView setTag:1];
    //
    //        [plantWorkcenterTableView reloadData];
    //
    //        [self.view addSubview:plantWorkcenterView];
    //    }
}

- (IBAction)closeButtonClicked:(id)sender {
    
    if ([selectedFlag isEqualToString:@"Brkdown"]) {
        self.descBrkDownChartView.hidden = YES;
        self.closeButton.hidden = YES;
        self.descBrkdwnLbl.hidden = YES;
        [self.pieBrkDownChartView setSliceDeselectedAtIndex:0];
        [self.pieBrkDownChartView setSliceDeselectedAtIndex:1];
        //        [self.pieBrkDownChartView setSliceDeselectedAtIndex:2];
    }
    else if ([selectedFlag isEqualToString:@"Notification"])
    {
        [notifDescFilteredArray removeAllObjects];
        [temparrays removeAllObjects];
        self.secondLevelNotifFilterImage.hidden = YES;
        
        self.filterButton.hidden = YES;
        
        //        self.descNotifPieChartView.hidden = YES;
        //        self.closeButton.hidden = YES;
        //        self.notifCloseButton.hidden = YES;
        //        self.detailsText.hidden = YES;
        //        self.descPlantHeader.hidden = YES;
        //        self.notifDescPlantLabelText.hidden = YES;
        [self.pieNotifChartView setSliceDeselectedAtIndex:0];
        [self.pieNotifChartView setSliceDeselectedAtIndex:1];
        [self.pieNotifChartView setSliceDeselectedAtIndex:2];
        //        [self.pieNotifChartView setSliceDeselectedAtIndex:3];
    }
    
    [detailsArray removeAllObjects];
}

- (IBAction)availabilityBackButtonClicked:(id)sender
{
    [self.availabilityReportView removeFromSuperview];
}

- (IBAction)availabityDetailBackButtonClicked:(id)sender {
    [self.availabilityDetailView removeFromSuperview];
}

//- (IBAction)availabilityReportSelected:(id)sender
//{
//    [self.availabilityReportView addSubview:self.availabilityDetailView];
//}

- (IBAction)availabilityDescriptionBackButtonClicked:(id)sender
{
    [self.availabilityDescriptionView removeFromSuperview];
}

-(void)loadPermitdata{
    workCenterFilteredArray = nil;
    filterFlag = NO;
    if ([filterStructuredArray count])
    {
        for (int i=0; i<[[filterStructuredArray objectAtIndex:0] count]; i++)
        {
            [[[filterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
        }
    }
    if ([plantWrkCenterArray count])
    {
        for (int i=0; i<[plantWrkCenterArray count]; i++)
        {
            [[plantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"WorkCenterStatus"];
        }
    }
    plantWrkCenterArray = nil;
    if ([filterStructuredArray count])
    {
        self.misFilterBackground.hidden = YES;
        self.misFilterTableView.tag = 0;
        [self.misFilterTableView reloadData];
    }
    
    wrkAppFilteredArray = nil;
    workAppFilterFlag = NO;
    if ([copyFilteredArray count])
    {
        for (int i=0; i<[[copyFilteredArray objectAtIndex:0] count]; i++)
        {
            [[[copyFilteredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"WorkAppPlantStatus"];
        }
    }
    if ([wrkApprPlantWrkCenterArray count])
    {
        for (int i=0; i<[wrkApprPlantWrkCenterArray count]; i++)
        {
            [[wrkApprPlantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"WrkAppWorkCenterStatus"];
        }
    }
    wrkApprPlantWrkCenterArray = nil;
    if ([copyFilteredArray count])
    {
        self.misFilterBackground.hidden = YES;
        self.misFilterTableView.tag = 1;
        [self.misFilterTableView reloadData];
    }
    
    selectedFlag=@"Permit";
    
     [self initialData];
    
 }


- (IBAction)permitBackButtonClicked:(id)sender
{
   // [self.permitView removeFromSuperview];
    
    [self.navigationController popViewControllerAnimated:YES];
}

- (IBAction)permitDetailBackButtonClicked:(id)sender
{
    [self.permitDetailView removeFromSuperview];
}

-(void)refresh
{
    if ([selectedFlag isEqualToString:@"Brkdown"]) {
        InitialFlag=NO;
        
        self.pieBrkDownChartView.selectedIdentifier = @"";
        [self.pieBrkDownChartView setSliceDeselectedAtIndex:0];
        [self.pieBrkDownChartView setSliceDeselectedAtIndex:1];
        [self.pieBrkDownChartView setSliceDeselectedAtIndex:2];
        
        //        [self.pieBrkDownChartView setSliceDeselectedAtIndex:2];
        self.descBrkDownChartView.hidden = YES;
        self.closeButton.hidden = YES;
        self.descBrkdwnLbl.hidden = YES;
        
        [self requestforBreakDownData];
    }
    else if ([selectedFlag isEqualToString:@"Notification"]||[selectedFlag isEqualToString:@"Order"])
    {
        InitialFlag=NO;
        
        self.filteredArray = nil;
        self.pieNotifChartView.selectedIdentifier = @"";
        [self.pieNotifChartView setSliceDeselectedAtIndex:0];
        [self.pieNotifChartView setSliceDeselectedAtIndex:1];
        [self.pieNotifChartView setSliceDeselectedAtIndex:2];
        //        [self.pieNotifChartView setSliceDeselectedAtIndex:3];
        //        self.descNotifPieChartView.hidden = YES;
        //        self.closeButton.hidden = YES;
        //        self.detailsText.hidden = YES;
        //        self.notifCloseButton.hidden = YES;
        self.secondLevelNotifFilterImage.hidden = YES;
        
        self.filterButton.hidden = YES;
        
        [self requestforNotificationData];
    }
    else if ([selectedFlag isEqualToString:@"Permit"])
    {
        self.pieNotifChartView.selectedIdentifier = nil;
        self.descNotifPieChartView.selectedIdentifier = nil;
        self.permitPiechartView.selectedIdentifier = nil;
        //        self.permitPiechartView.selectedIdentifier = @"";
        self.permitPlantText.hidden = YES;
        self.permitPlantTitle.hidden = YES;
        self.workApprovalPlantTitle.hidden = YES;
        self.wrkApprovalPlantText.hidden = YES;
        if (segmentedControl.selectedSegmentIndex == 0)
        {
            self.permitPiechartView.selectedIdentifier = @"FirstPieChart";
            
            InitialFlag=NO;
            [self requestforPermitData];
            
        }
        else if (segmentedControl.selectedSegmentIndex == 1)
        {
            self.permitPiechartView.selectedIdentifier = @"SecondPieChart";
            
            InitialFlag=NO;
            [self requestforPermitData];
        }
    }
}

-(void)requestforNotificationData
{
    if (InitialFlag)
    {
        currentDate = [NSDate date];
        // Convert string to date object
        newString = [[NSString stringWithFormat:@"%@",currentDate] substringToIndex:7];
        formatter = [[NSDateFormatter alloc] init];
        [formatter setDateStyle:NSDateFormatterFullStyle];
        [formatter setDateFormat:@"YYYY-MM"];
        timeZone = [NSTimeZone timeZoneWithName:@"UTC"];
        [formatter setTimeZone:timeZone];
        [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
        dateString = [formatter stringFromDate:currentDate];
        
        date=[formatter dateFromString:dateString];
        [formatter setDateFormat:@"MMM YYYY"];
        convertedStartDateString = [formatter stringFromDate:date];
        self.notifMonthTextField.text = convertedStartDateString;
        
    }
    
    dateFormat = [[NSDateFormatter alloc] init];
    [dateFormat setDateFormat:@"LLLL yyyy HH:mm:ss Z"];
    NSString *str1 = @"00:00:00 +0000";
    NSString *strr = [NSString stringWithFormat:@"%@ %@",self.notifMonthTextField.text,str1];
    NSString *ds,*notifYear,*notifMonth;
    date = [dateFormat dateFromString:strr];
    if (date)
    {
        ds = [[NSString stringWithFormat:@"%@",date] substringToIndex:7];
        
        notifYear = [ds substringToIndex:4];
        notifMonth = [ds substringFromIndex:5];
    }
    
    if ([selectedFlag isEqualToString:@"Order"])
    {
        [defaults setObject:@"Order" forKey:@"PiechartStatus"];
        [defaults synchronize];
        
        self.pieNotifChartView.selectedIdentifier = @"";
        
        NSMutableDictionary *orderInitialDict = [NSMutableDictionary new];
        
        [orderInitialDict setObject:@"RD" forKey:@"ACTIVITY"];
        [orderInitialDict setObject:@"R4" forKey:@"DOCTYPE"];
        [orderInitialDict setObject:@"SOAP" forKey:@"ENDPOINT"];
        
        NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:orderInitialDict];
        NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
        [orderInitialDict setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
        
        [orderInitialDict setObject:decryptedUserName forKey:@"USERNAME"];
        [orderInitialDict setObject:notifMonth forKey:@"MONTH"];
        [orderInitialDict setObject:notifYear forKey:@"YEAR"];
        //    [notifInitialDict setObject:plantID forKey:@"PLANT"];
        [orderInitialDict setObject:@"" forKey:@"PLANT"];
        
        [orderInitialDict setObject:@"MISR" forKey:@"TRANSMITTYPE"];
        
        [Request makeWebServiceRequest:ORDER_ANALYSIS parameters:orderInitialDict delegate:self];
    }
    else
    {
        [defaults setObject:@"Notification" forKey:@"PiechartStatus"];
        [defaults synchronize];
        
        self.pieNotifChartView.selectedIdentifier = @"";

    NSMutableDictionary *notifInitialDict = [NSMutableDictionary new];
    
    [notifInitialDict setObject:@"RD" forKey:@"ACTIVITY"];
    [notifInitialDict setObject:@"R2" forKey:@"DOCTYPE"];
    [notifInitialDict setObject:@"SOAP" forKey:@"ENDPOINT"];
    
    NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:notifInitialDict];
    NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
    [notifInitialDict setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
    
    
    [notifInitialDict setObject:decryptedUserName forKey:@"USERNAME"];
    [notifInitialDict setObject:notifMonth forKey:@"MONTH"];
    [notifInitialDict setObject:notifYear forKey:@"YEAR"];
    //    [notifInitialDict setObject:plantID forKey:@"PLANT"];
    [notifInitialDict setObject:@"" forKey:@"PLANT"];
    
    [notifInitialDict setObject:@"MISR" forKey:@"TRANSMITTYPE"];
    
    [Request makeWebServiceRequest:NOTIFICATION_ANALYSIS parameters:notifInitialDict delegate:self];
    }
}

-(void)requestforBreakDownData
{
    [defaults setObject:@"Breakdown" forKey:@"PiechartStatus"];
    [defaults synchronize];
    breadkDownStr = nil;
    
    NSString *breakdownStartDate,*breakdownEndDate;
    self.pieBrkDownChartView.selectedIdentifier = @"";
    
    if (InitialFlag)
    {
        NSDateComponents *component = [[NSCalendar currentCalendar] components:NSCalendarUnitDay | NSCalendarUnitMonth | NSCalendarUnitYear fromDate:[NSDate date]];
        
        if ([component month] >= 4)
        {
            // NSLog(@"%ld",(long)[component month]);
            // NSLog(@"%ld",(long)[component year]);
            //  NSString *brkMonth =[NSString stringWithFormat:@"0%ld",(long)[component month]];
            // NSString *brkYear =[NSString stringWithFormat:@"%ld",(long)[component year]];
            breakdownStartDate = [NSString stringWithFormat:@"%ld-04-01",(long)[component year]];
            NSLog(@"%@",breakdownStartDate);
            breakdownEndDate = [NSString stringWithFormat:@"%ld-03-31",(long)[component year]+1];
            NSLog(@"%@",breakdownEndDate);
        }
        else if ([component month]<4)
        {
            NSString *brkYear =[NSString stringWithFormat:@"%ld",(long)[component year]-1];
            breakdownStartDate = [NSString stringWithFormat:@"%@-04-01",brkYear];
            NSLog(@"%@",breakdownStartDate);
            breakdownEndDate = [NSString stringWithFormat:@"%ld-03-31",(long)[component year]];
            NSLog(@"%@",breakdownEndDate);
            
        }
        
                    NSString *brkdate = [NSString stringWithFormat:@"%0ld,%ld",(long)[component month],(long)[component year]];
                    self.startDateTextField.text = brkdate;
                    //Start Date
                    currentDate = [NSDate date];
                    dateComponents = [[NSDateComponents alloc] init];
                    [dateComponents setMonth:3];
                    calendar = [NSCalendar currentCalendar];
                    newDate = [calendar dateByAddingComponents:dateComponents toDate:currentDate options:0];
                    // Convert string to date object
                    dateFormat = [[NSDateFormatter alloc] init];
                    newString = [[NSString stringWithFormat:@"%@",newDate] substringToIndex:7];
                    NSLog(@"newString = %@",newString);
                    year =[newString substringToIndex:4];
                    NSString *months = [newString substringFromIndex:5];
                    startDate = [NSString stringWithFormat:@"%@%@",year,months];
        
                    formatter = [[NSDateFormatter alloc] init];
                    [formatter setDateStyle:NSDateFormatterFullStyle];
                    [formatter setDateFormat:@"YYYYMM"];
                    timeZone = [NSTimeZone timeZoneWithName:@"UTC"];
                    [formatter setTimeZone:timeZone];
                    [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
                    dateString = [formatter stringFromDate:newDate];
        
                    date=[formatter dateFromString:dateString];
                    NSLog(@"date = %@",date);
                    [formatter setDateFormat:@"MMM YYYY"];
                    convertedStartDateString = [formatter stringFromDate:date];
                    NSLog(@"%@",convertedStartDateString);
                    self.startDateTextField.text = convertedStartDateString;
        
        //End Date
        
                    currentDate = [NSDate date];
                    dateComponents = [[NSDateComponents alloc] init];
                    [dateComponents setMonth:0];
                    calendar = [NSCalendar currentCalendar];
                    newDate = [calendar dateByAddingComponents:dateComponents toDate:currentDate options:0];
        
                    newString = [[NSString stringWithFormat:@"%@",newDate] substringToIndex:7];
                    NSString *eyear =[newString substringToIndex:4];
                    NSString *emonth = [newString substringFromIndex:5];
                    endDate = [NSString stringWithFormat:@"%@%@",eyear,emonth];
        
                    formatter = [[NSDateFormatter alloc] init];
                    [formatter setDateStyle:NSDateFormatterFullStyle];
                    [formatter setDateFormat:@"YYYYMM"];
                    timeZone = [NSTimeZone timeZoneWithName:@"UTC"];
                    [formatter setTimeZone:timeZone];
                    [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
                    dateString = [formatter stringFromDate:newDate];
                    NSDate *edate=[formatter dateFromString:dateString];
                    NSLog(@"date = %@",edate);
                    [formatter setDateFormat:@"MMM YYYY"];
                    convertedStartDateString = [formatter stringFromDate:edate];
                    NSLog(@"%@",convertedStartDateString);
                    self.endDateTextField.text = convertedStartDateString;
        
        
    }
        else
            {
                //Start Date
                currentDate = [NSDate date];
                dateComponents = [[NSDateComponents alloc] init];
                [dateComponents setMonth:3];
                [dateComponents setYear:-1];
                calendar = [NSCalendar currentCalendar];
                newDate = [calendar dateByAddingComponents:dateComponents toDate:currentDate options:0];
                // Convert string to date object
                dateFormat = [[NSDateFormatter alloc] init];
                newString = [[NSString stringWithFormat:@"%@",newDate] substringToIndex:7];
                NSLog(@"newString = %@",newString);
                year =[newString substringToIndex:4];
                NSString *months = [newString substringFromIndex:5];
                startDate = [NSString stringWithFormat:@"%@%@",year,months];
    
                formatter = [[NSDateFormatter alloc] init];
                [formatter setDateStyle:NSDateFormatterFullStyle];
                [formatter setDateFormat:@"YYYYMM"];
                timeZone = [NSTimeZone timeZoneWithName:@"UTC"];
                [formatter setTimeZone:timeZone];
                [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
                dateString = [formatter stringFromDate:newDate];
                brkStartDate = [dateString substringToIndex:10];
                date=[formatter dateFromString:dateString];
    
                NSLog(@"date = %@",date);
                [formatter setDateFormat:@"MMM YYYY"];
                convertedStartDateString = [formatter stringFromDate:date];
                NSLog(@"%@",convertedStartDateString);
                self.startDateTextField.text = convertedStartDateString;
    
                //End Date
    
                currentDate = [NSDate date];
                dateComponents = [[NSDateComponents alloc] init];
                [dateComponents setMonth:0];
                calendar = [NSCalendar currentCalendar];
                newDate = [calendar dateByAddingComponents:dateComponents toDate:currentDate options:0];
    
                newString = [[NSString stringWithFormat:@"%@",newDate] substringToIndex:7];
                NSString *eyear =[newString substringToIndex:4];
                NSString *emonth = [newString substringFromIndex:5];
                endDate = [NSString stringWithFormat:@"%@%@",eyear,emonth];
    
                formatter = [[NSDateFormatter alloc] init];
                [formatter setDateStyle:NSDateFormatterFullStyle];
                [formatter setDateFormat:@"YYYYMM"];
                timeZone = [NSTimeZone timeZoneWithName:@"UTC"];
                [formatter setTimeZone:timeZone];
                [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
                dateString = [formatter stringFromDate:newDate];
                brkEndDate = [dateString substringToIndex:10];
    
                NSDate *edate=[formatter dateFromString:dateString];
                NSLog(@"date = %@",edate);
                [formatter setDateFormat:@"MMM YYYY"];
                convertedStartDateString = [formatter stringFromDate:edate];
                NSLog(@"%@",convertedStartDateString);
                self.endDateTextField.text = convertedStartDateString;
            }
    
    NSMutableDictionary *brkdownInitial = [[NSMutableDictionary alloc]init];
    [brkdownInitial setObject:decryptedUserName forKey:@"USERNAME"];
    
    [brkdownInitial setObject:@"RD" forKey:@"ACTIVITY"];
    [brkdownInitial setObject:@"R1" forKey:@"DOCTYPE"];
    [brkdownInitial setObject:@"SOAP" forKey:@"ENDPOINT"];

    
    NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:brkdownInitial];
    NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
    [brkdownInitial setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
    
    [brkdownInitial setObject:@"I" forKey:@"SIGN"];
    [brkdownInitial setObject:@"BT" forKey:@"OPTION"];
    [brkdownInitial setObject:breakdownStartDate forKey:@"STARTDATE"];
    [brkdownInitial setObject:breakdownEndDate forKey:@"ENDDATE"];
    [brkdownInitial setObject:@"" forKey:@"YEAR"];
    [brkdownInitial setObject:@"MISR" forKey:@"TRANSMITTYPE"];
    
    [Request makeWebServiceRequest:BREAKDOWN_STATISTICS parameters:brkdownInitial delegate:self];
}

//    else
//    {
//        sDate = self.startDateTextField.text;
//        if (![self.startDateTextField.text isEqualToString:@""])
//        {
//            // Convert string to date object
//            dateFormat = [[NSDateFormatter alloc] init];
//            [dateFormat setDateFormat:@"LLLL yyyy HH:mm:ss Z"];
//            NSString *str1 = @"00:00:00 +0000";
//            NSString *str = [NSString stringWithFormat:@"%@ %@",self.startDateTextField.text,str1];
//            date = [dateFormat dateFromString:str];
//            brkStartDate = [[NSString stringWithFormat:@"%@",date] substringToIndex:10];
//            NSLog(@"ds = %@",brkStartDate);
////            NSString *currentyear =[ds substringToIndex:4];
////            NSString *currentmonth = [ds substringFromIndex:5];
////            NSLog(@"date = %@",date);
////            sDate = [NSString stringWithFormat:@"%@%@",currentyear,currentmonth];
//        }
//
//        eDate = self.endDateTextField.text;
//        if (![self.endDateTextField.text isEqualToString:@""])
//        {
//            // Convert string to date object
//            NSDateFormatter *endDateFormat = [[NSDateFormatter alloc] init];
//            [endDateFormat setDateFormat:@"LLLL yyyy HH:mm:ss Z"];
//            NSString *str2 = @"00:00:00 +0000";
//            NSString *str3 = [NSString stringWithFormat:@"%@ %@",self.endDateTextField.text,str2];
//            NSDate *date1 = [endDateFormat dateFromString:str3];
//            brkEndDate = [[NSString stringWithFormat:@"%@",date1] substringToIndex:10];
//             NSLog(@"ds = %@",brkEndDate);
////            NSString *eyear =[ds1 substringToIndex:4];
////            NSString *emonth = [ds1 substringFromIndex:5];
////            NSLog(@"date = %@",date);
////            eDate = [NSString stringWithFormat:@"%@%@",eyear,emonth];
//        }
//
//        NSString *start = brkStartDate;
//        NSString *end = brkEndDate;
//
//        NSDateFormatter *f = [[NSDateFormatter alloc] init];
//        [f setDateFormat:@"yyyy-MM-dd"];
//        NSDate *tempstartDate = [f dateFromString:start];
//        NSDate *tempendDate = [f dateFromString:end];
//
//        NSCalendar *gregorianCalendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];
//        NSDateComponents *components = [gregorianCalendar components:NSCalendarUnitMonth
//                                                            fromDate:tempstartDate
//                                                              toDate:tempendDate
//                                                             options:0];
//
//
//        NSLog(@"diff=%@",components);
//
//        if ([components month]> 12)
//        {
//            alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Please select interval between one year" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
//            [alert show];
//        }
//       else
//       {
//
//        NSMutableDictionary *brkdown = [[NSMutableDictionary alloc]init];
//        [brkdown setObject:decryptedUserName forKey:@"USERNAME"];
////        [brkdown setObject:@"KAMAL" forKey:@"USERNAME"];
//
//        [brkdown setObject:@"I" forKey:@"SIGN"];
//        [brkdown setObject:@"BT" forKey:@"OPTION"];
//        [brkdown setObject:brkStartDate forKey:@"STARTDATE"];
//        [brkdown setObject:brkEndDate forKey:@"ENDDATE"];
//        [brkdown setObject:@"MISR" forKey:@"TRANSMITTYPE"];
//
//        [Request makeWebServiceRequest:BREAKDOWN_STATISTICS parameters:brkdown delegate:self];
//       }
//    }
//}

-(void)requestforPermitData
{
    NSString *ds,*permitYear,*permitMonth;
    [defaults setObject:@"Permit" forKey:@"PiechartStatus"];
    [defaults synchronize];
    //
    //    if (segmentedControl.selectedSegmentIndex == 0)
    //    {
    
    if (InitialFlag)
    {
        currentDate = [NSDate date];
        // Convert string to date object
        newString = [[NSString stringWithFormat:@"%@",currentDate] substringToIndex:7];
        formatter = [[NSDateFormatter alloc] init];
        [formatter setDateStyle:NSDateFormatterFullStyle];
        [formatter setDateFormat:@"YYYY-MM"];
        timeZone = [NSTimeZone timeZoneWithName:@"UTC"];
        [formatter setTimeZone:timeZone];
        [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
        dateString = [formatter stringFromDate:currentDate];
        
        date=[formatter dateFromString:dateString];
        [formatter setDateFormat:@"MMM YYYY"];
        convertedStartDateString = [formatter stringFromDate:date];
        self.permitTimePeriodTextField.text = convertedStartDateString;
        
    }
    
    dateFormat = [[NSDateFormatter alloc] init];
    [dateFormat setDateFormat:@"LLLL yyyy HH:mm:ss Z"];
    NSString *str1 = @"00:00:00 +0000";
    NSString *strr = [NSString stringWithFormat:@"%@ %@",self.permitTimePeriodTextField.text,str1];
    
    date = [dateFormat dateFromString:strr];
    ds = [[NSString stringWithFormat:@"%@",date] substringToIndex:7];
    
    permitYear = [ds substringToIndex:4];
    permitMonth = [ds substringFromIndex:5];
    //}
    NSMutableDictionary *permitInitialDict = [NSMutableDictionary new];
    
    [permitInitialDict setObject:@"RD" forKey:@"ACTIVITY"];
    [permitInitialDict setObject:@"R3" forKey:@"DOCTYPE"];
    [permitInitialDict setObject:@"SOAP" forKey:@"ENDPOINT"];
    
    NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:permitInitialDict];
    NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
    [permitInitialDict setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
    
    [permitInitialDict setObject:decryptedUserName forKey:@"USERNAME"];
    [permitInitialDict setObject:permitMonth forKey:@"MONTH"];
    [permitInitialDict setObject:permitYear forKey:@"YEAR"];
    //    workCenterID
    [permitInitialDict setObject:@"" forKey:@"WORKCENTER"];
    [permitInitialDict setObject:@"" forKey:@"PLANT"];
    [permitInitialDict setObject:@"MISR" forKey:@"TRANSMITTYPE"];
    
    [Request makeWebServiceRequest:PERMIT_REPORT parameters:permitInitialDict delegate:self];
}

-(void)requestforAvailabilityData
{
    [defaults setObject:@"Availability" forKey:@"PiechartStatus"];
    [defaults synchronize];
    
    NSMutableDictionary *availabilityInitialDict = [NSMutableDictionary new];
    [availabilityInitialDict setObject:decryptedUserName forKey:@"USERNAME"];
    
    if (![availabilityString isEqualToString:@"3"])
    {
        [availabilityInitialDict setObject:@"I" forKey:@"SIGN"];
        [availabilityInitialDict setObject:@"BT" forKey:@"OPTION"];
        
        NSString *mlYear = [self.malfunctionStartTextField.text substringWithRange:NSMakeRange(6, 4)];
        NSString *mlDate = [self.malfunctionStartTextField.text substringToIndex:2];
        NSString *mlMonth = [self.malfunctionStartTextField.text substringWithRange:NSMakeRange(3, 2)];
        NSString *mlStartDate = [NSString stringWithFormat:@"%@-%@-%@",mlYear,mlMonth,mlDate];
        
        NSString *mlEndYear = [self.malfunctionEndTextField.text substringWithRange:NSMakeRange(6, 4)];
        NSString *mlEndDate = [self.malfunctionEndTextField.text substringToIndex:2];
        NSString *mlEndMonth = [self.malfunctionEndTextField.text substringWithRange:NSMakeRange(3, 2)];
        NSString *mlFinalDate = [NSString stringWithFormat:@"%@-%@-%@",mlEndYear,mlEndMonth,mlEndDate];
        
        [availabilityInitialDict setObject:mlStartDate forKey:@"MALFUNCTIONSTART"];
        [availabilityInitialDict setObject:mlFinalDate forKey:@"MALFUNCTIONEND"];
    }
    else
    {
        [availabilityInitialDict setObject:@"" forKey:@"SIGN"];
        [availabilityInitialDict setObject:@"" forKey:@"OPTION"];
        [availabilityInitialDict setObject:@"" forKey:@"MALFUNCTIONSTART"];
        [availabilityInitialDict setObject:@"" forKey:@"MALFUNCTIONEND"];
    }
    if (equipmentID)
    {
        [availabilityInitialDict setObject:@"I" forKey:@"EQUIPSIGN"];
        
        [availabilityInitialDict setObject:@"EQ" forKey:@"EQUIPOPTION"];
        
        [availabilityInitialDict setObject:equipmentID forKey:@"EQUIPMENTSTART"];
        
    }
    else
    {
        [availabilityInitialDict setObject:@"" forKey:@"EQUIPSIGN"];
        
        [availabilityInitialDict setObject:@"" forKey:@"EQUIPOPTION"];
        
        [availabilityInitialDict setObject:@"" forKey:@"EQUIPMENTSTART"];
        
    }
    if (equipEndID)
    {
        
        [availabilityInitialDict setObject:equipEndID forKey:@"EQUIPMENTEND"];
        
    }
    else
    {
        
        [availabilityInitialDict setObject:@"" forKey:@"EQUIPMENTEND"];
        
    }
    
    //    [availabilityInitialDict setObject:@"BT" forKey:@"WORKCENTEROPTION"];
    //    [availabilityInitialDict setObject:@"BT" forKey:@"PLANTOPTION"];
    //    [availabilityInitialDict setObject:@"BT" forKey:@"FLOPTION"];
    
    //    if (workCenterID)
    //    {
    //        [availabilityInitialDict setObject:@"I" forKey:@"WORKCENTERSIGN"];
    //
    //        [availabilityInitialDict setObject:@"BT" forKey:@"WORKCENTEROPTION"];
    //
    //        [availabilityInitialDict setObject:workCenterID forKey:@"WORKCENTERSTART"];
    //
    //    }
    //    else
    //    {
    [availabilityInitialDict setObject:@"" forKey:@"WORKCENTERSIGN"];
    
    [availabilityInitialDict setObject:@"" forKey:@"WORKCENTEROPTION"];
    
    [availabilityInitialDict setObject:@"" forKey:@"WORKCENTERSTART"];
    
    // }
    //    if (workCenterEndID)
    //    {
    //        [availabilityInitialDict setObject:workCenterEndID forKey:@"WORKCENTEREND"];
    //
    //    }
    //    else
    //    {
    [availabilityInitialDict setObject:@"" forKey:@"WORKCENTEREND"];
    // }
    if (plantWorkCenterID)
    {
        [availabilityInitialDict setObject:@"I" forKey:@"PLANTSIGN"];
        
        [availabilityInitialDict setObject:@"BT" forKey:@"PLANTOPTION"];
        
        [availabilityInitialDict setObject:plantWorkCenterID forKey:@"PLANTSTART"];
        
    }
    else
    {
        [availabilityInitialDict setObject:@"" forKey:@"PLANTSIGN"];
        
        [availabilityInitialDict setObject:@"" forKey:@"PLANTOPTION"];
        
        [availabilityInitialDict setObject:@"" forKey:@"PLANTSTART"];
        
    }
    if (plantWorkCenterEndID)
    {
        [availabilityInitialDict setObject:plantWorkCenterEndID forKey:@"PLANTEND"];
        
    }
    else
    {
        
        [availabilityInitialDict setObject:@"" forKey:@"PLANTEND"];
        
    }
    if (functionalLocationID)
    {
        [availabilityInitialDict setObject:@"I" forKey:@"FUNCSIGN"];
        
        [availabilityInitialDict setObject:@"BT" forKey:@"FLOPTION"];
        
        [availabilityInitialDict setObject:functionalLocationID forKey:@"FUNCTIONLOCATIONSTART"];
        
    }
    else
    {
        [availabilityInitialDict setObject:@"" forKey:@"FUNCSIGN"];
        
        [availabilityInitialDict setObject:@"" forKey:@"FLOPTION"];
        
        [availabilityInitialDict setObject:@"" forKey:@"FUNCTIONLOCATIONSTART"];
        
    }
    if (functionalLocationEndID)
    {
        [availabilityInitialDict setObject:functionalLocationEndID forKey:@"FUNCTIONLOCATIONEND"];
        
    }
    else
    {
        [availabilityInitialDict setObject:@"" forKey:@"FUNCTIONLOCATIONEND"];
    }
    
    [availabilityInitialDict setObject:@"MISR" forKey:@"TRANSMITTYPE"];
    
    [Request makeWebServiceRequest:AVAILABILITY_REPORT parameters:availabilityInitialDict delegate:self];
    
}


-(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{
    
    if (tableView== self.misFilterTableView)
    {
        if (self.misFilterTableView.tag==0)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                if (filterFlag == NO)
                {
                    [label setText:@"Plant"];
                }
                [label setText:@"Plant"];
            }
            else if (section==1)
            {
                if (filterFlag == YES)
                {
                    [label setText:@"Work Center"];
                    
                }
            }
            [view addSubview:label];
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            //            [view setBackgroundColor:[UIColor colorWithRed:166/255.0 green:177/255.0 blue:186/255.0 alpha:1.0]]; //your background color...
            return view;
        }
        //
        else if (self.misFilterTableView.tag==1)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                if (workAppFilterFlag == NO)
                {
                    [label setText:@"Plant"];
                }
                [label setText:@"Plant"];
            }
            else if (section==1)
            {
                if (workAppFilterFlag == YES)
                {
                    [label setText:@"Work Center"];
                    
                }
            }
            [view addSubview:label];
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            return view;
            
        }
        else if (self.misFilterTableView.tag == 2)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                if (applicationFilterFlag == NO)
                {
                    [label setText:@"Plant"];
                }
                [label setText:@"Plant"];
            }
            else if (section==1)
            {
                if (applicationFilterFlag == YES)
                {
                    [label setText:@"Work Center"];
                }
            }
            [view addSubview:label];
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            return view;
            
        }
        else if (self.misFilterTableView.tag == 3)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                if (applicationWorkAppFilterFlag == NO)
                {
                    [label setText:@"Plant"];
                }
                [label setText:@"Plant"];
            }
            else if (section==1)
            {
                if (applicationWorkAppFilterFlag == YES)
                {
                    [label setText:@"Work Center"];
                }
            }
            [view addSubview:label];
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            return view;
        }
        else if (self.misFilterTableView.tag == 4)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                if (notifFilterFlag == NO)
                {
                    [label setText:@"Plant"];
                }
                [label setText:@"Plant"];
                
            }
            else if (section==1)
            {
                if (notifFilterFlag == YES)
                {
                    [label setText:@"Work Center"];
                }
            }
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            [view addSubview:label];
            
            return view;
        }
        else if (self.misFilterTableView.tag == 5)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                if (notifDescFilterFlag == NO)
                {
                    [label setText:@"Plant"];
                }
                [label setText:@"Plant"];
            }
            else if (section==1)
            {
                if (notifDescFilterFlag == YES)
                {
                    [label setText:@"Work Center"];
                }
            }
            [view addSubview:label];
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            //            [view setBackgroundColor:[UIColor colorWithRed:166/255.0 green:177/255.0 blue:186/255.0 alpha:1.0]]; //your background color...
            
            return view;
        }
        
        else if (self.misFilterTableView.tag == 6)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                if (notifDetailFilterFlag == NO)
                {
                    [label setText:@"Plant"];
                }
                [label setText:@"Plant"];
            }
            else if (section==1)
            {
                if (notifDetailFilterFlag == YES)
                {
                    [label setText:@"Work Center"];
                }
            }
            [view addSubview:label];
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            return view;
        }
        
        else if (self.misFilterTableView.tag == 7)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
//                if (brkDownFilterFlag == NO)
//                {
//                    [label setText:@"Plant"];
//                }
                [label setText:@"Plant"];
            }
//            else if (section==1)
//            {
//                if (brkDownFilterFlag == YES)
//                {
//                    [label setText:@"Area"];
//                }
//            }
            [view addSubview:label];
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            return view;
        }
        else if (self.misFilterTableView.tag == 8)
        {
            UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tableView.frame.size.width, 18)];
            /* Create custom view to display section header... */
            UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10,0, tableView.frame.size.width, 18)];
            [label setFont:[UIFont boldSystemFontOfSize:12]];
            /* Section header is in 0th index... */
            
            if (section==0)
            {
                if (notifBarFilterFlag == NO)
                {
                    [label setText:@"Plant"];
                }
                [label setText:@"Plant"];
            }
            else if (section==1)
            {
                if (notifBarFilterFlag == YES)
                {
                    [label setText:@"Work Center"];
                }
            }
            [view addSubview:label];
            [view setBackgroundColor:[UIColor colorWithRed:247/255.0 green:247/255.0 blue:247/255.0 alpha:1.0]]; //your background color...
            
            return view;
        }
        
        
    }
    
    return 0;
}

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    if (tableView==self.misFilterTableView)
    {
        if (self.misFilterTableView.tag == 0)
        {
            
            if (filterFlag == YES)
            {
                return [filterStructuredArray  count];
                
            }
            else if (filterFlag == NO)
            {
 
                return [[filterStructuredArray objectAtIndex:0] count];

             }
        }
        else if (self.misFilterTableView.tag == 1)
        {
            
            if (workAppFilterFlag == YES)
            {
                return [copyFilteredArray  count];
                
            }
            else if (workAppFilterFlag == NO)
            {
                return [[copyFilteredArray objectAtIndex:0] count];
                
            }
        }
        else if (self.misFilterTableView.tag == 2)
        {
            
            if (applicationFilterFlag == YES)
            {
                return [applicationFilterArray  count];
                
            }
            else if (applicationFilterFlag == NO)
            {
                return [[applicationFilterArray objectAtIndex:0] count];
                
            }
        }
        else if (self.misFilterTableView.tag == 3)
        {
            
            if (applicationWorkAppFilterFlag == YES)
            {
                return [applnWrkAppFilterArray  count];
                
            }
            else if (applicationWorkAppFilterFlag == NO)
            {
                return [[applnWrkAppFilterArray objectAtIndex:0] count];
                
            }
        }
        else if (self.misFilterTableView.tag == 4)
        {
            
            if (notifFilterFlag == YES)
            {
                return [notifFilterStructuredArray  count];
                
            }
            else if (notifFilterFlag == NO)
            {
                return [[notifFilterStructuredArray objectAtIndex:0] count];
                
            }
        }
        else if (self.misFilterTableView.tag == 5)
        {
            
            if (notifDescFilterFlag == YES)
            {
                return [notifDescFilterStructuredArray  count];
                
            }
            else if (notifDescFilterFlag == NO)
            {
                return [[notifDescFilterStructuredArray objectAtIndex:0] count];
                
            }
        }
        else if (self.misFilterTableView.tag == 6)
        {
            
            if (notifDetailFilterFlag == YES)
            {
                return [notifDetailFilterStructuredArray  count];
                
            }
            else if (notifDetailFilterFlag == NO)
            {
                return [[notifDetailFilterStructuredArray objectAtIndex:0] count];
                
            }
        }
        else if (self.misFilterTableView.tag == 7)
        {
            
//            if (brkDownFilterFlag == YES)
//            {
                return [brkDownFilterStructuredArray  count];
                
//            }
//            else if (brkDownFilterFlag == NO)
//            {
//                return [brkDownFilterStructuredArray count];
//                
//            }
        }
        else if (self.misFilterTableView.tag == 8)
        {
            
            if (notifBarFilterFlag == YES)
            {
                return [notifBarFilterStructuredArray  count];
                
            }
            else if (notifBarFilterFlag == NO)
            {
                return [[notifBarFilterStructuredArray objectAtIndex:0] count];
                
            }
        }
        
        
    }
    return 1;
}


- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    if (tableView == self.brkdownTableView)
    {
        if (self.brkdownTableView.tag == 1)
        {
            return [self.brkSearchArray count];
        }
        return [brkdownDescriptionArray count];
    }
    //    else if (tableView == self.dropDownTableView)
    //    {
    //        if (tag == 3)
    //        {
    //            return [monthArray count];
    //        }
    //        else if(tag == 4)
    //        {
    //            return [[YearArray objectAtIndex:0] count];
    //        }
    //    }
    
    else if (tableView == self.misFilterTableView)
    {
        if (self.misFilterTableView.tag == 0)
        {
            if (section == 0)
            {
                return [[filterStructuredArray objectAtIndex:0] count];
                //   return [[[self.structuredFilterSortedArray firstObject] objectAtIndex:section] count];
                
            }
            else if(section == 1)
            {
                return [plantWrkCenterArray count];
            }
        }
        else if (self.misFilterTableView.tag == 1)
        {
            if (section == 0)
            {
                return [[copyFilteredArray objectAtIndex:0] count];
                
            }
            else if(section == 1)
            {
                return [wrkApprPlantWrkCenterArray count];
            }
        }
        else if (self.misFilterTableView.tag == 2)
        {
            if (section == 0)
            {
                return [[applicationFilterArray objectAtIndex:0] count];
                
            }
            else if(section == 1)
            {
                return [applicationPlantWrkCenterArray count];
            }
        }
        else if (self.misFilterTableView.tag == 3)
        {
            if (section == 0)
            {
                return [[applnWrkAppFilterArray objectAtIndex:0] count];
                
            }
            else if(section == 1)
            {
                return [applnWrkAppPlantWorkCenterArray count];
            }
        }
        else if (self.misFilterTableView.tag == 4)
        {
            if (section == 0)
            {
                return [[notifFilterStructuredArray objectAtIndex:0] count];
                
            }
            else if(section == 1)
            {
                return [notifPlantWorkCenterArray count];
            }
        }
        else if (self.misFilterTableView.tag == 5)
        {
            if (section == 0)
            {
                return [[notifDescFilterStructuredArray objectAtIndex:0] count];
                
            }
            else if(section == 1)
            {
                return [notifDescPlantWorkCenterArray count];
            }
        }
        else if (self.misFilterTableView.tag == 6)
        {
            if (section == 0)
            {
                return [[notifDetailFilterStructuredArray objectAtIndex:0] count];
            }
            else if(section == 1)
            {
                return [notifDetailPlantWorkCenterArray count];
            }
        }
        else if (self.misFilterTableView.tag == 7)
        {
            if (section == 0)
            {
                return [brkDownFilterStructuredArray count];
                
            }
//            else if(section == 1)
//            {
//                return [brkdownFilteredAreaArray count];
//            }
        }
        else if (self.misFilterTableView.tag == 8)
        {
            if (section == 0)
            {
                return [[notifBarFilterStructuredArray objectAtIndex:0] count];
                
            }
            else if(section == 1)
            {
                return [notifBarPlantWorkCenterArray count];
            }
        }
    }
    else if (tableView == self.notifDescTableView)
    {
        if (self.notifDescTableView.tag == 1)
        {
            return [filteredTempArrayDetails count];
        }
        else if (self.notifDescTableView.tag == 2)
        {
            return [self.filterdTableArray count];
            
        }
        else if (self.notifDescTableView.tag == 3)
        {
            return [self.searchInitialArray count];
        }
        else if (self.notifDescTableView.tag == 4)
        {
            return [self.seachDescArray count];
            
        }
        else
        {
            return [tempArrayDetails count];
            
        }
    }
    else if (tableView == self.availabilityDetailTableView)
    {
        if (self.availabilityDetailTableView.tag == 1)
        {
            return [self.availabilitySearchArray count];
        }
        else
        {
            return [[res_obj.misDictionary objectForKey:@"Detail"]count];
        }
        
    }
    else if (tableView == self.permitDetailTableView)
    {
        if (self.permitDetailTableView.tag == 1)
        {
            return [self.permitSearchArray count];
        }
        else
        {
            return [permitDetailListArray count];
        }
        
    }
    else{
        
        return [[tempArrayDetails objectAtIndex:0] count];
    }
    return 0;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    
    if (cell==nil) {
        cell=[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    cell.accessoryType=UITableViewCellAccessoryNone;
    
    if (tableView == self.brkdownTableView)
    {
        
        static NSString *cellIdentifier = @"Cell";
        
        BrkDownDetailsTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
        
        if (cell==nil)
        {
            cell=[[BrkDownDetailsTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
        }
        if (indexPath.row % 2) {
            cell.contentView.backgroundColor = [[UIColor alloc]initWithRed:249.0/255.0 green:249.0/255.0 blue:249.0/255.0 alpha:1];
        } else {
            cell.contentView.backgroundColor = [UIColor whiteColor];
        }
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        
        if (self.brkdownTableView.tag == 1)
        {
            cell.brkdownNotifNumText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
            cell.brkdownEquipNumText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            cell.brkdownEquipDescText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"];
        }
        else
        {
            cell.brkdownNotifNumText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
            cell.brkdownEquipNumText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            cell.brkdownEquipDescText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"];
        }
        
        return cell;
        
    }
    
    
    else if (tableView == self.misFilterTableView)
    {
        static NSString *cellIdentifier = @"Cell";
        
        FilterSortTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
        
        if (cell==nil)
        {
            cell=[[FilterSortTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
        }
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        
        if (self.misFilterTableView.tag == 0)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                cell.headerlabelValue.text = [[[filterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                if ([[[[filterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"PlantStatus"] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
                return cell;
            }
            
            if (indexPath.section == 1)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                
                if (filterFlag == YES)
                {
                    
                    cell.headerlabelValue.text = [[plantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                    if ([[[plantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"WorkCenterStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    return cell;
                    
                }
            }
            
        }
        else if (self.misFilterTableView.tag == 1)
        {
            if (indexPath.section == 0)
            {
                
                NSLog(@"%ld",(long)indexPath.row);
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                cell.headerlabelValue.text = [[[copyFilteredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                
                if ([[[[copyFilteredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"WorkAppPlantStatus"] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
                return cell;
            }
            if (workAppFilterFlag == YES)
            {
                if (indexPath.section == 1)
                {
                    NSLog(@"%ld",(long)indexPath.row);
                    
                    cell.headerlabelValue.hidden = NO;
                    cell.dateTextfield.hidden = YES;
                    cell.dateImageView.hidden = YES;
                    cell.filterSortCheckBoxButton.hidden = NO;
                    
                    cell.headerlabelValue.text = [[wrkApprPlantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                    if ([[[wrkApprPlantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"WrkAppWorkCenterStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    return cell;
                    
                }
            }
        }
        else if (self.misFilterTableView.tag == 2)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                cell.headerlabelValue.text = [[[applicationFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                if ([[[[applicationFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"ApplicationPlantStatus"] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
                return cell;
            }
            if (applicationFilterFlag == YES)
            {
                if (indexPath.section == 1)
                {
                    NSLog(@"%ld",(long)indexPath.row);
                    
                    cell.headerlabelValue.hidden = NO;
                    cell.dateTextfield.hidden = YES;
                    cell.dateImageView.hidden = YES;
                    cell.filterSortCheckBoxButton.hidden = NO;
                    
                    cell.headerlabelValue.text = [[applicationPlantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                    if ([[[applicationPlantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"ApplicationWorkCenterStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    return cell;
                    
                }
            }
        }
        else if (self.misFilterTableView.tag == 3)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                cell.headerlabelValue.text = [[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                if ([[[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"ApplicationWrkAppPlantStatus"] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
                return cell;
            }
            if (applicationWorkAppFilterFlag == YES)
            {
                if (indexPath.section == 1)
                {
                    NSLog(@"%ld",(long)indexPath.row);
                    
                    cell.headerlabelValue.hidden = NO;
                    cell.dateTextfield.hidden = YES;
                    cell.dateImageView.hidden = YES;
                    cell.filterSortCheckBoxButton.hidden = NO;
                    
                    cell.headerlabelValue.text = [[applnWrkAppPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                    if ([[[applnWrkAppPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"ApplicationWorkAppWorkCenterStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    return cell;
                    
                }
            }
        }
        else if (self.misFilterTableView.tag == 4)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                cell.headerlabelValue.text = [[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                if ([[[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"NotifPlantStatus"] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
                return cell;
            }
            if (notifFilterFlag == YES)
            {
                if (indexPath.section == 1)
                {
                    NSLog(@"%ld",(long)indexPath.row);
                    
                    cell.headerlabelValue.hidden = NO;
                    cell.dateTextfield.hidden = YES;
                    cell.dateImageView.hidden = YES;
                    cell.filterSortCheckBoxButton.hidden = NO;
                    
                    cell.headerlabelValue.text = [[notifPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                    if ([[[notifPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"NotifWorkCenterStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    return cell;
                    
                }
            }
        }
        
        else if (self.misFilterTableView.tag == 5)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                cell.headerlabelValue.text = [[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                if ([[[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"NotifDescPlantStatus"] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
                return cell;
            }
            if (notifDescFilterFlag == YES)
            {
                if (indexPath.section == 1)
                {
                    NSLog(@"%ld",(long)indexPath.row);
                    
                    cell.headerlabelValue.hidden = NO;
                    cell.dateTextfield.hidden = YES;
                    cell.dateImageView.hidden = YES;
                    cell.filterSortCheckBoxButton.hidden = NO;
                    
                    cell.headerlabelValue.text = [[notifDescPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                    if ([[[notifDescPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"NotifDescWorkCenterStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    return cell;
                    
                }
            }
        }
        
        else if (self.misFilterTableView.tag == 6)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                cell.headerlabelValue.text = [[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                if ([[[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"NotifDetailPlantStatus"] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
                return cell;
            }
            if (notifDetailFilterFlag == YES)
            {
                if (indexPath.section == 1)
                {
                    NSLog(@"%ld",(long)indexPath.row);
                    
                    cell.headerlabelValue.hidden = NO;
                    cell.dateTextfield.hidden = YES;
                    cell.dateImageView.hidden = YES;
                    cell.filterSortCheckBoxButton.hidden = NO;
                    
                    cell.headerlabelValue.text = [[notifDetailPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                    if ([[[notifDetailPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"NotifDetailWorkCenterStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    
                    return cell;
                }
            }
        }
        
        else if (self.misFilterTableView.tag == 7)
        {
            if (indexPath.section == 0)
            {
                    cell.headerlabelValue.hidden = NO;
                    cell.dateTextfield.hidden = YES;
                    cell.dateImageView.hidden = YES;
                    cell.filterSortCheckBoxButton.hidden = NO;
                    cell.headerlabelValue.text = [[brkDownFilterStructuredArray objectAtIndex:indexPath.row] objectForKey:@"Name"];
                    
                    if ([[[brkDownFilterStructuredArray objectAtIndex:indexPath.row] objectForKey:@"BrkDownPlantStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    return cell;
            }
//            {
//                cell.headerlabelValue.hidden = NO;
//                cell.dateTextfield.hidden = YES;
//                cell.dateImageView.hidden = YES;
//                cell.filterSortCheckBoxButton.hidden = NO;
//            if ([brkDownFilterStructuredArray count])
//            {
//                
//                cell.headerlabelValue.text = [[brkDownFilterStructuredArray objectAtIndex:indexPath.row] objectForKey:@"Name"];
//                
//                if ([[[brkDownFilterStructuredArray objectAtIndex:indexPath.row] objectForKey:@"BrkDownPlantStatus"] isEqualToString:@"X"])
//                {
//                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"]   forState:UIControlStateNormal];
//                    
//                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
//                }
//                else
//                {
//                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
//                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
//                }
//            }
//                
//                return cell;
//            }
        }
           // if (brkDownFilterFlag == YES)
//            {
//                if (indexPath.section == 1)
//                {
//                    cell.headerlabelValue.hidden = NO;
//                    cell.dateTextfield.hidden = YES;
//                    cell.dateImageView.hidden = YES;
//                    cell.filterSortCheckBoxButton.hidden = NO;
//                    self.misFilterTableView.hidden = NO;
//                    cell.headerlabelValue.text = [[brkdownFilteredAreaArray objectAtIndex:indexPath.row] objectForKey:@"Name"];
//                    
//                    if ([[[brkdownFilteredAreaArray objectAtIndex:indexPath.row] objectForKey:@"BrkDownAreaStatus"] isEqualToString:@"X"])
//                    {
//                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
//                        
//                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
//                    }
//                    else
//                    {
//                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
//                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
//                    }
//                    return cell;
//                    
//                }
//            }
       // }
        
        else if (self.misFilterTableView.tag == 8)
        {
            if (indexPath.section == 0)
            {
                cell.headerlabelValue.hidden = NO;
                cell.dateTextfield.hidden = YES;
                cell.dateImageView.hidden = YES;
                cell.filterSortCheckBoxButton.hidden = NO;
                cell.headerlabelValue.text = [[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                if ([[[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"NotifBarPlantStatus"] isEqualToString:@"X"])
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
                    
                    cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                }
                else
                {
                    [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                    cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                }
                return cell;
            }
            if (notifBarFilterFlag == YES)
            {
                if (indexPath.section == 1)
                {
                    cell.headerlabelValue.hidden = NO;
                    cell.dateTextfield.hidden = YES;
                    cell.dateImageView.hidden = YES;
                    cell.filterSortCheckBoxButton.hidden = NO;
                    self.misFilterTableView.hidden = NO;
                    cell.headerlabelValue.text = [[notifBarPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                    if ([[[notifBarPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"NotifBarPlantWorkCenterStatus"] isEqualToString:@"X"])
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_selected.png"] forState:UIControlStateNormal];
                        
                        cell.headerlabelValue.textColor= [UIColor colorWithRed:59.0/255.0 green:187.0/255.0 blue:196.0/255.0 alpha:5.0];
                    }
                    else
                    {
                        [cell.filterSortCheckBoxButton setImage:[UIImage imageNamed:@"checkbox_unselected.png"]   forState:UIControlStateNormal];
                        cell.headerlabelValue.textColor=[UIColor lightGrayColor];
                    }
                    return cell;
                    
                }
            }
        }
        
    }
    
    else if (tableView == self.availabilityDetailTableView)
    {
        static NSString *cellIdentifier = @"CustomCell";
        
        AvailabilityDetailTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
        
        if (cell==nil)
        {
            cell=[[AvailabilityDetailTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
        }
        if (indexPath.row % 2) {
            cell.contentView.backgroundColor = [[UIColor alloc]initWithRed:249.0/255.0 green:249.0/255.0 blue:249.0/255.0 alpha:1];
        } else {
            cell.contentView.backgroundColor = [UIColor whiteColor];
        }
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        
        if (self.availabilityDetailTableView.tag == 1)
        {
            if ([[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
            {
                cell.notifTextLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
            }
            else
            {
                cell.notifTextLabel.text = @"-";
            }
            if ([[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                cell.equipmentTextLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            else
            {
                cell.equipmentTextLabel.text = @"-";
            }
            if ([[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"])
            {
                cell.descriptionTextLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"];
                
            }
            else
            {
                cell.descriptionTextLabel.text = @"-";
            }
            if ([[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Startdate"])
            {
                cell.startDateText.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Startdate"];
                
            }
            else
            {
                cell.startDateText.text = @"-";
            }
        }
        else
        {
            if ([[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
            {
                cell.notifTextLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
            }
            else
            {
                cell.notifTextLabel.text = @"-";
            }
            if ([[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                cell.equipmentTextLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            else
            {
                cell.equipmentTextLabel.text = @"-";
            }
            if ([[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Eqktu"])
            {
                cell.descriptionTextLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Eqktu"];
                
            }
            else
            {
                cell.descriptionTextLabel.text = @"-";
            }
            if ([[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Startdate"])
            {
                cell.startDateText.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Startdate"];
                
            }
            else
            {
                cell.startDateText.text = @"-";
            }
        }
        return cell;
    }
    
    else if (tableView == self.permitDetailTableView)
    {
        static NSString *cellIdentifier = @"CustomCell";
        
        PermitTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
        
        if (cell==nil)
        {
            cell=[[PermitTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
        }
        
        if (indexPath.row % 2) {
            cell.contentView.backgroundColor = [[UIColor alloc]initWithRed:249.0/255.0 green:249.0/255.0 blue:249.0/255.0 alpha:1];
        }
        else {
            cell.contentView.backgroundColor = [UIColor whiteColor];
        }
        
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        
        if (self.permitDetailTableView.tag == 1)
        {
            cell.permitCountLabel.text =[NSString stringWithFormat:@"%ld)",indexPath.row + 1] ;
            
            cell.wcnrIdText.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Wcnr"];
            cell.nameText.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Stxt"];
            cell.orderText.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
            cell.funcLocationText.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
            //            cell.dateFromText.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Datefr"];
            //            cell.dateToText.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Dateto"];
            
            NSString *validFromString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Datefr"];
            NSDateFormatter *df= [NSDateFormatter new];
            [df setDateFormat:@"yyyy-MM-dd"];
            NSDate *targetDate=[df dateFromString:validFromString];
            [df setDateFormat:@"MMM dd, yyyy"];
            NSString *dateFrom=[df stringFromDate:targetDate];
            
            cell.dateFromText.text = dateFrom;
            
            NSString *validToString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Dateto"];
            NSDateFormatter *dateFrmat= [NSDateFormatter new];
            [dateFrmat setDateFormat:@"yyyy-MM-dd"];
            NSDate *validDate=[dateFrmat dateFromString:validToString];
            [dateFrmat setDateFormat:@"MMM dd, yyyy"];
            NSString *dateTo=[dateFrmat stringFromDate:validDate];
            
            cell.dateToText.text = dateTo;
            
        }
        else
        {
            cell.permitCountLabel.text =[NSString stringWithFormat:@"%ld)",indexPath.row + 1] ;
            cell.wcnrIdText.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Wcnr"];
            cell.nameText.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Stxt"];
            cell.orderText.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
            cell.funcLocationText.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
            
            NSString *validFromString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Datefr"];
            NSDateFormatter *df= [NSDateFormatter new];
            [df setDateFormat:@"yyyy-MM-dd"];
            NSDate *targetDate=[df dateFromString:validFromString];
            [df setDateFormat:@"MMM dd, yyyy"];
            NSString *dateFrom=[df stringFromDate:targetDate];
            
            cell.dateFromText.text = dateFrom;
            
            NSString *validToString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Dateto"];
            NSDateFormatter *dateFrmat= [NSDateFormatter new];
            [dateFrmat setDateFormat:@"yyyy-MM-dd"];
            NSDate *validDate=[dateFrmat dateFromString:validToString];
            [dateFrmat setDateFormat:@"MMM dd, yyyy"];
            NSString *dateTo=[dateFrmat stringFromDate:validDate];
            
            cell.dateToText.text = dateTo;
        }
        return cell;
    }
    
    
    else if (tableView == self.notifDescTableView)
    {
        static NSString *cellIdentifier = @"CustomCell";
        
        NotifDescriptionTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
        
        if (cell==nil)
        {
            cell=[[NotifDescriptionTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
        }
        
        if (indexPath.row % 2) {
            cell.contentView.backgroundColor = [[UIColor alloc]initWithRed:249.0/255.0 green:249.0/255.0 blue:249.0/255.0 alpha:1];
        }
        else {
            cell.contentView.backgroundColor = [UIColor whiteColor];
        }
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        
        
        if (self.notifDescTableView.tag ==  1)
        {
            if ([selectedFlag isEqualToString:@"Notification"])
            {
                cell.notifNumLabel.text = @"Notif #";
                cell.notificationNum.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];

                
            }
            else if ([selectedFlag isEqualToString:@"Order"])
            {
                cell.notifNumLabel.text = @"Order #";
                cell.notificationNum.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];

            }
                cell.equipmentDesc.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                cell.equipmentNum.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
 
            
            
        }
        else if (self.notifDescTableView.tag ==  2)
        {
            if ([selectedFlag isEqualToString:@"Notification"])
            {
                cell.notifNumLabel.text = @"Notif #";
                cell.notificationNum.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
                
            }
            else if ([selectedFlag isEqualToString:@"Order"])
            {
                cell.notifNumLabel.text = @"Order #";
                cell.notificationNum.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                
            }
           
            cell.equipmentDesc.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
            cell.equipmentNum.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            //  }
        }
        else if (self.notifDescTableView.tag ==  3)
        {
            if ([selectedFlag isEqualToString:@"Notification"])
            {
                cell.notifNumLabel.text = @"Notif #";
                cell.notificationNum.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
                
            }
            else if ([selectedFlag isEqualToString:@"Order"])
            {
                cell.notifNumLabel.text = @"Order #";
                cell.notificationNum.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                
            }
            cell.equipmentDesc.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
            cell.equipmentNum.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
        }
        else if (self.notifDescTableView.tag ==  4)
        {
            if ([selectedFlag isEqualToString:@"Notification"])
            {
                cell.notifNumLabel.text = @"Notif #";
                cell.notificationNum.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
                
            }
            else if ([selectedFlag isEqualToString:@"Order"])
            {
                cell.notifNumLabel.text = @"Order #";
                cell.notificationNum.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                
            }
            cell.equipmentDesc.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
            cell.equipmentNum.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            //             self.notifDescTableView.tag = 2;
        }
        else
        {
            if ([selectedFlag isEqualToString:@"Notification"])
            {
                cell.notifNumLabel.text = @"Notif #";
                cell.notificationNum.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
                
            }
            else if ([selectedFlag isEqualToString:@"Order"])
            {
                cell.notifNumLabel.text = @"Order #";
                cell.notificationNum.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                
            }
            cell.notifCountLabel.text =[NSString stringWithFormat:@"%ld)",indexPath.row + 1] ;
            
            cell.equipmentDesc.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
            cell.equipmentNum.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
        }
        return cell;
    }
    else{
        static NSString *cellIdentifier = @"CustomCell";
        
        NotifDescTableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
        
        if (cell==nil)
        {
            cell=[[NotifDescTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
        }
        
        if (indexPath.row % 2) {
            cell.contentView.backgroundColor = [[UIColor alloc]initWithRed:249.0/255.0 green:249.0/255.0 blue:249.0/255.0 alpha:1];
        }
        else {
            cell.contentView.backgroundColor = [UIColor whiteColor];
        }
        
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        cell.notifDetails.text = [[tempArrayDetails objectAtIndex:0] objectAtIndex:indexPath.row];
        cell.textDetails.text = [[tempArrayDetails objectAtIndex:1] objectAtIndex:indexPath.row];
        cell.equipmentDetails.text = [[tempArrayDetails objectAtIndex:2] objectAtIndex:indexPath.row];
        
        return cell;
    }
    
    return cell;
}

- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (tableView == self.availabilityDetailTableView)
    {
        return 120;
    }
    else if (tableView == self.notifDescTableView)
    {
        return 98;
    }
    else if (tableView == self.brkdownTableView)
    {
        return 93;
    }
    else if (tableView == self.permitDetailTableView)
    {
        return 163;
    }
    else
    {
        return  40;
    }
    return 40;
}


-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (tableView == self.permitDetailTableView)
    {
        if (permitPriorityArray == nil)
        {
            permitPriorityArray = [NSMutableArray new];
        }
        else
        {
            [permitPriorityArray removeAllObjects];
        }
        if (self.permitDetailTableView.tag == 1)
        {
            self.permitWcnrTextLabel.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Wcnr"];
            self.permitNameTextLabel.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Stxt"];
            self.permitOrderTextLabel.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
            self.permitFuncLocationTextLabel.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
            self.permitEquipTextLabel.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            self.permitEquipmentText.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
            if (![[[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@""])
            {
                if ([[[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"1"])
                {
                    priorityString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"2"])
                {
                    priorityString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"3"])
                {
                    priorityString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"4"])
                {
                    priorityString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                if ([[[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"5"])
                {
                    priorityString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                [permitPriorityArray addObjectsFromArray:[[DataBase sharedInstance]getPriorityDescriptionForPermitReport:priorityString]];
                self.permitPriorityTextLabel.text = [[permitPriorityArray objectAtIndex:0] objectAtIndex:0];
                
            }
            else
            {
                self.permitPriorityTextLabel.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                
            }
            
            self.permitFromTimeTextLabel.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Timefr"];
            self.permitToTimeTextLabel.text = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Timeto"];
            NSString *validFromString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Datefr"];
            NSDateFormatter *df= [NSDateFormatter new];
            [df setDateFormat:@"yyyy-MM-dd"];
            NSDate *targetDate=[df dateFromString:validFromString];
            [df setDateFormat:@"MMM dd, yyyy"];
            NSString *dateFrom=[df stringFromDate:targetDate];
            
            self.permitFromDateTextLabel.text = dateFrom;
            
            NSString *validToString = [[self.permitSearchArray objectAtIndex:indexPath.row] objectForKey:@"Dateto"];
            NSDateFormatter *dateFrmat= [NSDateFormatter new];
            [dateFrmat setDateFormat:@"yyyy-MM-dd"];
            NSDate *validDate=[dateFrmat dateFromString:validToString];
            [dateFrmat setDateFormat:@"MMM dd, yyyy"];
            NSString *dateTo=[dateFrmat stringFromDate:validDate];
            
            self.permitToDateTextLabel.text = dateTo;
            
        }
        else
        {
            self.permitWcnrTextLabel.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Wcnr"];
            self.permitNameTextLabel.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Stxt"];
            self.permitOrderTextLabel.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
            self.permitFuncLocationTextLabel.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
            self.permitEquipTextLabel.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            self.permitEquipmentText.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
            if (![[[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@""])
            {
                if ([[[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"1"])
                {
                    priorityString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"2"])
                {
                    priorityString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"3"])
                {
                    priorityString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"4"])
                {
                    priorityString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                if ([[[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"5"])
                {
                    priorityString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                [permitPriorityArray addObjectsFromArray:[[DataBase sharedInstance]getPriorityDescriptionForPermitReport:priorityString]];
                self.permitPriorityTextLabel.text = [[permitPriorityArray objectAtIndex:0] objectAtIndex:0];
                
            }
            else
            {
                self.permitPriorityTextLabel.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                
            }
            self.permitFromTimeTextLabel.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Timefr"];
            self.permitToTimeTextLabel.text = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Timeto"];
            
            NSString *validFromString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Datefr"];
            NSDateFormatter *df= [NSDateFormatter new];
            [df setDateFormat:@"yyyy-MM-dd"];
            NSDate *targetDate=[df dateFromString:validFromString];
            [df setDateFormat:@"MMM dd, yyyy"];
            NSString *dateFrom=[df stringFromDate:targetDate];
            
            self.permitFromDateTextLabel.text = dateFrom;
            
            NSString *validToString = [[permitDetailListArray objectAtIndex:indexPath.row] objectForKey:@"Dateto"];
            NSDateFormatter *dateFrmat= [NSDateFormatter new];
            [dateFrmat setDateFormat:@"yyyy-MM-dd"];
            NSDate *validDate=[dateFrmat dateFromString:validToString];
            [dateFrmat setDateFormat:@"MMM dd, yyyy"];
            NSString *dateTo=[dateFrmat stringFromDate:validDate];
            
            self.permitToDateTextLabel.text = dateTo;
        }
        
          [self.permitDetailDescView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
        
        [self.view addSubview:self.permitDetailDescView];
    }
    
    else if (tableView == self.brkdownTableView)
    {
        if (self.brkdownTableView.tag == 1)
        {
            {
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
                {
                    self.brkNotifNumText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                    
                }
                else
                {
                    self.brkNotifNumText.text = @"-";
                }
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.brkEquipNumText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                else
                {
                    self.brkEquipNumText.text = @"-";
                }
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"])
                {
                    self.brkEquipDescText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"];
                    
                }
                else
                {
                    self.brkEquipDescText.text = @"-";
                }
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmartx"])
                {
                    self.brkNotifDescText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmartx"];
                    
                }
                else
                {
                    self.brkNotifDescText.text = @"-";
                }
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"])
                {
                    self.brkPlantDescText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"];
                    
                }
                else
                {
                    self.brkPlantDescText.text = @"-";
                }
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
                {
                    self.brkFuncLocationText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                    
                }
                else
                {
                    self.brkFuncLocationText.text = @"-";
                }
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
                {
                    self.brkSysStartDateText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                    
                }
                else
                {
                    self.brkSysStartDateText.text = @"-";
                }
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
                {
                    self.brkSysEndDateText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                    
                }
                else
                {
                    self.brkSysEndDateText.text = @"-";
                }
                if ([[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"])
                {
                    self.brkNotifTypeText.text = [[self.brkSearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                    
                }
                else
                {
                    self.brkNotifTypeText.text = @"-";
                }
            }
        }
        else
        {
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
            {
                self.brkNotifNumText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
            }
            else
            {
                self.brkNotifNumText.text = @"-";
            }
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.brkEquipNumText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            else
            {
                self.brkEquipNumText.text = @"-";
            }
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"])
            {
                self.brkEquipDescText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"];
                
            }
            else
            {
                self.brkEquipDescText.text = @"-";
            }
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Qmartx"])
            {
                self.brkNotifDescText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Qmartx"];
                
            }
            else
            {
                self.brkNotifDescText.text = @"-";
            }
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"])
            {
                self.brkPlantDescText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"];
                
            }
            else
            {
                self.brkPlantDescText.text = @"-";
            }
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
            {
                self.brkFuncLocationText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                
            }
            else
            {
                self.brkFuncLocationText.text = @"-";
            }
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
            {
                self.brkSysStartDateText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                
            }
            else
            {
                self.brkSysStartDateText.text = @"-";
            }
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
            {
                self.brkSysEndDateText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                
            }
            else
            {
                self.brkSysEndDateText.text = @"-";
            }
            if ([[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"])
            {
                self.brkNotifTypeText.text = [[brkdownDescriptionArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                
            }
            else
            {
                self.brkNotifTypeText.text = @"-";
            }
        }
        [self.brkdownDetailsView addSubview:self.brkdownDescriptionView];
        
    }
    else if (tableView == self.misFilterTableView)
    {
        [self.notifBarchartView removeFromSuperview];
        [_chart removeFromSuperview];
        
        if (self.misFilterTableView.tag == 0)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                for (int i=0; i<[[filterStructuredArray objectAtIndex:0] count]; i++)
                {
                    newDict = [[NSMutableDictionary alloc] init];
                    oldDict = (NSDictionary *)[[filterStructuredArray objectAtIndex:0] objectAtIndex:i];
                    [newDict addEntriesFromDictionary:oldDict];
                    [newDict setObject:@"X" forKey:@"PlantStatus"];
                    [[filterStructuredArray objectAtIndex:0] replaceObjectAtIndex:i withObject:newDict];
                }
                
                for (int i=0; i<[[filterStructuredArray objectAtIndex:0] count]; i++)
                {
                    [[[filterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
                }
                
                [[[filterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] setObject:@"X" forKey:@"PlantStatus"];
                
                filterFlag = YES;
                self.misFilterTableView.tag = 0;
                [self.misFilterTableView reloadData];
                
                if (plantWrkCenterArray == nil)
                {
                    plantWrkCenterArray = [NSMutableArray new];
                }
                else
                {
                    [plantWrkCenterArray removeAllObjects];
                }
                
                for (int i = 0; i< [[filterStructuredArray objectAtIndex:1] count]; i++)
                {
                    
                    if ([[[[filterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[[filterStructuredArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Iwerk"]])
                    {
                        [plantWrkCenterArray addObject:[[filterStructuredArray objectAtIndex:1] objectAtIndex:i]];
                    }
                }
                filterFlag = YES;
                self.misFilterBackground.hidden = NO;
                self.misFilterTableView.tag = 0;
                [self.misFilterTableView reloadData];
                if ([self.permitPiechartView.selectedIdentifier isEqualToString:@"FirstPieChart"])
                {
                    if (workCenterFilteredArray == nil) {
                        workCenterFilteredArray = [NSMutableArray new];
                    }
                    else{
                        [workCenterFilteredArray removeAllObjects];
                    }
                    
                    for (int i = 0; i< [permitTotalPlantsArray count]; i++)
                    {
                        if ([[[[filterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[permitTotalPlantsArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                        {
                            [workCenterFilteredArray addObject:[permitTotalPlantsArray objectAtIndex:i]];
                            
                        }
                    }
                    
                    if (array == nil) {
                        array = [NSMutableArray new];
                    }
                    else{
                        [array removeAllObjects];
                    }
                    
                    if ([workCenterFilteredArray count])
                    {
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Crea"])
                        {
                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Crea"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Prep"])
                        {
                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Prep"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Clsd"])
                        {
                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Clsd"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        //                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Reje"])
                        //                        {
                        //                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Reje"]];
                        //                        }
                        //                        else
                        //                        {
                        //                            [array addObject:@"0"];
                        //                        }
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Total"])
                        {
                            self.permitCountLabel.text = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Total"];
                        }
                        else
                        {
                            self.permitCountLabel.text = @"0";
                        }
                        
                        dispatch_async(dispatch_get_main_queue(), ^{
                            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                            
                            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:array];
                        });
                        
                    }
                }
                
            }
            else if (indexPath.section == 1)
            {
                NSLog(@"%ld",(long)indexPath.row);
                for (int i=0; i<[plantWrkCenterArray count]; i++)
                {
                    newDict = [[NSMutableDictionary alloc] init];
                    oldDict = (NSDictionary *)[plantWrkCenterArray objectAtIndex:i];
                    [newDict addEntriesFromDictionary:oldDict];
                    [newDict setObject:@"X" forKey:@"WorkCenterStatus"];
                    [plantWrkCenterArray replaceObjectAtIndex:i withObject:newDict];
                }
                
                for (int i=0; i<[plantWrkCenterArray count]; i++)
                {
                    [[plantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"WorkCenterStatus"];
                }
                
                [[plantWrkCenterArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"WorkCenterStatus"];
                filterFlag = YES;
                
                self.misFilterTableView.tag = 0;
                [self.misFilterTableView reloadData];
                if ([self.permitPiechartView.selectedIdentifier isEqualToString:@"FirstPieChart"])
                {
                    
                    if (workCenterFilteredArray == nil) {
                        workCenterFilteredArray = [NSMutableArray new];
                    }
                    else{
                        [workCenterFilteredArray removeAllObjects];
                    }
                    for (int i = 0; i< [permitTotalWorkCenterArray count]; i++)
                    {
                        
                        if ([[[plantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[permitTotalWorkCenterArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                        {
                            if ([[[plantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"] isEqualToString:[[permitTotalWorkCenterArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                [workCenterFilteredArray addObject:[permitTotalWorkCenterArray objectAtIndex:i]];
                                
                            }
                        }
                    }
                    
                    self.misFilterTableView.tag = 0;
                    [self.misFilterTableView reloadData];
                    
                    if (array == nil) {
                        array = [NSMutableArray new];
                    }
                    else{
                        [array removeAllObjects];
                    }
                    if ([workCenterFilteredArray count])
                        
                    {
                        
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Crea"])
                        {
                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Crea"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Prep"])
                        {
                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Prep"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Clsd"])
                        {
                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Clsd"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        //                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Reje"])
                        //                        {
                        //                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Reje"]];
                        //                        }
                        //                        else
                        //                        {
                        //                            [array addObject:@"0"];
                        //                        }
                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Total"])
                        {
                            self.permitCountLabel.text = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Total"];
                        }
                        else
                        {
                            self.permitCountLabel.text = @"0";
                        }
                        dispatch_async(dispatch_get_main_queue(), ^{
                            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                            
                            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:array];
                            [self.filterView removeFromSuperview];
                        });
                        
                    }
                }
                
            }
        }
        else if (self.misFilterTableView.tag == 1)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                for (int i=0; i<[[copyFilteredArray objectAtIndex:0] count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[[copyFilteredArray objectAtIndex:0] objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"WorkAppPlantStatus"];
                    [[copyFilteredArray objectAtIndex:0] replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[[copyFilteredArray objectAtIndex:0] count]; i++)
                {
                    [[[copyFilteredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"WorkAppPlantStatus"];
                }
                
                [[[copyFilteredArray objectAtIndex:0] objectAtIndex:indexPath.row] setObject:@"X" forKey:@"WorkAppPlantStatus"];
                
                self.plantLabelText.hidden = NO;
                self.plantHeader.hidden = NO;
                self.plantLabelText.text = [[[copyFilteredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                descPlant = [[[copyFilteredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                detailPlant = [[[copyFilteredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                
                if (wrkApprPlantWrkCenterArray == nil)
                {
                    wrkApprPlantWrkCenterArray = [NSMutableArray new];
                }
                else
                {
                    [wrkApprPlantWrkCenterArray removeAllObjects];
                }
                
                for (int i = 0; i< [[copyFilteredArray objectAtIndex:1] count]; i++)
                {
                    
                    if ([[[[copyFilteredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[[copyFilteredArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Iwerk"]])
                    {
                        [wrkApprPlantWrkCenterArray addObject:[[copyFilteredArray objectAtIndex:1] objectAtIndex:i]];
                    }
                }
                workAppFilterFlag = YES;
                self.misFilterTableView.tag = 1;
                [self.misFilterTableView reloadData];
                
                if ([self.permitPiechartView.selectedIdentifier isEqualToString:@"SecondPieChart"])
                {
                    if (wrkAppFilteredArray == nil) {
                        wrkAppFilteredArray = [NSMutableArray new];
                    }
                    else{
                        [wrkAppFilteredArray removeAllObjects];
                    }
                    
                    for (int i = 0; i< [wrkAppPlantMainArray count]; i++)
                    {
                        if ([[[[copyFilteredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[wrkAppPlantMainArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                        {
                            [wrkAppFilteredArray addObject:[wrkAppPlantMainArray objectAtIndex:i]];
                            
                        }
                    }
                    
                    if ([wrkAppFilteredArray count])
                    {
                        if (secondPieChartArray == nil) {
                            secondPieChartArray = [NSMutableArray new];
                        }
                        else{
                            [secondPieChartArray removeAllObjects];
                        }
                        
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Red"])
                        {
                            [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Red"]];
                        }
                        else
                        {
                            [secondPieChartArray addObject:@"0"];
                        }
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Yellow"])
                        {
                            [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Yellow"]];
                        }
                        else
                        {
                            [secondPieChartArray addObject:@"0"];
                        }
                        
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Green"])
                        {
                            [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Green"]];
                        }
                        else
                        {
                            [secondPieChartArray addObject:@"0"];
                        }
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Total"])
                        {
                            self.permitCountLabel.text = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Total"];
                        }
                        else
                        {
                            self.permitCountLabel.text = @"0";
                        }
                        
                        dispatch_async(dispatch_get_main_queue(), ^{
                            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                            
                            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:secondPieChartArray];
                        });
                        
                    }
                }
                
                
            }
            else if (indexPath.section == 1)
            {
                NSLog(@"%ld",(long)indexPath.row);
                for (int i=0; i<[wrkApprPlantWrkCenterArray count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[wrkApprPlantWrkCenterArray objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"WrkAppWorkCenterStatus"];
                    [wrkApprPlantWrkCenterArray replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[wrkApprPlantWrkCenterArray count]; i++)
                {
                    [[wrkApprPlantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"WrkAppWorkCenterStatus"];
                }
                
                [[wrkApprPlantWrkCenterArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"WrkAppWorkCenterStatus"];
                workAppFilterFlag = YES;
                
                self.misFilterTableView.tag = 1;
                [self.misFilterTableView reloadData];
                
                if ([self.permitPiechartView.selectedIdentifier isEqualToString:@"SecondPieChart"])
                {
                    if (wrkAppFilteredArray == nil) {
                        wrkAppFilteredArray = [NSMutableArray new];
                    }
                    else{
                        [wrkAppFilteredArray removeAllObjects];
                    }
                    for (int i = 0; i< [wrkAppWorkCenterMainArray count]; i++)
                    {
                        
                        if ([[[wrkApprPlantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[wrkAppWorkCenterMainArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                        {
                            if ([[[wrkApprPlantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"] isEqualToString:[[wrkAppWorkCenterMainArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                [wrkAppFilteredArray addObject:[wrkAppWorkCenterMainArray objectAtIndex:i]];
                                
                            }
                        }
                    }
                    
                    if ([wrkAppFilteredArray count])
                    {
                        if (secondPieChartArray == nil) {
                            secondPieChartArray = [NSMutableArray new];
                        }
                        else{
                            [secondPieChartArray removeAllObjects];
                        }
                        
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Red"])
                        {
                            [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Red"]];
                        }
                        else
                        {
                            [secondPieChartArray addObject:@"0"];
                        }
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Yellow"])
                        {
                            [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Yellow"]];
                        }
                        else
                        {
                            [secondPieChartArray addObject:@"0"];
                        }
                        
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Green"])
                        {
                            [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Green"]];
                        }
                        else
                        {
                            [secondPieChartArray addObject:@"0"];
                        }
                        if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Total"])
                        {
                            self.permitCountLabel.text = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Total"];
                        }
                        else
                        {
                            self.permitCountLabel.text = @"0";
                        }
                        
                        dispatch_async(dispatch_get_main_queue(), ^{
                            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                            
                            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:secondPieChartArray];
                        });
                        
                    }
                }
                
            }
        }
        else if (self.misFilterTableView.tag == 2)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                for (int i=0; i<[[applicationFilterArray objectAtIndex:0] count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[[applicationFilterArray objectAtIndex:0] objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"ApplicationPlantStatus"];
                    [[applicationFilterArray objectAtIndex:0] replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[[applicationFilterArray objectAtIndex:0] count]; i++)
                {
                    [[[applicationFilterArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"ApplicationPlantStatus"];
                }
                
                [[[applicationFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] setObject:@"X" forKey:@"ApplicationPlantStatus"];
                
                //            filterFlag = YES;
                //            self.misFilterTableView.tag = 0;
                //            [self.misFilterTableView reloadData];
                
                self.plantLabelText.hidden = NO;
                self.plantHeader.hidden = NO;
                self.plantLabelText.text = [[[applicationFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                descPlant = [[[applicationFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                detailPlant = [[[applicationFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                
                if (applicationPlantWrkCenterArray == nil)
                {
                    applicationPlantWrkCenterArray = [NSMutableArray new];
                }
                else
                {
                    [applicationPlantWrkCenterArray removeAllObjects];
                }
                
                for (int i = 0; i< [[applicationFilterArray objectAtIndex:1] count]; i++)
                {
                    
                    if ([[[[applicationFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[[applicationFilterArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Iwerk"]])
                    {
                        [applicationPlantWrkCenterArray addObject:[[applicationFilterArray objectAtIndex:1] objectAtIndex:i]];
                    }
                }
                applicationFilterFlag = YES;
                self.misFilterTableView.tag = 2;
                [self.misFilterTableView reloadData];
                
                if (applicationFilteredArray == nil) {
                    applicationFilteredArray = [NSMutableArray new];
                }
                else{
                    [applicationFilteredArray removeAllObjects];
                }
                
                for (int i = 0; i< [permitTotalPlantsArray count]; i++)
                {
                    if ([[[[applicationFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[permitTotalPlantsArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                    {
                        //                    if ([[[plantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"] isEqualToString:[[permitTotalWorkCenterArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                        //                    {
                        [applicationFilteredArray addObject:[permitTotalPlantsArray objectAtIndex:i]];
                        
                        // }
                    }
                }
                self.applicationFilterBackground.hidden = NO;
                if ([self.permitDescriptionPiechartView.selectedIdentifier isEqualToString:@"PermitApplications"])
                {
                    
                    if ([applicationFilteredArray count])
                    {
                        if(firstObjectArray == nil || secondObjectArray == nil || thirdObjectArray == nil || fourthObjectArray == nil || fifthObjectArray == nil || sixthObjectArray == nil || seventhObjectArray == nil || tempArrayDetails == nil || permitApplicationTypeArray == nil || first == nil ||second == nil || third == nil || fourth == nil || fifth == nil || sixth == nil || seventh == nil || applicationTypeArray == nil || permitArray == nil || applnTextArray == nil)
                        {
                            firstObjectArray = [NSMutableArray new];
                            secondObjectArray = [NSMutableArray new];
                            thirdObjectArray = [NSMutableArray new];
                            fourthObjectArray = [NSMutableArray new];
                            fifthObjectArray = [NSMutableArray new];
                            sixthObjectArray = [NSMutableArray new];
                            seventhObjectArray = [NSMutableArray new];
                            tempArrayDetails = [NSMutableArray new];
                            permitApplicationTypeArray = [NSMutableArray new];
                            first = [NSMutableArray new];
                            second = [NSMutableArray new];
                            third = [NSMutableArray new];
                            fourth = [NSMutableArray new];
                            fifth = [NSMutableArray new];
                            sixth = [NSMutableArray new];
                            seventh = [NSMutableArray new];
                            applicationTypeArray = [NSMutableArray new];
                            permitArray = [NSMutableArray new];
                            applnTextArray = [NSMutableArray new];
                            
                        }
                        else{
                            [firstObjectArray removeAllObjects];
                            [secondObjectArray removeAllObjects];
                            [thirdObjectArray removeAllObjects];
                            [fourthObjectArray removeAllObjects];
                            [fifthObjectArray removeAllObjects];
                            [sixthObjectArray removeAllObjects];
                            [seventhObjectArray removeAllObjects];
                            [tempArrayDetails removeAllObjects];
                            [first removeAllObjects];
                            [second removeAllObjects];
                            [third removeAllObjects];
                            [fourth removeAllObjects];
                            [fifth removeAllObjects];
                            [sixth removeAllObjects];
                            [seventh removeAllObjects];
                            [permitApplicationTypeArray removeAllObjects];
                            [applicationTypeArray removeAllObjects];
                            [permitArray removeAllObjects];
                            [applnTextArray removeAllObjects];
                            
                        }
                        self.permitDetailPlantText.text = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Name"];
                        for (int i=0; i<[permitDescrpnArray count]; i++)
                        {
                            if ([[[applicationFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"] isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                            {
                                
                                if ([permitStatusString isEqualToString:@"Closed"])
                                {
                                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Clsd"] isEqualToString:@"X"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        //  [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                        
                                    }
                                    
                                }
                                
                                else if ([permitStatusString isEqualToString:@"Created"])
                                {
                                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Crea"] isEqualToString:@"X"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        
                                    }
                                    
                                    //                            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                    
                                    
                                }
                                else if ([permitStatusString isEqualToString:@"Prepared"])
                                {
                                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Prep"] isEqualToString:@"X"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        //                                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                        
                                        
                                    }
                                }
                                //  else if ([permitStatusString isEqualToString:@"Rejected"])
                                //                                {
                                //                                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Reje"] isEqualToString:@"X"])
                                //                                    {
                                //                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                //                                        {
                                //                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                        }
                                //                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                //                                        {
                                //                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                        }
                                //                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                //                                        {
                                //                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                        }
                                //                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                //                                        {
                                //                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                        }
                                //                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                //                                        {
                                //                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                        }
                                //                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                //                                        {
                                //                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                        }
                                //                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                //                                        {
                                //                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                        }
                                //
                                //
                                //                                    }
                                //                                }
                            }
                        }
                        // }
                        
                        int firstObjectLength = (int)firstObjectArray.count ;
                        NSLog(@"length = %d",firstObjectLength);
                        int secondObjectLength = (int)secondObjectArray.count ;
                        NSLog(@"length = %d",secondObjectLength);
                        int thirdObjectLength = (int)thirdObjectArray.count ;
                        NSLog(@"length = %d",thirdObjectLength);
                        int fourthObjectLength = (int)fourthObjectArray.count ;
                        NSLog(@"length = %d",fourthObjectLength);
                        int fifthObjectLength = (int)fifthObjectArray.count ;
                        NSLog(@"length = %d",fifthObjectLength);
                        int sixthObjectLength = (int)sixthObjectArray.count ;
                        NSLog(@"length = %d",sixthObjectLength);
                        int seventhObjectLength = (int)seventhObjectArray.count ;
                        NSLog(@"length = %d",seventhObjectLength);
                        if ([firstObjectArray count])
                        {
                            
                            [first addObject:[firstObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [first addObject:@"1"];
                        }
                        if ([secondObjectArray count])
                        {
                            [second addObject:[secondObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [second addObject:@"2"];
                        }
                        if ([thirdObjectArray count])
                        {
                            [third addObject:[thirdObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [third addObject:@"3"];
                        }
                        if ([fourthObjectArray count])
                        {
                            [fourth addObject:[fourthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [fourth addObject:@"4"];
                        }
                        if ([fifthObjectArray count])
                        {
                            [fifth addObject:[fifthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [fifth addObject:@"5"];
                        }
                        if ([sixthObjectArray count])
                        {
                            [sixth addObject:[sixthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [sixth addObject:@"6"];
                        }
                        if ([seventhObjectArray count])
                        {
                            [seventh addObject:[seventhObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [seventh addObject:@"7"];
                        }
                        //                applicationTypeArray = [NSMutableArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil];
                        
                        [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
                        
                        for (int i =0; i<[applicationTypeArray count]; i ++)
                        {
                            // [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0]]];
                            [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
                        }
                        
                        [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:0] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:1] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:2] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:3] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:4] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:5] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:6] objectAtIndex:0], nil]];
                        
                        [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
                        
                        [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
                        
                        [self.permitView addSubview:self.permitDescriptionView];
                        [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
                        
                        [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
                        
                        
                    }
                    
                }
                
                
            }
            else if (indexPath.section == 1)
            {
                NSLog(@"%ld",(long)indexPath.row);
                for (int i=0; i<[applicationPlantWrkCenterArray count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[applicationPlantWrkCenterArray objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"ApplicationWorkCenterStatus"];
                    [applicationPlantWrkCenterArray replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[applicationPlantWrkCenterArray count]; i++)
                {
                    [[applicationPlantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"ApplicationWorkCenterStatus"];
                }
                
                [[applicationPlantWrkCenterArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"ApplicationWorkCenterStatus"];
                applicationFilterFlag = YES;
                
                self.misFilterTableView.tag = 2;
                [self.misFilterTableView reloadData];
                
                if ([self.permitDescriptionPiechartView.selectedIdentifier isEqualToString:@"PermitApplications"])
                {
                    if (applicationFilteredArray == nil) {
                        applicationFilteredArray = [NSMutableArray new];
                    }
                    else{
                        [applicationFilteredArray removeAllObjects];
                    }
                    for (int i = 0; i< [applicationWorkCenterMainArray count]; i++)
                    {
                        
                        if ([[[applicationPlantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[applicationWorkCenterMainArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                        {
                            if ([[[applicationPlantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"] isEqualToString:[[applicationWorkCenterMainArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                [applicationFilteredArray addObject:[applicationWorkCenterMainArray objectAtIndex:i]];
                                
                            }
                        }
                    }
                    //  self.applicationFilterBackground.hidden = YES;
                    
                    if ([applicationFilteredArray count])
                    {
                        if(firstObjectArray == nil || secondObjectArray == nil || thirdObjectArray == nil || fourthObjectArray == nil || fifthObjectArray == nil || sixthObjectArray == nil || seventhObjectArray == nil || tempArrayDetails == nil || permitApplicationTypeArray == nil || first == nil ||second == nil || third == nil || fourth == nil || fifth == nil || sixth == nil || seventh == nil || applicationTypeArray == nil || permitArray == nil || applnTextArray == nil)
                        {
                            firstObjectArray = [NSMutableArray new];
                            secondObjectArray = [NSMutableArray new];
                            thirdObjectArray = [NSMutableArray new];
                            fourthObjectArray = [NSMutableArray new];
                            fifthObjectArray = [NSMutableArray new];
                            sixthObjectArray = [NSMutableArray new];
                            seventhObjectArray = [NSMutableArray new];
                            tempArrayDetails = [NSMutableArray new];
                            permitApplicationTypeArray = [NSMutableArray new];
                            first = [NSMutableArray new];
                            second = [NSMutableArray new];
                            third = [NSMutableArray new];
                            fourth = [NSMutableArray new];
                            fifth = [NSMutableArray new];
                            sixth = [NSMutableArray new];
                            seventh = [NSMutableArray new];
                            applicationTypeArray = [NSMutableArray new];
                            permitArray = [NSMutableArray new];
                            applnTextArray = [NSMutableArray new];
                            
                        }
                        else{
                            [firstObjectArray removeAllObjects];
                            [secondObjectArray removeAllObjects];
                            [thirdObjectArray removeAllObjects];
                            [fourthObjectArray removeAllObjects];
                            [fifthObjectArray removeAllObjects];
                            [sixthObjectArray removeAllObjects];
                            [seventhObjectArray removeAllObjects];
                            [tempArrayDetails removeAllObjects];
                            [first removeAllObjects];
                            [second removeAllObjects];
                            [third removeAllObjects];
                            [fourth removeAllObjects];
                            [fifth removeAllObjects];
                            [sixth removeAllObjects];
                            [seventh removeAllObjects];
                            [permitApplicationTypeArray removeAllObjects];
                            [applicationTypeArray removeAllObjects];
                            [permitArray removeAllObjects];
                            [applnTextArray removeAllObjects];
                            
                        }
                        
                        // {
                        //                            self.permitDetailPlantText.hidden = NO;
                        //                            self.permitDetailPlantTitle.hidden = NO;
                        //                            self.permitDetailFilter.hidden = YES;
                        self.permitDetailPlantText.text = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Name"];
                        for (int i=0; i<[permitDescrpnArray count]; i++)
                        {
                            if ([[[applicationFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"] isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                            {
                                if ([[[applicationFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                {
                                    
                                    if ([permitStatusString isEqualToString:@"Closed"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Clsd"] isEqualToString:@"X"])
                                        {
                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                            {
                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                            {
                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                            {
                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                            {
                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                            {
                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                            {
                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                            {
                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            //  [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                            
                                        }
                                        
                                    }
                                    
                                    else if ([permitStatusString isEqualToString:@"Created"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Crea"] isEqualToString:@"X"])
                                        {
                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                            {
                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                            {
                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                            {
                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                            {
                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                            {
                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                            {
                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                            {
                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            
                                        }
                                        
                                        //                            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                        
                                        
                                    }
                                    else if ([permitStatusString isEqualToString:@"Prepared"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Prep"] isEqualToString:@"X"])
                                        {
                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                            {
                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                            {
                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                            {
                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                            {
                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                            {
                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                            {
                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                            {
                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            //                                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                            
                                            
                                        }
                                    }
                                }
                                //                                    else if ([permitStatusString isEqualToString:@"Rejected"])
                                //                                    {
                                //                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Reje"] isEqualToString:@"X"])
                                //                                        {
                                //                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                //                                            {
                                //                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                            }
                                //                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                //                                            {
                                //                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                            }
                                //                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                //                                            {
                                //                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                            }
                                //                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                //                                            {
                                //                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                            }
                                //                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                //                                            {
                                //                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                            }
                                //                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                //                                            {
                                //                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                            }
                                //                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                //                                            {
                                //                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                            }
                                //
                                //
                                //                                        }
                                //                                    }
                                
                                //  else
                                //                                    {
                                //
                                //                                        if ([[res_obj.permitTextArray objectAtIndex:index] isEqualToString:@"Clsd"])
                                //                                        {
                                //                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Clsd"] isEqualToString:@"X"])
                                //                                            {
                                //                                                if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                //                                                {
                                //                                                    [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                //                                                {
                                //                                                    [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                //                                                {
                                //                                                    [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                //                                                {
                                //                                                    [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                //                                                {
                                //                                                    [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                //                                                {
                                //                                                    [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                //                                                {
                                //                                                    [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                //  [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                //
                                //                                            }
                                //
                                //                                        }
                                //
                                //                                        else if ([[res_obj.permitTextArray objectAtIndex:index] isEqualToString:@"Crea"])
                                //                                        {
                                //                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Crea"] isEqualToString:@"X"])
                                //                                            {
                                //                                                if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                //                                                {
                                //                                                    [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                //                                                {
                                //                                                    [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                //                                                {
                                //                                                    [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                //                                                {
                                //                                                    [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                //                                                {
                                //                                                    [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                //                                                {
                                //                                                    [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                //                                                {
                                //                                                    [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //
                                //                                            }
                                //
                                //                                            //                            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                //
                                //
                                //                                        }
                                //                                        else if ([[res_obj.permitTextArray objectAtIndex:index] isEqualToString:@"Prep"])
                                //                                        {
                                //                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Prep"] isEqualToString:@"X"])
                                //                                            {
                                //                                                if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                //                                                {
                                //                                                    [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                //                                                {
                                //                                                    [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                //                                                {
                                //                                                    [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                //                                                {
                                //                                                    [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                //                                                {
                                //                                                    [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                //                                                {
                                //                                                    [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                //                                                {
                                //                                                    [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                //                                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                //
                                //
                                //                                            }
                                //                                        }
                                //                                        else if ([[res_obj.permitTextArray objectAtIndex:index] isEqualToString:@"Reje"])
                                //                                        {
                                //                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Reje"] isEqualToString:@"X"])
                                //                                            {
                                //                                                if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                //                                                {
                                //                                                    [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                //                                                {
                                //                                                    [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                //                                                {
                                //                                                    [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                //                                                {
                                //                                                    [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                //                                                {
                                //                                                    [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                //                                                {
                                //                                                    [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //                                                else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                //                                                {
                                //                                                    [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                //                                                }
                                //
                                //
                                //                                            }
                                //                                        }
                                //                                    }
                            }
                        }
                        // }
                        
                        int firstObjectLength = (int)firstObjectArray.count ;
                        NSLog(@"length = %d",firstObjectLength);
                        int secondObjectLength = (int)secondObjectArray.count ;
                        NSLog(@"length = %d",secondObjectLength);
                        int thirdObjectLength = (int)thirdObjectArray.count ;
                        NSLog(@"length = %d",thirdObjectLength);
                        int fourthObjectLength = (int)fourthObjectArray.count ;
                        NSLog(@"length = %d",fourthObjectLength);
                        int fifthObjectLength = (int)fifthObjectArray.count ;
                        NSLog(@"length = %d",fifthObjectLength);
                        int sixthObjectLength = (int)sixthObjectArray.count ;
                        NSLog(@"length = %d",sixthObjectLength);
                        int seventhObjectLength = (int)seventhObjectArray.count ;
                        NSLog(@"length = %d",seventhObjectLength);
                        if ([firstObjectArray count])
                        {
                            
                            [first addObject:[firstObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [first addObject:@"1"];
                        }
                        if ([secondObjectArray count])
                        {
                            [second addObject:[secondObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [second addObject:@"2"];
                        }
                        if ([thirdObjectArray count])
                        {
                            [third addObject:[thirdObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [third addObject:@"3"];
                        }
                        if ([fourthObjectArray count])
                        {
                            [fourth addObject:[fourthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [fourth addObject:@"4"];
                        }
                        if ([fifthObjectArray count])
                        {
                            [fifth addObject:[fifthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [fifth addObject:@"5"];
                        }
                        if ([sixthObjectArray count])
                        {
                            [sixth addObject:[sixthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [sixth addObject:@"6"];
                        }
                        if ([seventhObjectArray count])
                        {
                            [seventh addObject:[seventhObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [seventh addObject:@"7"];
                        }
                        //                applicationTypeArray = [NSMutableArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil];
                        
                        [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
                        
                        for (int i =0; i<[applicationTypeArray count]; i ++)
                        {
                            // [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0]]];
                            [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
                        }
                        
                        [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:0] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:1] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:2] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:3] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:4] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:5] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:6] objectAtIndex:0], nil]];
                        
                        [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
                        
                        
                        [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
                        
                        [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
                        [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
                        // [self.misFilterView removeFromSuperview];
                        
                    }
                }
                
            }
        }
        else if (self.misFilterTableView.tag == 3)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                for (int i=0; i<[[applnWrkAppFilterArray objectAtIndex:0] count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"ApplicationWrkAppPlantStatus"];
                    [[applnWrkAppFilterArray objectAtIndex:0] replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[[applnWrkAppFilterArray objectAtIndex:0] count]; i++)
                {
                    [[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"ApplicationWrkAppPlantStatus"];
                }
                
                [[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] setObject:@"X" forKey:@"ApplicationWrkAppPlantStatus"];
                
                //            filterFlag = YES;
                //            self.misFilterTableView.tag = 0;
                //            [self.misFilterTableView reloadData];
                
                self.plantLabelText.hidden = NO;
                self.plantHeader.hidden = NO;
                self.plantLabelText.text = [[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                descPlant = [[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                detailPlant = [[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Name"];
                
                
                if (applnWrkAppPlantWorkCenterArray == nil)
                {
                    applnWrkAppPlantWorkCenterArray = [NSMutableArray new];
                }
                else
                {
                    [applnWrkAppPlantWorkCenterArray removeAllObjects];
                }
                
                for (int i = 0; i< [[applnWrkAppFilterArray objectAtIndex:1] count]; i++)
                {
                    
                    if ([[[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[[applnWrkAppFilterArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Iwerk"]])
                    {
                        [applnWrkAppPlantWorkCenterArray addObject:[[applnWrkAppFilterArray objectAtIndex:1] objectAtIndex:i]];
                    }
                }
                applicationWorkAppFilterFlag = YES;
                self.misFilterTableView.tag = 3;
                [self.misFilterTableView reloadData];
                
                if (applnWrkAppFilteredArray == nil) {
                    applnWrkAppFilteredArray = [NSMutableArray new];
                }
                else{
                    [applnWrkAppFilteredArray removeAllObjects];
                }
                
                for (int i = 0; i< [applnWrkAppPlantMainArray count]; i++)
                {
                    if ([[[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[applnWrkAppPlantMainArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                    {
                        //                    if ([[[plantWrkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"] isEqualToString:[[permitTotalWorkCenterArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                        //                    {
                        [applnWrkAppFilteredArray addObject:[applnWrkAppPlantMainArray objectAtIndex:i]];
                        
                        // }
                    }
                }
                self.applicationFilterBackground.hidden = NO;
                if ([self.permitDescriptionPiechartView.selectedIdentifier isEqualToString:@"PermitApplications"])
                {
                    
                    if ([applnWrkAppFilteredArray count])
                    {
                        if(firstObjectArray == nil || secondObjectArray == nil || thirdObjectArray == nil || fourthObjectArray == nil || fifthObjectArray == nil || sixthObjectArray == nil || seventhObjectArray == nil || tempArrayDetails == nil || permitApplicationTypeArray == nil || first == nil ||second == nil || third == nil || fourth == nil || fifth == nil || sixth == nil || seventh == nil || applicationTypeArray == nil || permitArray == nil || applnTextArray == nil)
                        {
                            firstObjectArray = [NSMutableArray new];
                            secondObjectArray = [NSMutableArray new];
                            thirdObjectArray = [NSMutableArray new];
                            fourthObjectArray = [NSMutableArray new];
                            fifthObjectArray = [NSMutableArray new];
                            sixthObjectArray = [NSMutableArray new];
                            seventhObjectArray = [NSMutableArray new];
                            tempArrayDetails = [NSMutableArray new];
                            permitApplicationTypeArray = [NSMutableArray new];
                            first = [NSMutableArray new];
                            second = [NSMutableArray new];
                            third = [NSMutableArray new];
                            fourth = [NSMutableArray new];
                            fifth = [NSMutableArray new];
                            sixth = [NSMutableArray new];
                            seventh = [NSMutableArray new];
                            applicationTypeArray = [NSMutableArray new];
                            permitArray = [NSMutableArray new];
                            applnTextArray = [NSMutableArray new];
                            
                            
                        }
                        else{
                            [firstObjectArray removeAllObjects];
                            [secondObjectArray removeAllObjects];
                            [thirdObjectArray removeAllObjects];
                            [fourthObjectArray removeAllObjects];
                            [fifthObjectArray removeAllObjects];
                            [sixthObjectArray removeAllObjects];
                            [seventhObjectArray removeAllObjects];
                            [tempArrayDetails removeAllObjects];
                            [first removeAllObjects];
                            [second removeAllObjects];
                            [third removeAllObjects];
                            [fourth removeAllObjects];
                            [fifth removeAllObjects];
                            [sixth removeAllObjects];
                            [seventh removeAllObjects];
                            [permitApplicationTypeArray removeAllObjects];
                            [applicationTypeArray removeAllObjects];
                            [permitArray removeAllObjects];
                            [applnTextArray removeAllObjects];
                            
                        }
                        
                        self.permitDetailPlantText.text = [[applnWrkAppFilteredArray objectAtIndex:0] objectForKey:@"Name"];
                        for (int i=0; i<[permitDescrpnArray count]; i++)
                        {
                            if ([[[applnWrkAppFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"] isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                            {
                                
                                if ([permitStatusString isEqualToString:@"Not Issued"])
                                {
                                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Red"] isEqualToString:@"X"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        //  [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                        
                                    }
                                }
                                else if ([permitStatusString isEqualToString:@"Partially Issued"])
                                {
                                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Yellow"] isEqualToString:@"X"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        
                                    }
                                    
                                }
                                else if ([permitStatusString isEqualToString:@"Issued"])
                                {
                                    
                                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Green"] isEqualToString:@"X"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                        {
                                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                        {
                                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                        {
                                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                        {
                                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                        {
                                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                        {
                                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                        {
                                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                        }
                                        //                                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                        
                                    }
                                }
                            }
                        }
                        // }
                        
                        int firstObjectLength = (int)firstObjectArray.count ;
                        NSLog(@"length = %d",firstObjectLength);
                        int secondObjectLength = (int)secondObjectArray.count ;
                        NSLog(@"length = %d",secondObjectLength);
                        int thirdObjectLength = (int)thirdObjectArray.count ;
                        NSLog(@"length = %d",thirdObjectLength);
                        int fourthObjectLength = (int)fourthObjectArray.count ;
                        NSLog(@"length = %d",fourthObjectLength);
                        int fifthObjectLength = (int)fifthObjectArray.count ;
                        NSLog(@"length = %d",fifthObjectLength);
                        int sixthObjectLength = (int)sixthObjectArray.count ;
                        NSLog(@"length = %d",sixthObjectLength);
                        int seventhObjectLength = (int)seventhObjectArray.count ;
                        NSLog(@"length = %d",seventhObjectLength);
                        if ([firstObjectArray count])
                        {
                            
                            [first addObject:[firstObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [first addObject:@"1"];
                        }
                        if ([secondObjectArray count])
                        {
                            [second addObject:[secondObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [second addObject:@"2"];
                        }
                        if ([thirdObjectArray count])
                        {
                            [third addObject:[thirdObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [third addObject:@"3"];
                        }
                        if ([fourthObjectArray count])
                        {
                            [fourth addObject:[fourthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [fourth addObject:@"4"];
                        }
                        if ([fifthObjectArray count])
                        {
                            [fifth addObject:[fifthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [fifth addObject:@"5"];
                        }
                        if ([sixthObjectArray count])
                        {
                            [sixth addObject:[sixthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [sixth addObject:@"6"];
                        }
                        if ([seventhObjectArray count])
                        {
                            [seventh addObject:[seventhObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [seventh addObject:@"7"];
                        }
                        
                        [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
                        
                        for (int i =0; i<[applicationTypeArray count]; i ++)
                        {
                            //  [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0]]];
                            [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
                        }
                        
                        [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:0] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:1] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:2] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:3] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:4] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:5] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:6] objectAtIndex:0], nil]];
                        
                        [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
                        
                        [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
                        
                        // [self.permitView addSubview:self.permitDescriptionView];
                        [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
                        
                        [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
                        
                    }
                    
                }
                
            }
            else if (indexPath.section == 1)
            {
                NSLog(@"%ld",(long)indexPath.row);
                for (int i=0; i<[applnWrkAppPlantWorkCenterArray count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[applnWrkAppPlantWorkCenterArray objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"ApplicationWorkAppWorkCenterStatus"];
                    [applnWrkAppPlantWorkCenterArray replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[applnWrkAppPlantWorkCenterArray count]; i++)
                {
                    [[applnWrkAppPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"ApplicationWorkAppWorkCenterStatus"];
                }
                
                [[applnWrkAppPlantWorkCenterArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"ApplicationWorkAppWorkCenterStatus"];
                applicationWorkAppFilterFlag = YES;
                
                self.misFilterTableView.tag = 3;
                [self.misFilterTableView reloadData];
                
                if ([self.permitDescriptionPiechartView.selectedIdentifier isEqualToString:@"PermitApplications"])
                {
                    if (applnWrkAppFilteredArray == nil) {
                        applnWrkAppFilteredArray = [NSMutableArray new];
                    }
                    else{
                        [applnWrkAppFilteredArray removeAllObjects];
                    }
                    for (int i = 0; i< [wrkAppWorkCenterMainArray count]; i++)
                    {
                        
                        if ([[[applnWrkAppPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[applnWrkAppWorkCenterMainArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                        {
                            if ([[[applnWrkAppPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"] isEqualToString:[[applnWrkAppWorkCenterMainArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                [applnWrkAppFilteredArray addObject:[applnWrkAppWorkCenterMainArray objectAtIndex:i]];
                                
                            }
                        }
                    }
                    //  self.applicationFilterBackground.hidden = YES;
                    
                    if ([applnWrkAppFilteredArray count])
                    {
                        if(firstObjectArray == nil || secondObjectArray == nil || thirdObjectArray == nil || fourthObjectArray == nil || fifthObjectArray == nil || sixthObjectArray == nil || seventhObjectArray == nil || tempArrayDetails == nil || permitApplicationTypeArray == nil || first == nil ||second == nil || third == nil || fourth == nil || fifth == nil || sixth == nil || seventh == nil || applicationTypeArray == nil || permitArray == nil || applnTextArray == nil)
                        {
                            firstObjectArray = [NSMutableArray new];
                            secondObjectArray = [NSMutableArray new];
                            thirdObjectArray = [NSMutableArray new];
                            fourthObjectArray = [NSMutableArray new];
                            fifthObjectArray = [NSMutableArray new];
                            sixthObjectArray = [NSMutableArray new];
                            seventhObjectArray = [NSMutableArray new];
                            tempArrayDetails = [NSMutableArray new];
                            permitApplicationTypeArray = [NSMutableArray new];
                            first = [NSMutableArray new];
                            second = [NSMutableArray new];
                            third = [NSMutableArray new];
                            fourth = [NSMutableArray new];
                            fifth = [NSMutableArray new];
                            sixth = [NSMutableArray new];
                            seventh = [NSMutableArray new];
                            applicationTypeArray = [NSMutableArray new];
                            permitArray = [NSMutableArray new];
                            applnTextArray = [NSMutableArray new];
                            
                            
                        }
                        else{
                            [firstObjectArray removeAllObjects];
                            [secondObjectArray removeAllObjects];
                            [thirdObjectArray removeAllObjects];
                            [fourthObjectArray removeAllObjects];
                            [fifthObjectArray removeAllObjects];
                            [sixthObjectArray removeAllObjects];
                            [seventhObjectArray removeAllObjects];
                            [tempArrayDetails removeAllObjects];
                            [first removeAllObjects];
                            [second removeAllObjects];
                            [third removeAllObjects];
                            [fourth removeAllObjects];
                            [fifth removeAllObjects];
                            [sixth removeAllObjects];
                            [seventh removeAllObjects];
                            [permitApplicationTypeArray removeAllObjects];
                            [applicationTypeArray removeAllObjects];
                            [permitArray removeAllObjects];
                            [applnTextArray removeAllObjects];
                            
                        }
                        
                        self.permitDetailPlantText.text = [[applnWrkAppFilteredArray objectAtIndex:0] objectForKey:@"Name"];
                        for (int i=0; i<[permitDescrpnArray count]; i++)
                        {
                            if ([[[applnWrkAppFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"] isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                            {
                                if ([[[applnWrkAppFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                {
                                    
                                    if ([permitStatusString isEqualToString:@"Not Issued"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Red"] isEqualToString:@"X"])
                                        {
                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                            {
                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                            {
                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                            {
                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                            {
                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                            {
                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                            {
                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                            {
                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            //  [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                            
                                        }
                                    }
                                    else if ([permitStatusString isEqualToString:@"Partially Issued"])
                                    {
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Yellow"] isEqualToString:@"X"])
                                        {
                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                            {
                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                            {
                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                            {
                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                            {
                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                            {
                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                            {
                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                            {
                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            
                                        }
                                        
                                    }
                                    else if ([permitStatusString isEqualToString:@"Issued"])
                                    {
                                        
                                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Green"] isEqualToString:@"X"])
                                        {
                                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                                            {
                                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                                            {
                                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                                            {
                                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                                            {
                                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                                            {
                                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                                            {
                                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                                            {
                                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                                            }
                                            //                                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                                            
                                        }
                                    }
                                    
                                }
                            }
                        }
                        
                        int firstObjectLength = (int)firstObjectArray.count ;
                        NSLog(@"length = %d",firstObjectLength);
                        int secondObjectLength = (int)secondObjectArray.count ;
                        NSLog(@"length = %d",secondObjectLength);
                        int thirdObjectLength = (int)thirdObjectArray.count ;
                        NSLog(@"length = %d",thirdObjectLength);
                        int fourthObjectLength = (int)fourthObjectArray.count ;
                        NSLog(@"length = %d",fourthObjectLength);
                        int fifthObjectLength = (int)fifthObjectArray.count ;
                        NSLog(@"length = %d",fifthObjectLength);
                        int sixthObjectLength = (int)sixthObjectArray.count ;
                        NSLog(@"length = %d",sixthObjectLength);
                        int seventhObjectLength = (int)seventhObjectArray.count ;
                        NSLog(@"length = %d",seventhObjectLength);
                        if ([firstObjectArray count])
                        {
                            
                            [first addObject:[firstObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [first addObject:@"1"];
                        }
                        if ([secondObjectArray count])
                        {
                            [second addObject:[secondObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [second addObject:@"2"];
                        }
                        if ([thirdObjectArray count])
                        {
                            [third addObject:[thirdObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [third addObject:@"3"];
                        }
                        if ([fourthObjectArray count])
                        {
                            [fourth addObject:[fourthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [fourth addObject:@"4"];
                        }
                        if ([fifthObjectArray count])
                        {
                            [fifth addObject:[fifthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [fifth addObject:@"5"];
                        }
                        if ([sixthObjectArray count])
                        {
                            [sixth addObject:[sixthObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [sixth addObject:@"6"];
                        }
                        if ([seventhObjectArray count])
                        {
                            [seventh addObject:[seventhObjectArray objectAtIndex:0]];
                        }
                        else
                        {
                            [seventh addObject:@"7"];
                        }
                        
                        [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
                        
                        for (int i =0; i<[applicationTypeArray count]; i ++)
                        {
                            //  [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0]]];
                            [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
                        }
                        
                        [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:0] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:1] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:2] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:3] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:4] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:5] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:6] objectAtIndex:0], nil]];
                        
                        [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
                        
                        [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
                        
                        // [self.permitView addSubview:self.permitDescriptionView];
                        [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
                        
                        [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
                        // [self.misFilterView removeFromSuperview];
                        
                    }
                }
                
            }
        }
        else if (self.misFilterTableView.tag == 4)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                for (int i=0; i<[[notifFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"NotifPlantStatus"];
                    [[notifFilterStructuredArray objectAtIndex:0] replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[[notifFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    [[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifPlantStatus"];
                }
                
                [[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] setObject:@"X" forKey:@"NotifPlantStatus"];
                notifFilterFlag = YES;
                self.misFilterTableView.tag = 4;
                [self.misFilterTableView reloadData];
                
                if (notifFilteredArray == nil)
                {
                    notifFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [notifFilteredArray removeAllObjects];
                }
                
                if ([[[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"NotifPlantStatus"] isEqualToString:@"X"])
                {
                    [notifFilteredArray addObject:[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row]];
                }
                
                if (notifPlantWorkCenterArray == nil)
                {
                    notifPlantWorkCenterArray = [NSMutableArray new];
                }
                else
                {
                    [notifPlantWorkCenterArray removeAllObjects];
                }
                
                for (int i = 0; i< [[notifFilterStructuredArray objectAtIndex:1] count]; i++)
                {
                    
                    if ([[[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Swerk"] isEqualToString:[[[notifFilterStructuredArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Swerk"]])
                    {
                        [notifPlantWorkCenterArray addObject:[[notifFilterStructuredArray objectAtIndex:1] objectAtIndex:i]];
                    }
                }
                notifFilterFlag = YES;
                self.misFilterTableView.tag = 4;
                [self.misFilterTableView reloadData];
                
                if (array == nil)
                {
                    array = [NSMutableArray new];
                }
                else
                {
                    [array removeAllObjects];
                }
                
                if ([notifFilteredArray count])
                {
                    //                         [array removeAllObjects];
                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Comp"])
                    {
                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Comp"]];
                    }
                    else
                    {
                        [array addObject:@"0"];
                    }
                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Inpr"])
                    {
                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Inpr"]];
                        
                    }
                    else
                    {
                        [array addObject:@"0"];
                        
                    }
                    
                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Outs"])
                    {
                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Outs"]];
                        
                    }
                    else
                    {
                        [array addObject:@"0"];
                        
                    }
                    // self.pieNotifChartView.selectedIdentifier = nil;
                    [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:nil];
                    
                    [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
                }
            }
            
            else if (indexPath.section == 1)
            {
                NSLog(@"%ld",(long)indexPath.row);
                for (int i=0; i<[notifPlantWorkCenterArray count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[notifPlantWorkCenterArray objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"NotifWorkCenterStatus"];
                    [notifPlantWorkCenterArray replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[notifPlantWorkCenterArray count]; i++)
                {
                    [[notifPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifWorkCenterStatus"];
                }
                
                [[notifPlantWorkCenterArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"NotifWorkCenterStatus"];
                notifFilterFlag = YES;
                
                self.misFilterTableView.tag = 4;
                [self.misFilterTableView reloadData];
                
                if (notifFilteredArray == nil)
                {
                    notifFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [notifFilteredArray removeAllObjects];
                }
                
                if ([[[notifPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"NotifWorkCenterStatus"] isEqualToString:@"X"])
                {
                    [notifFilteredArray addObject:[notifPlantWorkCenterArray objectAtIndex:indexPath.row]];
                }
                if (array == nil)
                {
                    array = [NSMutableArray new];
                }
                else
                {
                    [array removeAllObjects];
                }
                
                if ([notifFilteredArray count])
                {
                    //                         [array removeAllObjects];
                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Comp"])
                    {
                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Comp"]];
                    }
                    else
                    {
                        [array addObject:@"0"];
                    }
                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Inpr"])
                    {
                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Inpr"]];
                        
                    }
                    else
                    {
                        [array addObject:@"0"];
                        
                    }
                    
                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Outs"])
                    {
                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Outs"]];
                        
                    }
                    else
                    {
                        [array addObject:@"0"];
                        
                    }
                    self.pieNotifChartView.selectedIdentifier = nil;
                    [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:nil];
                    
                    [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
                }
            }
        }
        else if (self.misFilterTableView.tag == 5)
        {
            
            if(detailsArray == nil || month == nil || timeArr == nil || txtArray == nil || descArray == nil ||  arrays == nil || tempDetailsarrays == nil || notifMainArray == nil || notifTypeArray == nil || finalNotifDetailsArray == nil || totalCoutArray == nil || notifQmartArray == nil || notifQmartTextArray == nil || detailFilteredArray == nil){
                detailsArray = [NSMutableArray new];
                month = [NSMutableArray new];
                timeArr = [NSMutableArray new];
                txtArray = [NSMutableArray new];
                descArray = [NSMutableArray new];
                arrays = [NSMutableArray new];
                tempDetailsarrays = [NSMutableArray new];
                notifMainArray = [NSMutableArray new];
                notifTypeArray = [NSMutableArray new];
                finalNotifDetailsArray = [NSMutableArray new];
                totalCoutArray = [NSMutableArray new];
                notifQmartArray = [NSMutableArray new];
                notifQmartTextArray = [NSMutableArray new];
                detailFilteredArray = [NSMutableArray new];
                
            }
            else
            {
                [detailsArray removeAllObjects];
                [month removeAllObjects];
                [timeArr removeAllObjects];
                [txtArray removeAllObjects];
                [descArray removeAllObjects];
                [arrays removeAllObjects];
                [tempDetailsarrays removeAllObjects];
                [notifMainArray removeAllObjects];
                [notifTypeArray removeAllObjects];
                [finalNotifDetailsArray removeAllObjects];
                [totalCoutArray removeAllObjects];
                [notifQmartArray removeAllObjects];
                [notifQmartTextArray removeAllObjects];
                [detailFilteredArray removeAllObjects];
                
            }
            [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
            tempDetailsCopyArray= [tempDetailsarrays copy];
            
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                
                for (int i=0; i<[[notifDescFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"NotifDescPlantStatus"];
                    [[notifDescFilterStructuredArray objectAtIndex:0] replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[[notifDescFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    [[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifDescPlantStatus"];
                }
                
                [[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] setObject:@"X" forKey:@"NotifDescPlantStatus"];
                
                if (notifDescFilteredArray == nil)
                {
                    notifDescFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [notifDescFilteredArray removeAllObjects];
                }
                
                if ([[[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"NotifDescPlantStatus"] isEqualToString:@"X"])
                {
                    [notifDescFilteredArray addObject:[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row]];
                }
                
                if (notifDescPlantWorkCenterArray == nil)
                {
                    notifDescPlantWorkCenterArray = [NSMutableArray new];
                }
                else
                {
                    [notifDescPlantWorkCenterArray removeAllObjects];
                }
                
                for (int i = 0; i< [[notifDescFilterStructuredArray objectAtIndex:1] count]; i++)
                {
                    
                    if ([[[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Swerk"] isEqualToString:[[[notifDescFilterStructuredArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Swerk"]])
                    {
                        [notifDescPlantWorkCenterArray addObject:[[notifDescFilterStructuredArray objectAtIndex:1] objectAtIndex:i]];
                    }
                }
                notifDescFilterFlag = YES;
                self.misFilterTableView.tag = 5;
                [self.misFilterTableView reloadData];
                
                //                if(detailsArray == nil || month == nil || timeArr == nil || txtArray == nil || descArray == nil ||  arrays == nil || tempDetailsarrays == nil || notifMainArray == nil || notifTypeArray == nil || finalNotifDetailsArray == nil || totalCoutArray == nil || notifQmartArray == nil || notifQmartTextArray == nil || detailFilteredArray == nil){
                //                    detailsArray = [NSMutableArray new];
                //                    month = [NSMutableArray new];
                //                    timeArr = [NSMutableArray new];
                //                    txtArray = [NSMutableArray new];
                //                    descArray = [NSMutableArray new];
                //                    arrays = [NSMutableArray new];
                //                    tempDetailsarrays = [NSMutableArray new];
                //                    notifMainArray = [NSMutableArray new];
                //                    notifTypeArray = [NSMutableArray new];
                //                    finalNotifDetailsArray = [NSMutableArray new];
                //                    totalCoutArray = [NSMutableArray new];
                //                    notifQmartArray = [NSMutableArray new];
                //                    notifQmartTextArray = [NSMutableArray new];
                //                    detailFilteredArray = [NSMutableArray new];
                //
                //                }
                //                else
                //                {
                //                    [detailsArray removeAllObjects];
                //                    [month removeAllObjects];
                //                    [timeArr removeAllObjects];
                //                    [txtArray removeAllObjects];
                //                    [descArray removeAllObjects];
                //                    [arrays removeAllObjects];
                //                    [tempDetailsarrays removeAllObjects];
                //                    [notifMainArray removeAllObjects];
                //                    [notifTypeArray removeAllObjects];
                //                    [finalNotifDetailsArray removeAllObjects];
                //                    [totalCoutArray removeAllObjects];
                //                    [notifQmartArray removeAllObjects];
                //                    [notifQmartTextArray removeAllObjects];
                //                    [detailFilteredArray removeAllObjects];
                //
                //                }
                
                
                //                [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
                if ([self.detailsText.text isEqualToString:@"Completed Notifications"])
                {
                    if ([notifDescFilteredArray count])
                    {
                        notifFilteredPlantString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"];
                        for (int i = 0; i<[tempDetailsarrays count]; i++)
                        {
                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                if ([finalNotifDetailsArray count])
                                {
                                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                            {
                                                
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        if (finalNotifDetailsArray == nil)
                                        {
                                            finalNotifDetailsArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifDetailsArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                        {
                                            
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    
                                                }
                                            }
                                        }
                                        
                                    }
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                        }
                        
                        for (int z=0; z<[finalNotifDetailsArray count]; z++)
                        {
                            if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                            }
                            
                        }
                    }
                }
                else if ([self.detailsText.text isEqualToString:@"In Progress Notifications"])
                {
                    if ([notifDescFilteredArray count])
                    {
                        notifFilteredPlantString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"];
                        for (int i = 0; i<[tempDetailsarrays count]; i++)
                        {
                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                if ([finalNotifDetailsArray count])
                                {
                                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:i] objectForKey:@"Swerk"]])
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        if (finalNotifDetailsArray == nil)
                                        {
                                            finalNotifDetailsArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifDetailsArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                    
                                                }
                                            }
                                        }
                                        
                                    }
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                        }
                        
                        for (int z=0; z<[finalNotifDetailsArray count]; z++)
                        {
                            if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                            }
                            
                        }
                    }
                }
                //                {
                //
                //                    //                     if ([parsedDictionary objectForKey:@"Details"])
                //                    //                     {
                //                    //                       //  tempDetailsarrays = [NSMutableArray new];
                //                    //                         [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
                //
                //                    if ([notifDescFilteredArray count])
                //                    {
                //                        //  self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
                //
                //                        NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                //
                //                        self.filteredArray = [tempDetailsarrays filteredArrayUsingPredicate:plPredicate];
                //
                //                        if ([self.filteredArray count])
                //                        {
                //                            for (int i=0; i<[self.filteredArray count]; i++)
                //                            {
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Inpr"])
                //                                {
                //                                    [timeArr addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Inpr"]];
                //
                //                                }
                //                                else
                //                                {
                //                                    [timeArr addObject:@"0"];
                //                                }
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"])
                //                                {
                //                                    [month addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"]];
                //                                }
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"])
                //                                {
                //                                    [txtArray addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"]];
                //                                }
                //                                [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                //                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                //                            }
                //                        }
                //                    }
                //
                //                }
                else if ([self.detailsText.text isEqualToString:@"Outstanding Notifications"])
                {
                    if ([notifDescFilteredArray count])
                    {
                        notifFilteredPlantString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"];
                        for (int i = 0; i<[tempDetailsarrays count]; i++)
                        {
                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                if ([finalNotifDetailsArray count])
                                {
                                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:i] objectForKey:@"Swerk"]])
                                            {
                                                
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        if (finalNotifDetailsArray == nil)
                                        {
                                            finalNotifDetailsArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifDetailsArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:i] objectForKey:@"Swerk"]])
                                        {
                                            
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                    
                                                }
                                            }
                                        }
                                        
                                    }
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                        }
                        
                        for (int z=0; z<[finalNotifDetailsArray count]; z++)
                        {
                            if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                            }
                            
                        }
                    }
                }
                //                {
                //
                //                    //                     if ([parsedDictionary objectForKey:@"Details"])
                //                    //                     {
                //                    //                         tempDetailsarrays = [NSMutableArray new];
                //                    //                         [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
                //
                //                    if ([notifDescFilteredArray count])
                //                    {
                //                        //  self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
                //
                //                        NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                //
                //                        self.filteredArray = [tempDetailsarrays filteredArrayUsingPredicate:plPredicate];
                //
                //                        if ([self.filteredArray count])
                //                        {
                //                            for (int i=0; i<[self.filteredArray count]; i++)
                //                            {
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Outs"])
                //                                {
                //                                    [timeArr addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Outs"]];
                //
                //                                }
                //                                else
                //                                {
                //                                    [timeArr addObject:@"0"];
                //                                }
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"])
                //                                {
                //                                    [month addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"]];
                //                                }
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"])
                //                                {
                //                                    [txtArray addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"]];
                //                                }
                //                                [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                //                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                //                            }
                //                        }
                //                    }
                //                }
                [self.descNotifPieChartView renderInLayer:self.descNotifPieChartView dataArray:nil];
                
                [self.descNotifPieChartView renderInLayer:self.descNotifPieChartView dataArray:detailFilteredArray];
                
                
            }
            else if (indexPath.section == 1)
            {
                NSLog(@"%ld",(long)indexPath.row);
                for (int i=0; i<[notifDescPlantWorkCenterArray count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[notifDescPlantWorkCenterArray objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"NotifDescWorkCenterStatus"];
                    [notifDescPlantWorkCenterArray replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[notifDescPlantWorkCenterArray count]; i++)
                {
                    [[notifDescPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifDescWorkCenterStatus"];
                }
                
                [[notifDescPlantWorkCenterArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"NotifDescWorkCenterStatus"];
                notifDescFilterFlag = YES;
                
                self.misFilterTableView.tag = 5;
                [self.misFilterTableView reloadData];
                
                if (notifDescFilteredArray == nil)
                {
                    notifDescFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [notifDescFilteredArray removeAllObjects];
                }
                
                if ([[[notifDescPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"NotifDescWorkCenterStatus"] isEqualToString:@"X"])
                {
                    [notifDescFilteredArray addObject:[notifDescPlantWorkCenterArray objectAtIndex:indexPath.row]];
                }
                
                //                if(detailsArray == nil || month == nil || timeArr == nil || txtArray == nil || descArray == nil ||  arrays == nil || tempDetailsarrays == nil){
                //                    detailsArray = [NSMutableArray new];
                //                    month = [NSMutableArray new];
                //                    timeArr = [NSMutableArray new];
                //                    txtArray = [NSMutableArray new];
                //                    descArray = [NSMutableArray new];
                //                    arrays = [NSMutableArray new];
                //                    tempDetailsarrays = [NSMutableArray new];
                //
                //                }
                //                else
                //                {
                //                    [detailsArray removeAllObjects];
                //                    [month removeAllObjects];
                //                    [timeArr removeAllObjects];
                //                    [txtArray removeAllObjects];
                //                    [descArray removeAllObjects];
                //                    [arrays removeAllObjects];
                //                    [tempDetailsarrays removeAllObjects];
                //
                //                }
                //                [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
                if ([self.detailsText.text isEqualToString:@"Completed Notifications"])
                {
                    //                     [tempDetailsarrays removeAllObjects];
                    //
                    //                 tempDetailsarrays = [NSMutableArray new];
                    
                    if ([notifDescFilteredArray count])
                    {
                        notifFilteredPlantString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"];
                        notifFilteredWorkCentreString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                        if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                            
                                                        }
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                        else
                        {
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    
                                                }
                                            }
                                            
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                    }
                }
                //self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
                
                //                        NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                //
                //                        self.filteredArray = [tempDetailsarrays filteredArrayUsingPredicate:plPredicate];
                //
                //                        if ([self.filteredArray count])
                //                        {
                //                            for (int i=0; i<[self.filteredArray count]; i++)
                //                            {
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Comp"])
                //                                {
                //                                    [timeArr addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Comp"]];
                //
                //                                }
                //                                else
                //                                {
                //                                    [timeArr addObject:@"0"];
                //                                }
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"])
                //                                {
                //                                    [month addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"]];
                //                                }
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"])
                //                                {
                //                                    [txtArray addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"]];
                //                                }
                //                                [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                //                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                //                            }
                //                        }
                //                    }
                //                }
                else if ([self.detailsText.text isEqualToString:@"In Progress Notifications"])
                {
                    
                    //                     if ([parsedDictionary objectForKey:@"Details"])
                    //                     {
                    //                       //  tempDetailsarrays = [NSMutableArray new];
                    //                         [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
                    
                    if ([notifDescFilteredArray count])
                    {
                        notifFilteredPlantString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"];
                        notifFilteredWorkCentreString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                        if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                        {
                            
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    
                                                    if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                    {
                                                        if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                        {
                                                            
                                                            sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                            
                                                        }
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                        else
                        {
                            for (int i = 0; i<[tempDetailsarrays count]; i++)
                            {
                                if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                                {
                                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                    if ([finalNotifDetailsArray count])
                                    {
                                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                            {
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                        
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                            
                                            if (finalNotifDetailsArray == nil)
                                            {
                                                finalNotifDetailsArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifDetailsArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                    
                                                    [finalNotifDetailsArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                                    
                                                }
                                            }
                                            
                                        }
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            
                            
                            for (int z=0; z<[finalNotifDetailsArray count]; z++)
                            {
                                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                                }
                                
                            }
                        }
                    }
                    //                    {
                    //                        //  self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
                    //
                    //                        NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                    //
                    //                        self.filteredArray = [tempDetailsarrays filteredArrayUsingPredicate:plPredicate];
                    //
                    //                        if ([self.filteredArray count])
                    //                        {
                    //                            for (int i=0; i<[self.filteredArray count]; i++)
                    //                            {
                    //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Inpr"])
                    //                                {
                    //                                    [timeArr addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Inpr"]];
                    //
                    //                                }
                    //                                else
                    //                                {
                    //                                    [timeArr addObject:@"0"];
                    //                                }
                    //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"])
                    //                                {
                    //                                    [month addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"]];
                    //                                }
                    //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"])
                    //                                {
                    //                                    [txtArray addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"]];
                    //                                }
                    //                                [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                    //                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                    //                            }
                    //                        }
                    //                    }
                    
                }
                else if ([self.detailsText.text isEqualToString:@"Outstanding Notifications"])
                {
                    notifFilteredPlantString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"];
                    notifFilteredWorkCentreString = [[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"];
                    if ([[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                    {
                        
                        for (int i = 0; i<[tempDetailsarrays count]; i++)
                        {
                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                if ([finalNotifDetailsArray count])
                                {
                                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            {
                                                
                                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                    {
                                                        
                                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        if (finalNotifDetailsArray == nil)
                                        {
                                            finalNotifDetailsArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifDetailsArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([notifFilteredPlantString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [notifFilteredWorkCentreString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                        {
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                    
                                                }
                                            }
                                        }
                                    }
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                        }
                        
                        
                        
                        for (int z=0; z<[finalNotifDetailsArray count]; z++)
                        {
                            if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                            }
                            
                        }
                    }
                    else
                    {
                        for (int i = 0; i<[tempDetailsarrays count]; i++)
                        {
                            if ([notifFilteredPlantString isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                                if ([finalNotifDetailsArray count])
                                {
                                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                        {
                                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                                {
                                                    
                                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                    
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                        
                                        if (finalNotifDetailsArray == nil)
                                        {
                                            finalNotifDetailsArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifDetailsArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                                
                                                [finalNotifDetailsArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                                    {
                                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                        {
                                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                            {
                                                
                                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                                
                                            }
                                        }
                                        
                                    }
                                    
                                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                                    
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                            
                                            [finalNotifDetailsArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                        }
                        
                        
                        
                        for (int z=0; z<[finalNotifDetailsArray count]; z++)
                        {
                            if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                                [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [detailFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                            }
                            
                        }
                    }
                }
                //                {
                //
                //                    //                     if ([parsedDictionary objectForKey:@"Details"])
                //                    //                     {
                //                    //                         tempDetailsarrays = [NSMutableArray new];
                //                    //                         [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
                //
                //                    if ([notifDescFilteredArray count])
                //                    {
                //                        //  self.pieNotifChartView.selectedIdentifier = @"DoubleClick";
                //
                //                        NSPredicate *plPredicate = [NSPredicate predicateWithFormat:@"Swerk contains[c] %@",[[notifDescFilteredArray objectAtIndex:0] objectForKey:@"Swerk"]];
                //
                //                        self.filteredArray = [tempDetailsarrays filteredArrayUsingPredicate:plPredicate];
                //
                //                        if ([self.filteredArray count])
                //                        {
                //                            for (int i=0; i<[self.filteredArray count]; i++)
                //                            {
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Outs"])
                //                                {
                //                                    [timeArr addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Outs"]];
                //
                //                                }
                //                                else
                //                                {
                //                                    [timeArr addObject:@"0"];
                //                                }
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"])
                //                                {
                //                                    [month addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmart"]];
                //                                }
                //                                if([[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"])
                //                                {
                //                                    [txtArray addObject:[[self.filteredArray objectAtIndex:i] objectForKey:@"Qmartx"]];
                //                                }
                //                                [descArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray, nil]];
                //                                [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:timeArr,descArray, nil]];
                //                            }
                //                        }
                //                    }
                //                }
                if ([detailFilteredArray count])
                {
                    [self.descNotifPieChartView renderInLayer:self.descNotifPieChartView dataArray:nil];
                    
                    [self.descNotifPieChartView renderInLayer:self.descNotifPieChartView dataArray:detailFilteredArray];
                    
                }
                else
                {
                   
                    [self showAlertMessageWithTitle:@"Information" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                    
                }
            }
        }
        else if (self.misFilterTableView.tag == 6)
        {
            if(filteredTempArrayDetails == nil)
            {
                filteredTempArrayDetails = [NSMutableArray new];
            }
            else{
                [filteredTempArrayDetails removeAllObjects];
            }
            
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                for (int i=0; i<[[notifDetailFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"NotifDetailPlantStatus"];
                    [[notifDetailFilterStructuredArray objectAtIndex:0] replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[[notifDetailFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    [[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifDetailPlantStatus"];
                }
                
                [[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] setObject:@"X" forKey:@"NotifDetailPlantStatus"];
                
                if (notifDetailFilteredArray == nil)
                {
                    notifDetailFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [notifDetailFilteredArray removeAllObjects];
                }
                
                if ([[[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"NotifDetailPlantStatus"] isEqualToString:@"X"])
                {
                    [notifDetailFilteredArray addObject:[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row]];
                }
                
                if (notifDetailPlantWorkCenterArray == nil)
                {
                    notifDetailPlantWorkCenterArray = [NSMutableArray new];
                }
                else
                {
                    [notifDetailPlantWorkCenterArray removeAllObjects];
                }
                
                for (int i = 0; i< [[notifDetailFilterStructuredArray objectAtIndex:1] count]; i++)
                {
                    
                    if ([[[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Swerk"] isEqualToString:[[[notifDetailFilterStructuredArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Swerk"]])
                    {
                        [notifDetailPlantWorkCenterArray addObject:[[notifDetailFilterStructuredArray objectAtIndex:1] objectAtIndex:i]];
                    }
                }
                notifDetailFilterFlag = YES;
                self.misFilterTableView.tag = 6;
                [self.misFilterTableView reloadData];
                
                if (filteredTempArrayDetails == nil)
                {
                    filteredTempArrayDetails = [NSMutableArray new];
                }
                else
                {
                    [filteredTempArrayDetails removeAllObjects];
                }
                
                if ([notifDetailFilteredArray count])
                {
                    if ([self.detailsText.text isEqualToString:@"In Progress Notifications"])
                    {
                        for (int i=0; i<[tempArrayDetails count]; i++)
                        {
                            
                            if ([[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                if ([[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                {
                                    //                                    if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                    //                                    {
                                    numDict = [NSMutableDictionary new];
                                    
                                    //                                        titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                        
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"])
                                    {
                                        
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Phase"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Priok"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                    }
                                    
                                    [filteredTempArrayDetails addObject:numDict];
                                    // }
                                }
                            }
                        }
                    }
                    
                    
                    
                    else if ([self.detailsText.text isEqualToString:@"Completed Notifications"])
                    {
                        for (int i=0; i<[tempArrayDetails count]; i++)
                        {
                            if ([[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                if ([[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                                {
                                    //                                    if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                    //                                    {
                                    numDict = [NSMutableDictionary new];
                                    
                                    //                                        titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                        
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"])
                                    {
                                        
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Phase"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Priok"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                    }
                                    
                                    [filteredTempArrayDetails addObject:numDict];
                                    // }
                                }
                            }
                        }
                    }
                    
                    
                    else if ([self.detailsText.text isEqualToString:@"Outstanding Notifications"])
                    {
                        for (int i=0; i<[tempArrayDetails count]; i++)
                        {
                            
                            if ([[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                if ([[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                                {
                                    //                                      if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                    //                                      {
                                    numDict = [NSMutableDictionary new];
                                    
                                    //                                          titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                        
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"])
                                    {
                                        
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Phase"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Priok"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                    }
                                    
                                    [filteredTempArrayDetails addObject:numDict];
                                }
                            }
                        }
                    }
                    
                }
                self.notifDescTableView.tag = 1;
                
                [self.notifDescTableView reloadData];
                
            }
            
            else if (indexPath.section == 1)
            {
                NSLog(@"%ld",(long)indexPath.row);
                for (int i=0; i<[notifDetailPlantWorkCenterArray count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[notifDetailPlantWorkCenterArray objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"NotifDetailWorkCenterStatus"];
                    [notifDetailPlantWorkCenterArray replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[notifDetailPlantWorkCenterArray count]; i++)
                {
                    [[notifDetailPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifDetailWorkCenterStatus"];
                }
                
                [[notifDetailPlantWorkCenterArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"NotifDetailWorkCenterStatus"];
                notifDetailFilterFlag = YES;
                
                self.misFilterTableView.tag = 6;
                [self.misFilterTableView reloadData];
                
                if (notifDetailFilteredArray == nil)
                {
                    notifDetailFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [notifDetailFilteredArray removeAllObjects];
                }
                
                if ([[[notifDetailPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"NotifDetailWorkCenterStatus"] isEqualToString:@"X"])
                {
                    [notifDetailFilteredArray addObject:[notifDetailPlantWorkCenterArray objectAtIndex:indexPath.row]];
                }
                
                if (filteredTempArrayDetails == nil)
                {
                    filteredTempArrayDetails = [NSMutableArray new];
                }
                else
                {
                    [filteredTempArrayDetails removeAllObjects];
                }
                
                if ([notifDetailFilteredArray count])
                {
                    if ([self.detailsText.text isEqualToString:@"In Progress Notifications"])
                    {
                        for (int i=0; i<[tempArrayDetails count]; i++)
                        {
                            
                            if ([[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                if ([[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"3"])
                                {
                                    //                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                    //                                        {
                                    numDict = [NSMutableDictionary new];
                                    
                                    //  titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                        
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"])
                                    {
                                        
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Phase"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Priok"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                    }
                                    
                                    [filteredTempArrayDetails addObject:numDict];
                                }
                            }
                        }
                    }
                    
                    
                    
                    else if ([self.detailsText.text isEqualToString:@"Completed Notifications"])
                    {
                        for (int i=0; i<[tempArrayDetails count]; i++)
                        {
                            
                            if ([[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                if ([[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"4"])
                                {
                                    //                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                    //                                        {
                                    numDict = [NSMutableDictionary new];
                                    
                                    //                                            titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                        
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"])
                                    {
                                        
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Phase"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Priok"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                    }
                                    
                                    [filteredTempArrayDetails addObject:numDict];
                                }
                            }
                        }
                    }
                    
                    
                    else if ([self.detailsText.text isEqualToString:@"Outstanding Notifications"])
                    {
                        for (int i=0; i<[tempArrayDetails count]; i++)
                        {
                            
                            if ([[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifDetailFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                if ([[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] isEqualToString:@"1"])
                                {
                                    //                                        if ([notifCompString isEqualToString:[[temparrays objectAtIndex:i] objectForKey:@"Qmart"]])
                                    //                                        {
                                    numDict = [NSMutableDictionary new];
                                    
                                    // titleString = [[res_obj.notifHeaderArray objectAtIndex:0] objectAtIndex:index];
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmnum"] forKey:@"Qmnum"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmnum"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmtxt"] forKey:@"Qmtxt"];
                                        
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmtxt"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Equnr"] forKey:@"Equnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Equnr"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"])
                                    {
                                        
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Eqktx"] forKey:@"Eqktx"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Eqktx"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Swerk"] forKey:@"Swerk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Swerk"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Arbpl"] forKey:@"Arbpl"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Arbpl"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Tplnr"] forKey:@"Tplnr"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Tplnr"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Phase"] forKey:@"Phase"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Phase"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Qmart"] forKey:@"Qmart"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Qmart"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ernam"] forKey:@"Ernam"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ernam"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Strmn"] forKey:@"Strmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Strmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ltrmn"] forKey:@"Ltrmn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ltrmn"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Msaus"] forKey:@"Msaus"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Msaus"];
                                    }
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Priok"] forKey:@"Priok"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Priok"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Auswk"] forKey:@"Auswk"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Auswk"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausvn"] forKey:@"Ausvn"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausvn"];
                                    }
                                    
                                    if ([[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"])
                                    {
                                        [numDict setObject:[[tempArrayDetails objectAtIndex:i] objectForKey:@"Ausbs"] forKey:@"Ausbs"];
                                    }
                                    else
                                    {
                                        [numDict setObject:@"-" forKey:@"Ausbs"];
                                    }
                                    
                                    [filteredTempArrayDetails addObject:numDict];
                                }
                            }
                        }
                    }
                }
                self.notifDescTableView.tag = 1;
                [self.notifDescTableView reloadData];
            }
        }
        else if (self.misFilterTableView.tag == 7)
        {
            if (indexPath.section == 0)
            {
                NSLog(@"%ld",(long)indexPath.row);
                
                for (int i=0; i<[brkDownFilterStructuredArray count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[brkDownFilterStructuredArray objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"BrkDownPlantStatus"];
                    [brkDownFilterStructuredArray replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[brkDownFilterStructuredArray count]; i++)
                {
                    [[brkDownFilterStructuredArray objectAtIndex:i] setObject:@"" forKey:@"BrkDownPlantStatus"];
                }
                
                [[brkDownFilterStructuredArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"BrkDownPlantStatus"];
                notifFilterFlag = YES;
                self.misFilterTableView.tag = 7;
                [self.misFilterTableView reloadData];
                
                if (brkDownFilteredArray == nil)
                {
                    brkDownFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [brkDownFilteredArray removeAllObjects];
                }
                
                if ([[[brkDownFilterStructuredArray objectAtIndex:indexPath.row] objectForKey:@"BrkDownPlantStatus"] isEqualToString:@"X"])
                {
                    [brkDownFilteredArray addObject:[brkDownFilterStructuredArray objectAtIndex:indexPath.row]];
                }
                
//                if (notifPlantWorkCenterArray == nil)
//                {
//                    notifPlantWorkCenterArray = [NSMutableArray new];
//                }
//                else
//                {
//                    [notifPlantWorkCenterArray removeAllObjects];
//                }
//                
//                for (int i = 0; i< [[notifFilterStructuredArray objectAtIndex:1] count]; i++)
//                {
//                    
//                    if ([[[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Swerk"] isEqualToString:[[[notifFilterStructuredArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Swerk"]])
//                    {
//                        [notifPlantWorkCenterArray addObject:[[notifFilterStructuredArray objectAtIndex:1] objectAtIndex:i]];
//                    }
//                }
//                notifFilterFlag = YES;
//                self.misFilterTableView.tag = 4;
//                [self.misFilterTableView reloadData];
                
//                if (array == nil)
//                {
//                    array = [NSMutableArray new];
//                }
//                else
//                {
//                    [array removeAllObjects];
//                }
//                
//                if ([notifFilteredArray count])
//                {
//                    //                         [array removeAllObjects];
//                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Comp"])
//                    {
//                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Comp"]];
//                    }
//                    else
//                    {
//                        [array addObject:@"0"];
//                    }
//                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Inpr"])
//                    {
//                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Inpr"]];
//                        
//                    }
//                    else
//                    {
//                        [array addObject:@"0"];
//                        
//                    }
//                    
//                    if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Outs"])
//                    {
//                        [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Outs"]];
//                        
//                    }
//                    else
//                    {
//                        [array addObject:@"0"];
//                        
//                    }
//                    // self.pieNotifChartView.selectedIdentifier = nil;
//                    [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:nil];
//                    
//                    [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
              //  }
           // }
//            {
//                
//                for (int i=0; i<[brkDownFilterStructuredArray count]; i++)
//                {
//                    newWrkAppDict = [[NSMutableDictionary alloc] init];
//                    oldWrkAppDict = (NSDictionary *)[brkDownFilterStructuredArray objectAtIndex:i];
//                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
//                    [newWrkAppDict setObject:@"X" forKey:@"BrkDownPlantStatus"];
//                    [brkDownFilterStructuredArray replaceObjectAtIndex:i withObject:newWrkAppDict];
//                }
//                for (int i=0; i<[brkDownFilterStructuredArray count]; i++)
//                {
//                    [[brkDownFilterStructuredArray objectAtIndex:i] setObject:@"" forKey:@"BrkDownPlantStatus"];
//                }
//                
//                [[brkDownFilterStructuredArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"BrkDownPlantStatus"];
////                notifFilterFlag = YES;
////                self.misFilterTableView.tag = 7;
////                [self.misFilterTableView reloadData];
//                if (brkDownFilteredArray == nil)
//                {
//                    brkDownFilteredArray = [NSMutableArray new];
//                }
//                else
//                {
//                    [brkDownFilteredArray removeAllObjects];
//                }
//                
//                if ([[[brkDownFilterStructuredArray objectAtIndex:indexPath.row] objectForKey:@"BrkDownPlantStatus"] isEqualToString:@"X"])
//                {
//                    [brkDownFilteredArray addObject:[brkDownFilterStructuredArray objectAtIndex:indexPath.row]];
//                }
                _brkDownPlantText.text = [[brkDownFilteredArray objectAtIndex:0] objectForKey:@"Name"];
//                if (brkdownFilteredAreaArray == nil)
//                {
//                    brkdownFilteredAreaArray = [NSMutableArray new];
//                }
//                else
//                {
//                    [brkdownFilteredAreaArray removeAllObjects];
//                }
//                
//                if ([brkDownAreaMainArray count])
//                {
//                    
//                    for (int i = 0; i< [[brkDownFilterStructuredArray objectAtIndex:1] count]; i++)
//                    {
//                        if ([[[[brkDownFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"] isEqualToString:[[[brkDownFilterStructuredArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Iwerk"]])
//                        {
//                            [brkdownFilteredAreaArray addObject:[[brkDownFilterStructuredArray objectAtIndex:1] objectAtIndex:i]];
//                        }
//                    }
//                }
                
               // brkDownFilterFlag = YES;
                
                self.misFilterTableView.tag = 7;
                [self.misFilterTableView reloadData];
                
                if ( brkDownMttrArray == nil || brkDownHoursArray == nil || brkDownCountArray == nil || brkDownMonthArray == nil || brkDownArray == nil || mttrMainArray == nil || brkDownMonthMainArray == nil)
                {
                    brkDownMttrArray = [NSMutableArray new];
                    brkDownHoursArray = [NSMutableArray new];
                    brkDownCountArray = [NSMutableArray new];
                    brkDownMonthArray = [NSMutableArray new];
                    brkDownArray = [NSMutableArray new];
                    mttrMainArray = [NSMutableArray new];
                    brkDownMonthMainArray = [NSMutableArray new];
                    
                    
                }
                else
                {
                    [brkDownMttrArray removeAllObjects];
                    [brkDownHoursArray removeAllObjects];
                    [brkDownCountArray removeAllObjects];
                    [brkDownMonthArray removeAllObjects];
                    [brkDownArray removeAllObjects];
                    [mttrMainArray removeAllObjects];
                    [brkDownMonthMainArray removeAllObjects];
                    
                }
                
                NSDateComponents *components = [[NSCalendar currentCalendar] components:NSCalendarUnitDay | NSCalendarUnitMonth | NSCalendarUnitYear fromDate:[NSDate date]];
                //NSInteger day = [components day];
                NSInteger month = [components month];
                NSInteger year = [components year];
                
                currentMonth = [NSString stringWithFormat:@"%ld0%ld",(long)year,(long)month];
                
                for (int j = 0; j<[breakdownMonthMainArray count]; j++)
                {
                    if ([[[brkDownFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"] isEqualToString:[[breakdownMonthMainArray objectAtIndex:j] objectForKey:@"Iwerk"]])
                    {
                        
                   // if ([currentMonth isEqualToString:[[breakdownMonthMainArray objectAtIndex:j] objectForKey:@"Spmon"]])
                   // {
                        [brkDownArray addObject:[breakdownMonthMainArray objectAtIndex:j]];
                   // }
                    }
                }
                
                NSString *mttrPlantString;
                int z = 0;
                for (int i = 0; i<[brkDownArray count]; i ++)
                {
                    if (mttrPlantString.length)
                    {
                        if ([mttrPlantString isEqualToString:[[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                        {
                            int x = 0;
                            x = [[mttrMainArray lastObject] intValue];
                            int y = 0;
                            y = [[[brkDownArray objectAtIndex:i] objectForKey:@"MttrHours"] intValue];
                            [mttrMainArray replaceObjectAtIndex:z withObject:[NSNumber numberWithUnsignedInteger:x+y]];
                        }
                        else
                        {
                            [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
                            z = z+1;
                            mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
                        }
                    }
                    else
                    {
                        [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
                        mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
                    }
                    
                }
                
                for (int j = 0; j<[breakdownBarGraphMonthArray count]; j++)
                {

                    if ([[[brkDownFilteredArray objectAtIndex:0] objectForKey:@"Iwerk"] isEqualToString:[[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"Iwerk"]])
                    {
                        if ([[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"Count"])
                        {
                            [brkDownCountArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"Count"]];
                        }
                        if ([[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"MttrHours"])
                        {
                            [brkDownMttrArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"MttrHours"]];
                        }
                        if ([[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"TotM2"])
                        {
                            [brkDownHoursArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"TotM2"]];
                        }
                        if ([[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"Spmon"])
                        {
                            [brkDownMonthArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:j] objectForKey:@"Spmon"]];
                        }
                    }
                }
                for (int i = 0; i<[brkDownMonthArray count]; i++)
                {
                    NSString *validFromString = [brkDownMonthArray objectAtIndex:i];
                    NSDateFormatter *df= [NSDateFormatter new];
                    [df setDateFormat:@"yyyyMM"];
                    NSDate *targetDate=[df dateFromString:validFromString];
                    [df setDateFormat:@"MMM yyyy"];
                    NSString *dateFrom=[df stringFromDate:targetDate];
                    [brkDownMonthMainArray addObject:dateFrom];
                    
                }

                if ([mttrMainArray count] >= 1)
                {
                    NSLog(@"chartValueSelected");
                    months = nil;
                    months = brkDownMonthMainArray;
                    
                    dispatch_async(dispatch_get_main_queue(), ^{
                        [self updateChartData];
                        //[self.view addSubview:brkDownView];
                    });
                }
                else
                {
 
                    [self showAlertMessageWithTitle:@"" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                    
                }

                
                
//                
//                if([mttrMainArray count] == 1)
//                {
//                    [self updateChartData];
//                    //                    [self.view addSubview:brkDownView];
//                }
                
                
            }
        }
            //else if (indexPath.section == 1)
//            {
//                for (int i=0; i<[brkdownFilteredAreaArray count]; i++)
//                {
//                    newWrkAppDict = [[NSMutableDictionary alloc] init];
//                    oldWrkAppDict = (NSDictionary *)[brkdownFilteredAreaArray objectAtIndex:i];
//                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
//                    [newWrkAppDict setObject:@"X" forKey:@"BrkDownAreaStatus"];
//                    [brkdownFilteredAreaArray replaceObjectAtIndex:i withObject:newWrkAppDict];
//                }
//                
//                for (int i=0; i<[brkdownFilteredAreaArray count]; i++)
//                {
//                    [[brkdownFilteredAreaArray objectAtIndex:i] setObject:@"" forKey:@"BrkDownAreaStatus"];
//                }
//                
//                [[brkdownFilteredAreaArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"BrkDownAreaStatus"];
//                brkDownFilterFlag = YES;
//                
//                self.misFilterTableView.tag = 7;
//                [self.misFilterTableView reloadData];
//                
//                if (notifDetailFilteredArray == nil)
//                {
//                    brkDownFilteredArray = [NSMutableArray new];
//                }
//                else
//                {
//                    [brkDownFilteredArray removeAllObjects];
//                }
//                
//                if ([[[brkdownFilteredAreaArray objectAtIndex:indexPath.row] objectForKey:@"BrkDownAreaStatus"] isEqualToString:@"X"])
//                {
//                    [brkDownFilteredArray addObject:[brkdownFilteredAreaArray objectAtIndex:indexPath.row]];
//                }
//            }
       // }
        
        else if (self.misFilterTableView.tag == 8)
        {
            //             if ((superview = [self.notifBarchartView superview]))
            //             {
            //                [self.notifBarchartView removeFromSuperview];
            //                [_chart removeFromSuperview];
            
            [self.notifBarchartView removeFromSuperview];
            [_chart removeFromSuperview];
            //}
            
            if (complianceArray == nil || notifBarchartText == nil || finalNotifBarchartArray == nil || month == nil || notifTypeArray == nil || notifMainArray ==nil || notifBarchartTextDescArray == nil || notifQmartArray == nil || totalCoutArray == nil || notifTotalArray == nil || notifTotalMainArray == nil)
            {
                complianceArray = [NSMutableArray new];
                notifBarchartText = [NSMutableArray new];
                finalNotifBarchartArray = [NSMutableArray new];
                month = [NSMutableArray new];
                notifTypeArray = [NSMutableArray new];
                notifMainArray = [NSMutableArray new];
                notifBarchartTextDescArray = [NSMutableArray new];
                notifQmartArray = [NSMutableArray new];
                totalCoutArray = [NSMutableArray new];
                notifTotalArray = [NSMutableArray new];
                notifTotalMainArray = [NSMutableArray new];
                //                notifComlianceMainArray = [NSMutableArray new];
                
            }
            else
            {
                [complianceArray removeAllObjects];
                [notifBarchartText removeAllObjects];
                [finalNotifBarchartArray removeAllObjects];
                [month removeAllObjects];
                [notifTypeArray removeAllObjects];
                [notifMainArray removeAllObjects];
                [notifBarchartTextDescArray removeAllObjects];
                [notifQmartArray removeAllObjects];
                [totalCoutArray removeAllObjects];
                [notifTotalArray removeAllObjects];
                [notifTotalMainArray removeAllObjects];
                // [notifComlianceMainArray removeAllObjects];
                
            }
            // notifComlianceMainArray = [ res_obj.misDictionary objectForKey:@"Details"];
            
            if (indexPath.section == 0)
            {
                [self.notifBarchartView removeFromSuperview];
                [_chart removeFromSuperview];
                // self.notifFilterBackGround.hidden = NO;
                for (int i=0; i<[[notifBarFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"NotifBarPlantStatus"];
                    [[notifBarFilterStructuredArray objectAtIndex:0] replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                for (int i=0; i<[[notifBarFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    [[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifBarPlantStatus"];
                }
                
                [[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] setObject:@"X" forKey:@"NotifBarPlantStatus"];
                
                if (brkDownFilteredArray == nil)
                {
                    notifBarFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [notifBarFilteredArray removeAllObjects];
                }
                
                if ([[[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"NotifBarPlantStatus"] isEqualToString:@"X"])
                {
                    [notifBarFilteredArray addObject:[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row]];
                }
                if (notifBarPlantWorkCenterArray == nil)
                {
                    notifBarPlantWorkCenterArray = [NSMutableArray new];
                }
                else
                {
                    [notifBarPlantWorkCenterArray removeAllObjects];
                }
                
                for (int i = 0; i< [[notifBarFilterStructuredArray objectAtIndex:1] count]; i++)
                {
                    if ([[[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:indexPath.row] objectForKey:@"Swerk"] isEqualToString:[[[notifBarFilterStructuredArray objectAtIndex:1] objectAtIndex:i] objectForKey:@"Swerk"]])
                    {
                        [notifBarPlantWorkCenterArray addObject:[[notifBarFilterStructuredArray objectAtIndex:1] objectAtIndex:i]];
                    }
                }
                
                notifBarFilterFlag = YES;
                
                self.misFilterTableView.tag = 8;
                [self.misFilterTableView reloadData];
                
                if ([notifBarFilteredArray count])
                {
                    
                    notifComplianceSecondArray = [notifComlianceMainArray copy];
                    if ([selectedFlag isEqualToString:@"Notification"])
                    {
                        
                    if ([notifComlianceMainArray count])
                    {
                        for (int i = 0; i<[notifComlianceMainArray count]; i++)
                        {
                            if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                
                                
                                //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                //                {
                                //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                //                                        {
                                //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                //                                                {
                                textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Qmart"];
                                // }
                                if ([finalNotifBarchartArray count])
                                {
                                    for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        NSInteger notifTotal = 0;
                                        
                                        for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                        {
                                            if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                            {
                                                
                                                //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                //                                {
                                                
                                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                                        // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                        
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                        
                                        if (finalNotifBarchartArray == nil)
                                        {
                                            finalNotifBarchartArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifBarchartArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                
                                                [finalNotifBarchartArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    NSInteger notifTotal = 0;
                                    for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                        
                                    {
                                        if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                        {
                                            
                                            //                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            //                            {
                                            if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    
                                                    sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                    
                                                }
                                            }
                                        }
                                    }
                                    
                                    [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                                    //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                    
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                            
                                            [finalNotifBarchartArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                        }
                        
                        for (int z=0; z<[finalNotifBarchartArray count]; z++)
                        {
                            if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                                [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                                // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                            }
                            
                        }
                        if ([notifBarchartTextDescArray count])
                        {
                            for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                            {
                                double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                                NSLog(@"%f",compValue);
                                double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                                NSLog(@"%f",totalValue);
                                double mulValue = compValue/totalValue;
                                NSLog(@"%f",mulValue);
                                float value = (mulValue * 100);
                                NSLog(@"%.f",value);
                                NSString *symbol = @"%";
                                [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                            }
                        }
                    }
                    }
                    else if ([selectedFlag isEqualToString:@"Order"])
                    {
                        
                        if ([notifComlianceMainArray count])
                        {
                            for (int i = 0; i<[notifComlianceMainArray count]; i++)
                            {
                                if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Swerk"]])
                                {
                                    
                                    
                                    //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    //                {
                                    //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    //                                        {
                                    //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                    //                                                {
                                    textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Auart"];
                                    // }
                                    if ([finalNotifBarchartArray count])
                                    {
                                        for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Auart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            NSInteger notifTotal = 0;
                                            
                                            for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                            {
                                                if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                                {
                                                    
                                                    //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                    //                                {
                                                    
                                                    if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                    {
                                                        if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                        {
                                                            
                                                            sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                            notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                            
                                                        }
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                            // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                            
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                            
                                            if (finalNotifBarchartArray == nil)
                                            {
                                                finalNotifBarchartArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifBarchartArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                    // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                    
                                                    [finalNotifBarchartArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        NSInteger notifTotal = 0;
                                        for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                            
                                        {
                                            if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                            {
                                                
                                                //                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                //                            {
                                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                {
                                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                        }
                                        
                                        [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                        //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                        
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                
                                                [finalNotifBarchartArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            for (int z=0; z<[finalNotifBarchartArray count]; z++)
                            {
                                if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                                    [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Auart"]];
                                    [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                                    // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                                }
                                
                            }
                            if ([notifBarchartTextDescArray count])
                            {
                                for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                                {
                                    double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                                    NSLog(@"%f",compValue);
                                    double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                                    NSLog(@"%f",totalValue);
                                    double mulValue = compValue/totalValue;
                                    NSLog(@"%f",mulValue);
                                    float value = (mulValue * 100);
                                    NSLog(@"%.f",value);
                                    NSString *symbol = @"%";
                                    [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                                }
                            }
                        }
                    }
                    //  [_chart removeFromSuperview];
                    //                    [self.view addSubview:_barchartView];
                    
                    [self barchart];
                    [_chart reloadData];
                    
                      [self.notifBarchartView setFrame:CGRectMake(0, 0, superview.frame.size.width, superview.frame.size.height)];
                    [superview addSubview:self.notifBarchartView];
                    [superview addSubview:_chart];
                }
            }
            else if (indexPath.section == 1)
            {
                [self.notifBarchartView removeFromSuperview];
                [_chart removeFromSuperview];
                for (int i=0; i<[notifBarPlantWorkCenterArray count]; i++)
                {
                    newWrkAppDict = [[NSMutableDictionary alloc] init];
                    oldWrkAppDict = (NSDictionary *)[notifBarPlantWorkCenterArray objectAtIndex:i];
                    [newWrkAppDict addEntriesFromDictionary:oldWrkAppDict];
                    [newWrkAppDict setObject:@"X" forKey:@"NotifBarPlantWorkCenterStatus"];
                    [notifBarPlantWorkCenterArray replaceObjectAtIndex:i withObject:newWrkAppDict];
                }
                
                for (int i=0; i<[notifBarPlantWorkCenterArray count]; i++)
                {
                    [[notifBarPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifBarPlantWorkCenterStatus"];
                }
                
                [[notifBarPlantWorkCenterArray objectAtIndex:indexPath.row] setObject:@"X" forKey:@"NotifBarPlantWorkCenterStatus"];
                notifBarFilterFlag = YES;
                
                self.misFilterTableView.tag = 8;
                [self.misFilterTableView reloadData];
                if (notifBarFilteredArray == nil)
                {
                    notifBarFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [notifBarFilteredArray removeAllObjects];
                }
                if ([[[notifBarPlantWorkCenterArray objectAtIndex:indexPath.row] objectForKey:@"NotifBarPlantWorkCenterStatus"] isEqualToString:@"X"])
                {
                    [notifBarFilteredArray addObject:[notifBarPlantWorkCenterArray objectAtIndex:indexPath.row]];
                }
                if ([notifBarFilteredArray count])
                {
                    if ([[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                    {
                        
                        notifComplianceSecondArray = [notifComlianceMainArray copy];
                        
                        if ([selectedFlag isEqualToString:@"Notification"])
                        {
                    
                        if ([notifComlianceMainArray count])
                        {
                            for (int i = 0; i<[notifComlianceMainArray count]; i++)
                            {
                                if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                {
                                    
                                    
                                    //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    //                {
                                    //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    //                                        {
                                    //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                    //                                                {
                                    textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Qmart"];
                                    // }
                                    if ([finalNotifBarchartArray count])
                                    {
                                        for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                                        {
                                            if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                            {
                                                notifPieChart = YES;
                                            }
                                        }
                                        if (notifPieChart == YES)
                                        {
                                            notifPieChart = NO;
                                        }
                                        else
                                        {
                                            NSInteger sum = 0;
                                            NSInteger notifTotal = 0;
                                            
                                            for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                            {
                                                if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    
                                                    //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                    //                                {
                                                    
                                                    if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                    {
                                                        if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                        {
                                                            
                                                            sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                            notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                            
                                                        }
                                                        //                                            else
                                                        //                                            {
                                                        //
                                                        //                                            }
                                                    }
                                                }
                                                
                                            }
                                            
                                            
                                            [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                                            // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                            
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                            
                                            if (finalNotifBarchartArray == nil)
                                            {
                                                finalNotifBarchartArray = [NSMutableArray new];
                                            }
                                            else
                                            {
                                                [finalNotifBarchartArray removeAllObjects];
                                            }
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                    // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                    
                                                    [finalNotifBarchartArray addObject:tempDictionary];
                                                }
                                            }
                                            
                                        }
                                    }
                                    
                                    
                                    else
                                    {
                                        NSInteger sum = 0;
                                        NSInteger notifTotal = 0;
                                        for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                            
                                        {
                                            if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            {
                                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                                {
                                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                    }
                                                    //                                        else
                                                    //                                        {
                                                    //
                                                    //                                        }
                                                }
                                            }
                                        }
                                        
                                        [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                                        //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                        
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                                // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                
                                                [finalNotifBarchartArray addObject:tempDictionary];
                                            }
                                        }
                                    }
                                }
                            }
                            
                            for (int z=0; z<[finalNotifBarchartArray count]; z++)
                            {
                                if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                {
                                    [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                                    [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmart"]];
                                    [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                                    // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                    // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                    [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                                }
                                
                            }
                            if ([notifBarchartTextDescArray count])
                            {
                                
                                for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                                {
                                    double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                                    NSLog(@"%f",compValue);
                                    double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                                    NSLog(@"%f",totalValue);
                                    double mulValue = compValue/totalValue;
                                    NSLog(@"%f",mulValue);
                                    float value = (mulValue * 100);
                                    NSLog(@"%.f",value);
                                    
                                    NSString *symbol = @"%";
                                    [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                                }
                            }
                        }
                        }
                        else if ([selectedFlag isEqualToString:@"Order"])
                        {
                            
                            if ([notifComlianceMainArray count])
                            {
                                for (int i = 0; i<[notifComlianceMainArray count]; i++)
                                {
                                    if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                                    {
                                        
                                        
                                        //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        //                {
                                        //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                        //                                        {
                                        //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                        //                                                {
                                        textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Auart"];
                                        // }
                                        if ([finalNotifBarchartArray count])
                                        {
                                            for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                                            {
                                                if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Auart"]])
                                                {
                                                    notifPieChart = YES;
                                                }
                                            }
                                            if (notifPieChart == YES)
                                            {
                                                notifPieChart = NO;
                                            }
                                            else
                                            {
                                                NSInteger sum = 0;
                                                NSInteger notifTotal = 0;
                                                
                                                for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                                {
                                                    if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                    {
                                                        
                                                        //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                        //                                {
                                                        
                                                        if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                        {
                                                            if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                            {
                                                                
                                                                sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                                notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                                
                                                            }
                                                            //                                            else
                                                            //                                            {
                                                            //
                                                            //                                            }
                                                        }
                                                    }
                                                    
                                                }
                                                
                                                
                                                [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                                // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                                [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                                
                                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                                
                                                if (finalNotifBarchartArray == nil)
                                                {
                                                    finalNotifBarchartArray = [NSMutableArray new];
                                                }
                                                else
                                                {
                                                    [finalNotifBarchartArray removeAllObjects];
                                                }
                                                
                                                if ([notifMainArray count]) {
                                                    
                                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                    {
                                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                        
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                        // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                        
                                                        [finalNotifBarchartArray addObject:tempDictionary];
                                                    }
                                                }
                                                
                                            }
                                        }
                                        
                                        
                                        else
                                        {
                                            NSInteger sum = 0;
                                            NSInteger notifTotal = 0;
                                            for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                                
                                            {
                                                if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                {
                                                    if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                    {
                                                        if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                        {
                                                            sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                            notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                        }
                                                        //                                        else
                                                        //                                        {
                                                        //
                                                        //                                        }
                                                    }
                                                }
                                            }
                                            
                                            [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                            //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                            [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                            
                                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                            
                                            if ([notifMainArray count]) {
                                                
                                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                                {
                                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                    
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                    // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                    
                                                    [finalNotifBarchartArray addObject:tempDictionary];
                                                }
                                            }
                                        }
                                    }
                                }
                                
                                for (int z=0; z<[finalNotifBarchartArray count]; z++)
                                {
                                    if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                                    {
                                        [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                                        [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Auart"]];
                                        [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                                        // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                        // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                        [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                                    }
                                    
                                }
                                if ([notifBarchartTextDescArray count])
                                {
                                    
                                    for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                                    {
                                        double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                                        NSLog(@"%f",compValue);
                                        double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                                        NSLog(@"%f",totalValue);
                                        double mulValue = compValue/totalValue;
                                        NSLog(@"%f",mulValue);
                                        float value = (mulValue * 100);
                                        NSLog(@"%.f",value);
                                        
                                        NSString *symbol = @"%";
                                        [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                                    }
                                }
                            }
                        }
                    }
                    //  [_chart removeFromSuperview];
                    //  [self.notifBarchartView removeFromSuperview];
                    //  [_chart removeFromSuperview];
                    if ([complianceArray count])
                    {
                        [self barchart];
                        [_chart reloadData];
                        [superview addSubview:self.notifBarchartView];
                        [superview addSubview:_chart];
                    }
                    else
                    {
                    
                        [self showAlertMessageWithTitle:@"" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                        
                    }
                    
                }
            }
        }
    }
    
    else if (tableView == self.availabilityDetailTableView)
    {
        NSLog(@"index %ld",(long)indexPath.row);
        if (self.availabilityDetailTableView.tag == 1)
        {
            self.availabilityNotifLbel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
            self.availabilityNotifNumLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
            if ([[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
            {
                self.availabilityFunLocLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
            }
            else
            {
                self.availabilityFunLocLabel.text = @"-";
            }
            
            self.availabilityEquipNumLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            self.availabilityEquipTextLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Eqktu"];
            // self.availabilityMalFuncLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
            //  self.availabilityMalFuncEndDateLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
            self.availabilityStartTimeLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Auztv"];
            self.availabilityEndTimeLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Auztb"];
            self.availabilityPlantLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Iwerk"];
            self.availabilityFrequencyLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Count"];
            self.availabilityBrkdownTimeLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"TotM2"];
            self.availabilityOfflineLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"TotM3"];
            self.availabilityLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"WitHrs"];
            self.availabilityPercentLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"WitoutHrs"];
            self.hoursLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"MttrHours"];
            self.minLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"MttrMinutes"];
            self.mtbrHourLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"MtbrHours"];
            self.mtbrMinLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"MtbrMinutes"];
            self.mtbrPMLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"MtbfPm"];
            
            if ([[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"MtbfMin"])
            {
                self.mtbrMinPMLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"MtbfMin"];
                
            }
            else
            {
                self.mtbrMinPMLabel.text = @"-";
            }
            self.radioLabel.text = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Bdpmrat"];
            
            if ([[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
            {
                NSString *availabilityStrtDate;
                availabilityStrtDate = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                
                NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
                
                [dateFormatter setDateFormat:@"yyyy-MM-dd"];
                NSDate *dateFromString = [[NSDate alloc] init];
                [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                
                dateFromString = [dateFormatter dateFromString:availabilityStrtDate];
                
                dateFormatter = [[NSDateFormatter alloc] init];
                [dateFormatter setDateFormat:@"dd MMM yyyy"];
                NSString *stringDate = [dateFormatter stringFromDate:dateFromString];
                self.availabilityMalFuncLabel.text = stringDate;
                NSLog(@"%@", stringDate);
            }
            else
            {
                self.availabilityMalFuncLabel.text = @"-";
            }
            if ([[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
            {
                
                NSString *availabilityEDate;
                availabilityEDate = [[self.availabilitySearchArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                
                NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
                
                [dateFormatter setDateFormat:@"yyyy-MM-dd"];
                NSDate *dateFromString = [[NSDate alloc] init];
                [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                
                dateFromString = [dateFormatter dateFromString:availabilityEDate];
                
                dateFormatter = [[NSDateFormatter alloc] init];
                [dateFormatter setDateFormat:@"dd MMM yyyy"];
                NSString *stringDate = [dateFormatter stringFromDate:dateFromString];
                self.availabilityMalFuncEndDateLabel.text = stringDate;
                NSLog(@"%@", stringDate);
                
            }
            else
            {
                self.availabilityMalFuncEndDateLabel.text = @"-";
            }
        }
        
        else
        {
            self.availabilityNotifLbel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
            self.availabilityNotifNumLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
            if ([[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
            {
                self.availabilityFunLocLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
            }
            else
            {
                self.availabilityFunLocLabel.text = @"-";
            }
            
            self.availabilityEquipNumLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            self.availabilityEquipTextLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Eqktu"];
            // self.availabilityMalFuncLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
            //  self.availabilityMalFuncEndDateLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
            self.availabilityStartTimeLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Auztv"];
            self.availabilityEndTimeLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Auztb"];
            self.availabilityPlantLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Iwerk"];
            self.availabilityFrequencyLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Count"];
            self.availabilityBrkdownTimeLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"TotM2"];
            self.availabilityOfflineLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"TotM3"];
            self.availabilityLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"WitHrs"];
            self.availabilityPercentLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"WitoutHrs"];
            self.hoursLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"MttrHours"];
            self.minLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"MttrMinutes"];
            self.mtbrHourLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"MtbrHours"];
            self.mtbrMinLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"MtbrMinutes"];
            self.mtbrPMLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"MtbfPm"];
            if ([[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"MtbfMin"])
            {
                self.mtbrMinPMLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"MtbfMin"];
                
            }
            else
            {
                self.mtbrMinPMLabel.text = @"-";
            }
            self.radioLabel.text = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Bdpmrat"];
            
            if ([[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
            {
                NSString *availabilityStrtDate;
                availabilityStrtDate = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                
                NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
                
                [dateFormatter setDateFormat:@"yyyy-MM-dd"];
                NSDate *dateFromString = [[NSDate alloc] init];
                [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                
                dateFromString = [dateFormatter dateFromString:availabilityStrtDate];
                
                dateFormatter = [[NSDateFormatter alloc] init];
                [dateFormatter setDateFormat:@"dd MMM yyyy"];
                NSString *stringDate = [dateFormatter stringFromDate:dateFromString];
                self.availabilityMalFuncLabel.text = stringDate;
                NSLog(@"%@", stringDate);
            }
            else
            {
                self.availabilityMalFuncLabel.text = @"-";
            }
            if ([[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
            {
                
                NSString *availabilityEDate;
                availabilityEDate = [[[res_obj.misDictionary objectForKey:@"Detail"] objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                
                NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
                
                [dateFormatter setDateFormat:@"yyyy-MM-dd"];
                NSDate *dateFromString = [[NSDate alloc] init];
                [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                
                dateFromString = [dateFormatter dateFromString:availabilityEDate];
                
                dateFormatter = [[NSDateFormatter alloc] init];
                [dateFormatter setDateFormat:@"dd MMM yyyy"];
                NSString *stringDate = [dateFormatter stringFromDate:dateFromString];
                self.availabilityMalFuncEndDateLabel.text = stringDate;
                NSLog(@"%@", stringDate);
                
            }
            else
            {
                self.availabilityMalFuncEndDateLabel.text = @"-";
            }
        }
        [self.availabilityDetailView addSubview:self.availabilityDescriptionView];
        
    }
    else if (tableView == self.notifDescTableView)
    {
        if (permitPriorityArray == nil)
        {
            permitPriorityArray = [NSMutableArray new];
        }
        else
        {
            permitPriorityArray = [NSMutableArray new];
        }

        if ([selectedFlag isEqualToString:@"Notification"])
        {
           self.misDescrpnHeader.text = @"Notification Analysis";
        
        if (self.notifDescTableView.tag == 1)
        {
            
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
            {
                self.notifNumberLabel.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
            }
            else
            {
                self.notifNumberLabel.text = @"-";
                
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.equipNumberLabel.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            
            else
            {
                self.equipNumberLabel.text = @"-";
                
            }
            
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"])
            {
                self.notifDescriptionLabel.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"];
                
            }
            else
            {
                self.notifDescriptionLabel.text = @"-";
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
            {
                self.equipDescriptionLabel.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                
            }
            else
            {
                self.equipDescriptionLabel.text = @"-";
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
            {
                self.plantLabel.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                
            }
            else
            {
                self.plantLabel.text = @"-";
                
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
            {
                self.workCenterLabel.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                
            }
            else
            {
                self.workCenterLabel.text = @"-";
                
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"])
            {
                if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"1"])
                {
                    self.notifPhaseText.text = @"Outstanding";
                }
                else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                {
                    self.notifPhaseText.text = @"In Progress";
                    
                }
                else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"4"])
                {
                    self.notifPhaseText.text = @"Completed";
                    
                }
                
            }
            else
            {
                self.notifPhaseText.text = @"-";
                
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmart"])
            {
                self.notifTypeTxtDesc.text = notifTypeTextString;
                
                // self.notifTypeTxtDesc.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                
            }
            else
            {
                self.notifTypeTxtDesc.text = @"-";
                
            }
            
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.notifCreatedBy.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            else
            {
                self.notifCreatedBy.text = @"-";
                
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Strmn"])
            {
                if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Strmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifStartDate.text = @"-";
                }
                else
                {
                    NSString *notifStartDate;
                    notifStartDate = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Strmn"];
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifStartDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
            }
            else
            {
                self.notifStartDate.text = @"-";
                
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"])
            {
                if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifEndDate.text = @"-";
                }
                else
                {
                    NSString *notifEndDate;
                    notifEndDate = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifEndDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.notifEndDate.text = @"-";
                
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
            {
                self.notifFuncLocation.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                
            }
            else
            {
                self.notifFuncLocation.text = @"-";
                
            }
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
            {
                self.notifBrkTitle.hidden = NO;
                
                if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
                }
                else
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
                    
                }
                
            }
            else
            {
                self.notifBrkTitle.hidden = YES;
            }
            
            if (![[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"-"])
            {
                if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"1"])
                {
                    notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"2"])
                {
                    notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"3"])
                {
                    notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"4"])
                {
                    notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"5"])
                {
                    notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                [permitPriorityArray addObjectsFromArray:[[DataBase sharedInstance]getPriorityDescForNotificationReport:notifPriorityString]];
                if ([permitPriorityArray count])
                {
                    self.priorityText.text = [permitPriorityArray objectAtIndex:0];
                    
                }
                
            }
            else
            {
                self.priorityText.text = @"-";
                
            }
            
            
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auswk"])
            {
                self.sysConditionText.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auswk"];
                
            }
            else
            {
                self.sysConditionText.text = @"-";
                
            }
            
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
            {
                if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
                {
                    self.sysStartDateText.text = @"-";
                }
                else
                {
                    NSString *sysStrtDate;
                    sysStrtDate = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysStartDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysStartDateText.text = @"-";
                
            }
            
            if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
            {
                if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
                {
                    self.sysEndDateText.text = @"-";
                }
                else
                {
                    NSString *sysEndDate;
                    sysEndDate = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysEndDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysEndDateText.text = @"-";
                
            }
            
            
        }
        else if (self.notifDescTableView.tag == 2)
        {
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
            {
                self.notifNumberLabel.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
            }
            else
            {
                self.notifNumberLabel.text = @"-";
                
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.equipNumberLabel.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            
            else
            {
                self.equipNumberLabel.text = @"-";
                
            }
            
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"])
            {
                self.notifDescriptionLabel.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"];
                
            }
            else
            {
                self.notifDescriptionLabel.text = @"-";
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
            {
                self.equipDescriptionLabel.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                
            }
            else
            {
                self.equipDescriptionLabel.text = @"-";
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
            {
                self.plantLabel.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                
            }
            else
            {
                self.plantLabel.text = @"-";
                
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
            {
                self.workCenterLabel.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                
            }
            else
            {
                self.workCenterLabel.text = @"-";
                
            }
            
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Phase"])
            {
                if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"1"])
                {
                    self.notifPhaseText.text = @"Outstanding";
                }
                else if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                {
                    self.notifPhaseText.text = @"In Progress";
                    
                }
                else if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"4"])
                {
                    self.notifPhaseText.text = @"Completed";
                    
                }
                
            }
            else
            {
                self.notifPhaseText.text = @"-";
                
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"])
            {
                self.notifTypeTxtDesc.text = notifTypeTextString;
                
                //                 self.notifTypeTxtDesc.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                
            }
            else
            {
                self.notifTypeTxtDesc.text = @"-";
                
            }
            
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.notifCreatedBy.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            else
            {
                self.notifCreatedBy.text = @"-";
                
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"])
            {
                if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifStartDate.text = @"-";
                }
                else
                {
                    NSString *notifStartDate;
                    notifStartDate = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"];
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifStartDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
            }
            else
            {
                self.notifStartDate.text = @"-";
                
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"])
            {
                if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifEndDate.text = @"-";
                }
                else
                {
                    NSString *notifEndDate;
                    notifEndDate = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifEndDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
                
            }
            else
            {
                self.notifEndDate.text = @"-";
                
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
            {
                self.notifFuncLocation.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                
            }
            else
            {
                self.notifFuncLocation.text = @"-";
                
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
            {
                self.notifBrkTitle.hidden = NO;
                
                if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
                }
                else
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
                    
                }
                
            }
            else
            {
                self.notifBrkTitle.hidden = YES;
            }
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Priok"])
            {
                self.priorityText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                
            }
            else
            {
                self.priorityText.text = @"-";
                
            }
            
            
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Auswk"])
            {
                self.sysConditionText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Auswk"];
                
            }
            else
            {
                self.sysConditionText.text = @"-";
                
            }
            
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
            {
                if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
                {
                    self.sysStartDateText.text = @"-";
                }
                else
                {
                    NSString *sysStrtDate;
                    sysStrtDate = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysStartDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysStartDateText.text = @"-";
                
            }
            
            if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
            {
                if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
                {
                    self.sysEndDateText.text = @"-";
                }
                else
                {
                    NSString *sysEndDate;
                    sysEndDate = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysEndDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysEndDateText.text = @"-";
                
            }
            
        }
        else if (self.notifDescTableView.tag == 3)
        {
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
            {
                self.notifNumberLabel.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
            }
            else
            {
                self.notifNumberLabel.text = @"-";
                
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.equipNumberLabel.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            
            else
            {
                self.equipNumberLabel.text = @"-";
                
            }
            
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"])
            {
                self.notifDescriptionLabel.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"];
                
            }
            else
            {
                self.notifDescriptionLabel.text = @"-";
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
            {
                self.equipDescriptionLabel.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                
            }
            else
            {
                self.equipDescriptionLabel.text = @"-";
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
            {
                self.plantLabel.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                
            }
            else
            {
                self.plantLabel.text = @"-";
                
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
            {
                self.workCenterLabel.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                
            }
            else
            {
                self.workCenterLabel.text = @"-";
                
            }
            
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Phase"])
            {
                if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"1"])
                {
                    self.notifPhaseText.text = @"Outstanding";
                }
                else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                {
                    self.notifPhaseText.text = @"In Progress";
                    
                }
                else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"4"])
                {
                    self.notifPhaseText.text = @"Completed";
                    
                }
                
            }
            else
            {
                self.notifPhaseText.text = @"-";
                
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"])
            {
                self.notifTypeTxtDesc.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                
            }
            else
            {
                self.notifTypeTxtDesc.text = @"-";
                
            }
            
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.notifCreatedBy.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            else
            {
                self.notifCreatedBy.text = @"-";
                
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"])
            {
                if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifStartDate.text = @"-";
                }
                else
                {
                    NSString *notifStartDate;
                    notifStartDate = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"];
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifStartDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.notifStartDate.text = @"-";
                
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"])
            {
                if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifEndDate.text = @"-";
                }
                else
                {
                    NSString *notifEndDate;
                    notifEndDate = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifEndDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.notifEndDate.text = @"-";
                
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
            {
                self.notifFuncLocation.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                
            }
            else
            {
                self.notifFuncLocation.text = @"-";
                
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
            {
                self.notifBrkTitle.hidden = NO;
                
                if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
                }
                else
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
                    
                }
                
            }
            else
            {
                self.notifBrkTitle.hidden = YES;
            }
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"])
            {
                self.priorityText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                
            }
            else
            {
                self.priorityText.text = @"-";
                
            }
            
            
            if (![[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"-"])
            {
                if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"1"])
                {
                    notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"2"])
                {
                    notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"3"])
                {
                    notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"4"])
                {
                    notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"5"])
                {
                    notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                [permitPriorityArray addObjectsFromArray:[[DataBase sharedInstance]getPriorityDescForNotificationReport:notifPriorityString]];
                if ([permitPriorityArray count])
                {
                    self.priorityText.text = [permitPriorityArray objectAtIndex:0];
                    
                }
                
            }
            else
            {
                self.priorityText.text = @"-";
                
            }
            
            
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
            {
                if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
                {
                    self.sysStartDateText.text = @"-";
                }
                else
                {
                    NSString *sysStrtDate;
                    sysStrtDate = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysStartDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysStartDateText.text = @"-";
                
            }
            
            if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
            {
                if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
                {
                    self.sysEndDateText.text = @"-";
                }
                else
                {
                    NSString *sysEndDate;
                    sysEndDate = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysEndDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysEndDateText.text = @"-";
                
            }
            
            
        }
        else if (self.notifDescTableView.tag == 4)
        {
            
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
            {
                self.notifNumberLabel.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
            }
            else
            {
                self.notifNumberLabel.text = @"-";
                
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.equipNumberLabel.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            
            else
            {
                self.equipNumberLabel.text = @"-";
                
            }
            
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"])
            {
                self.notifDescriptionLabel.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"];
                
            }
            else
            {
                self.notifDescriptionLabel.text = @"-";
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
            {
                self.equipDescriptionLabel.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                
            }
            else
            {
                self.equipDescriptionLabel.text = @"-";
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
            {
                self.plantLabel.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                
            }
            else
            {
                self.plantLabel.text = @"-";
                
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
            {
                self.workCenterLabel.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                
            }
            else
            {
                self.workCenterLabel.text = @"-";
                
            }
            
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Phase"])
            {
                if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"1"])
                {
                    self.notifPhaseText.text = @"Outstanding";
                }
                else if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                {
                    self.notifPhaseText.text = @"In Progress";
                    
                }
                else if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"4"])
                {
                    self.notifPhaseText.text = @"Completed";
                    
                }
                
            }
            else
            {
                self.notifPhaseText.text = @"-";
                
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"])
            {
                self.notifTypeTxtDesc.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                
            }
            else
            {
                self.notifTypeTxtDesc.text = @"-";
                
            }
            
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.notifCreatedBy.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            else
            {
                self.notifCreatedBy.text = @"-";
                
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"])
            {
                if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifStartDate.text = @"-";
                }
                else
                {
                    NSString *notifStartDate;
                    notifStartDate = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Strmn"];
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifStartDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
            }
            else
            {
                self.notifStartDate.text = @"-";
                
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"])
            {
                if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifEndDate.text = @"-";
                }
                else
                {
                    NSString *notifEndDate;
                    notifEndDate = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifEndDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.notifEndDate.text = @"-";
                
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
            {
                self.notifFuncLocation.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                
            }
            else
            {
                self.notifFuncLocation.text = @"-";
                
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
            {
                self.notifBrkTitle.hidden = NO;
                
                if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
                }
                else
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
                    
                }
                
            }
            else
            {
                self.notifBrkTitle.hidden = YES;
            }
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Priok"])
            {
                self.priorityText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                
            }
            else
            {
                self.priorityText.text = @"-";
                
            }
            
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Auswk"])
            {
                self.sysConditionText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Auswk"];
                
            }
            else
            {
                self.sysConditionText.text = @"-";
                
            }
            
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
            {
                if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
                {
                    self.sysStartDateText.text = @"-";
                }
                else
                {
                    NSString *sysStrtDate;
                    sysStrtDate = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysStartDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysStartDateText.text = @"-";
                
            }
            
            if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
            {
                if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
                {
                    self.sysEndDateText.text = @"-";
                }
                else
                {
                    NSString *sysEndDate;
                    sysEndDate = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysEndDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysEndDateText.text = @"-";
            }
        }
        else
        {
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmnum"])
            {
                self.notifNumberLabel.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmnum"];
                
            }
            else
            {
                self.notifNumberLabel.text = @"-";
                
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.equipNumberLabel.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                
            }
            
            else
            {
                self.equipNumberLabel.text = @"-";
                
            }
            
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"])
            {
                self.notifDescriptionLabel.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmtxt"];
                
            }
            else
            {
                self.notifDescriptionLabel.text = @"-";
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
            {
                self.equipDescriptionLabel.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                
            }
            else
            {
                self.equipDescriptionLabel.text = @"-";
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
            {
                self.plantLabel.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                
            }
            else
            {
                self.plantLabel.text = @"-";
                
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
            {
                self.workCenterLabel.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                
            }
            else
            {
                self.workCenterLabel.text = @"-";
                
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"])
            {
                if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"1"])
                {
                    self.notifPhaseText.text = @"Outstanding";
                }
                else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                {
                    self.notifPhaseText.text = @"In Progress";
                    
                }
                else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"4"])
                {
                    self.notifPhaseText.text = @"Completed";
                }
            }
            else
            {
                self.notifPhaseText.text = @"-";
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmart"])
            {
                // self.notifDetailsHeaderText.text = titleString;
                // NSString *tmp = [titleString s]
                // self.notifTypeTxtDesc.text = self.notifDetailsHeaderText.text;
                
                self.notifTypeTxtDesc.text = notifTypeTextString;
                
                //                 self.notifTypeTxtDesc.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
            }
            else
            {
                self.notifTypeTxtDesc.text = @"-";
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
            {
                self.notifCreatedBy.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
            }
            else
            {
                self.notifCreatedBy.text = @"-";
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Strmn"])
            {
                if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Strmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifStartDate.text = @"-";
                }
                else
                {
                    NSString *notifStartDate;
                    notifStartDate = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Strmn"];
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifStartDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
            }
            else
            {
                self.notifStartDate.text = @"-";
                
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"])
            {
                if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"] isEqualToString:@"0000-00-00"])
                {
                    self.notifEndDate.text = @"-";
                }
                else
                {
                    NSString *notifEndDate;
                    notifEndDate = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ltrmn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.notifEndDate.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.notifEndDate.text = @"-";
                
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
            {
                self.notifFuncLocation.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                
            }
            else
            {
                self.notifFuncLocation.text = @"-";
                
            }
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
            {
                self.notifBrkTitle.hidden = NO;
                
                if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
                }
                else
                {
                    self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
                    
                }
                
            }
            else
            {
                self.notifBrkTitle.hidden = YES;
            }
            if (![[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"-"])
            {
                if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"1"])
                {
                    notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"2"])
                {
                    notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"3"])
                {
                    notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"4"])
                {
                    notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"5"])
                {
                    notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                }
                [permitPriorityArray addObjectsFromArray:[[DataBase sharedInstance]getPriorityDescForNotificationReport:notifPriorityString]];
                if ([permitPriorityArray count])
                {
                    self.priorityText.text = [permitPriorityArray objectAtIndex:0];
                    
                }
                
            }
            else
            {
                self.priorityText.text = @"-";
                
            }
            
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auswk"])
            {
                self.sysConditionText.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auswk"];
                
            }
            else
            {
                self.sysConditionText.text = @"-";
                
            }
            
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
            {
                if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
                {
                    self.sysStartDateText.text = @"-";
                }
                else
                {
                    NSString *sysStrtDate;
                    sysStrtDate = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysStartDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
                
            }
            else
            {
                self.sysStartDateText.text = @"-";
                
            }
            
            if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
            {
                if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
                {
                    self.sysEndDateText.text = @"-";
                }
                else
                {
                    NSString *sysEndDate;
                    sysEndDate = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
                    
                    
                    NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                    [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                    [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                    
                    NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
                    
                    [formatter setDateFormat:@"dd MMMM yyyy"];
                    NSString *stringFromDate = [formatter stringFromDate:myDate];
                    self.sysEndDateText.text = stringFromDate;
                    NSLog(@"%@",stringFromDate);
                }
            }
            else
            {
                self.sysEndDateText.text = @"-";
            }
          }
            [self.notifDescription addSubview:self.descriptionView];

        }
        else if ([selectedFlag isEqualToString:@"Order"])
        {
//            self.misDescrpnHeader.text = @"Order Analysis";
            
            if (self.notifDescTableView.tag == 1)
            {
                
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Aufnr"])
                {
                    self.orderNumText.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                    
                }
                else
                {
                    self.orderNumText.text = @"-";
                    
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderEquipNumText.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                
                else
                {
                    self.orderEquipNumText.text = @"-";
                    
                }
                
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ktext"])
                {
                    self.orderDescpnText.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ktext"];
                    
                }
                else
                {
                    self.orderDescpnText.text = @"-";
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
                {
                    self.orderEquipDescrpnText.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                    
                }
                else
                {
                    self.orderEquipDescrpnText.text = @"-";
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
                {
                    self.orderPlant.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                    
                }
                else
                {
                    self.orderPlant.text = @"-";
                    
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
                {
                    self.orderWorkCenter.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                }
                else
                {
                    self.orderWorkCenter.text = @"-";
                    
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"])
                {
                    if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"0"])
                    {
                        self.orderPhase.text = @"Outstanding";
                    }
                    else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"2"])
                    {
                        self.orderPhase.text = @"In Progress";
                        
                    }
                    else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                    {
                        self.orderPhase.text = @"Completed";
                        
                    }
                    
                }
                else
                {
                    self.orderPhase.text = @"-";
                    
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auart"])
                {
                    self.orderTypeText.text = notifTypeTextString;
                    
                    // self.notifTypeTxtDesc.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                    
                }
                else
                {
                    self.orderTypeText.text = @"-";
                    
                }
                
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderCreatedByText.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                else
                {
                    self.orderCreatedByText.text = @"-";
                    
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gstrp"])
                {
                    if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gstrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderStartDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifStartDate;
                        notifStartDate = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gstrp"];
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderStartDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                }
                else
                {
                    self.orderStartDateText.text = @"-";
                    
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gltrp"])
                {
                    if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gltrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderEndDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifEndDate;
                        notifEndDate = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gltrp"];
                        
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderEndDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                    
                }
                else
                {
                    self.orderEndDateText.text = @"-";
                    
                }
                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
                {
                    self.orderFunLocationText.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                    
                }
                else
                {
                    self.orderFunLocationText.text = @"-";
                    
                }
//                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
//                {
//                    self.notifBrkTitle.hidden = NO;
//                    
//                    if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
//                    }
//                    else
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
//                        
//                    }
//                    
//                }
//                else
//                {
//                    self.notifBrkTitle.hidden = YES;
//                }
                
                if (![[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"-"])
                {
                    if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"1"])
                    {
                        notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"2"])
                    {
                        notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"3"])
                    {
                        notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"4"])
                    {
                        notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"5"])
                    {
                        notifPriorityString = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    [permitPriorityArray addObjectsFromArray:[[DataBase sharedInstance]getPriorityDescForNotificationReport:notifPriorityString]];
                    if ([permitPriorityArray count])
                    {
                        self.orderPriorityText.text = [permitPriorityArray objectAtIndex:0];
                        
                    }
                    
                }
                else
                {
                    self.orderPriorityText.text = @"-";
                    
                }
                
                
//                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auswk"])
//                {
//                    self.sysConditionText.text = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auswk"];
//                    
//                }
//                else
//                {
//                    self.sysConditionText.text = @"-";
//                    
//                }
                
//                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
//                {
//                    if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysStartDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysStrtDate;
//                        sysStrtDate = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysStartDateText.text = stringFromDate;
//                        NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysStartDateText.text = @"-";
//                    
//                }
                
//                if ([[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
//                {
//                    if ([[[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysEndDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysEndDate;
//                        sysEndDate = [[filteredTempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysEndDateText.text = stringFromDate;
//                        NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysEndDateText.text = @"-";
//                    
//                }
//                
//                
            }
            else if (self.notifDescTableView.tag == 2)
            {
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"])
                {
                    self.orderNumText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                    
                }
                else
                {
                    self.orderNumText.text = @"-";
                    
                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderEquipNumText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                
                else
                {
                    self.orderEquipNumText.text = @"-";
                    
                }
                
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ktext"])
                {
                    self.orderDescpnText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ktext"];
                    
                }
                else
                {
                    self.orderDescpnText.text = @"-";
                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
                {
                    self.orderEquipDescrpnText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                    
                }
                else
                {
                    self.orderEquipDescrpnText.text = @"-";
                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
                {
                    self.orderPlant.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                    
                }
                else
                {
                    self.orderPlant.text = @"-";
                    
                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
                {
                    self.orderWorkCenter.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                }
                else
                {
                    self.orderWorkCenter.text = @"-";
                    
                }
                
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Phase"])
                {
                    if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"0"])
                    {
                        self.orderPhase.text = @"Outstanding";
                    }
                    else if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"2"])
                    {
                        self.orderPhase.text = @"In Progress";
                        
                    }
                    else if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                    {
                        self.orderPhase.text = @"Completed";
                        
                    }
                    
                }
                else
                {
                    self.orderPhase.text = @"-";
                    
                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Auart"])
                {
                    self.orderTypeText.text = notifTypeTextString;
                    
                    //                 self.notifTypeTxtDesc.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                    
                }
                else
                {
                    self.orderTypeText.text = @"-";
                    
                }
                
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderCreatedByText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                else
                {
                    self.orderCreatedByText.text = @"-";
                    
                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"])
                {
                    if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderStartDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifStartDate;
                        notifStartDate = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"];
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderStartDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                }
                else
                {
                    self.orderStartDateText.text = @"-";
                    
                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"])
                {
                    if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderEndDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifEndDate;
                        notifEndDate = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"];
                        
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderEndDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                    
                    
                }
                else
                {
                    self.orderEndDateText.text = @"-";
                    
                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
                {
                    self.orderFunLocationText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                    
                }
                else
                {
                    self.orderFunLocationText.text = @"-";
                    
                }
//                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
//                {
//                    self.notifBrkTitle.hidden = NO;
//                    
//                    if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
//                    }
//                    else
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
//                        
//                    }
//                    
//                }
//                else
//                {
//                    self.notifBrkTitle.hidden = YES;
//                }
                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Priok"])
                {
                    self.orderPriorityText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    
                }
                else
                {
                    self.orderPriorityText.text = @"-";
                    
                }
                
                
//                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Auswk"])
//                {
//                    self.sysConditionText.text = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Auswk"];
//                    
//                }
//                else
//                {
//                    self.sysConditionText.text = @"-";
//                    
//                }
//                
//                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
//                {
//                    if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysStartDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysStrtDate;
//                        sysStrtDate = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysStartDateText.text = stringFromDate;
//                        NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysStartDateText.text = @"-";
//                    
//                }
//                
//                if ([[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
//                {
//                    if ([[[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysEndDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysEndDate;
//                        sysEndDate = [[self.filterdTableArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysEndDateText.text = stringFromDate;
//                        NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysEndDateText.text = @"-";
//                    
//                }
                
            }
            else if (self.notifDescTableView.tag == 3)
            {
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"])
                {
                    self.orderNumText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                    
                }
                else
                {
                    self.orderNumText.text = @"-";
                    
                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderEquipNumText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                
                else
                {
                    self.orderEquipNumText.text = @"-";
                    
                }
                
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ktext"])
                {
                    self.orderDescpnText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ktext"];
                    
                }
                else
                {
                    self.orderDescpnText.text = @"-";
                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
                {
                    self.orderEquipDescrpnText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                    
                }
                else
                {
                    self.orderEquipDescrpnText.text = @"-";
                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
                {
                    self.orderPlant.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                    
                }
                else
                {
                    self.orderPlant.text = @"-";
                    
                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
                {
                    self.orderWorkCenter.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                }
                else
                {
                    self.orderWorkCenter.text = @"-";
                    
                }
                
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Phase"])
                {
                    if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"0"])
                    {
                        self.orderPhase.text = @"Outstanding";
                    }
                    else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"2"])
                    {
                        self.orderPhase.text = @"In Progress";
                        
                    }
                    else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                    {
                        self.orderPhase.text = @"Completed";
                        
                    }
                    
                }
                else
                {
                    self.orderPhase.text = @"-";
                    
                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Auart"])
                {
                    self.orderTypeText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Auart"];
                    
                }
                else
                {
                    self.orderTypeText.text = @"-";
                    
                }
                
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderCreatedByText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                else
                {
                    self.orderCreatedByText.text = @"-";
                    
                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"])
                {
                    if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderStartDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifStartDate;
                        notifStartDate = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"];
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderStartDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                    
                }
                else
                {
                    self.orderStartDateText.text = @"-";
                    
                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"])
                {
                    if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderEndDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifEndDate;
                        notifEndDate = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"];
                        
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderEndDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                    
                }
                else
                {
                    self.orderEndDateText.text = @"-";
                    
                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
                {
                    self.orderFunLocationText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                    
                }
                else
                {
                    self.orderFunLocationText.text = @"-";
                    
                }
//                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
//                {
//                    self.notifBrkTitle.hidden = NO;
//                    
//                    if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
//                    }
//                    else
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
//                        
//                    }
//                    
//                }
//                else
//                {
//                    self.notifBrkTitle.hidden = YES;
//                }
                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"])
                {
                    self.orderPriorityText.text = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    
                }
                else
                {
                    self.orderPriorityText.text = @"-";
                    
                }
                
                
                if (![[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"-"])
                {
                    if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"1"])
                    {
                        notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"2"])
                    {
                        notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"3"])
                    {
                        notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"4"])
                    {
                        notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"5"])
                    {
                        notifPriorityString = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    [permitPriorityArray addObjectsFromArray:[[DataBase sharedInstance]getPriorityDescForNotificationReport:notifPriorityString]];
                    if ([permitPriorityArray count])
                    {
                        self.orderPriorityText.text = [permitPriorityArray objectAtIndex:0];
                        
                    }
                    
                }
                else
                {
                    self.orderPriorityText.text = @"-";
                    
                }
                
                
//                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
//                {
//                    if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysStartDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysStrtDate;
//                        sysStrtDate = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysStartDateText.text = stringFromDate;
//                        NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysStartDateText.text = @"-";
//                    
//                }
//                
//                if ([[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
//                {
//                    if ([[[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysEndDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysEndDate;
//                        sysEndDate = [[self.searchInitialArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysEndDateText.text = stringFromDate;
//                        NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysEndDateText.text = @"-";
//                    
//                }
//                
                
            }
            else if (self.notifDescTableView.tag == 4)
            {
                
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"])
                {
                    self.orderNumText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                    
                }
                else
                {
                    self.orderNumText.text = @"-";
                    
                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderEquipNumText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                
                else
                {
                    self.orderEquipNumText.text = @"-";
                    
                }
                
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ktext"])
                {
                    self.orderDescpnText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ktext"];
                    
                }
                else
                {
                    self.orderDescpnText.text = @"-";
                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
                {
                    self.orderEquipDescrpnText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                    
                }
                else
                {
                    self.orderEquipDescrpnText.text = @"-";
                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
                {
                    self.orderPlant.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                    
                }
                else
                {
                    self.orderPlant.text = @"-";
                    
                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
                {
                    self.orderWorkCenter.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                }
                else
                {
                    self.orderWorkCenter.text = @"-";
                    
                }
                
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Phase"])
                {
                    if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"0"])
                    {
                        self.orderPhase.text = @"Outstanding";
                    }
                    else if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"2"])
                    {
                        self.orderPhase.text = @"In Progress";
                        
                    }
                    else if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                    {
                        self.orderPhase.text = @"Completed";
                        
                    }
                    
                }
                else
                {
                    self.orderPhase.text = @"-";
                    
                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Auart"])
                {
                    self.orderTypeText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Auart"];
                    
                }
                else
                {
                    self.orderTypeText.text = @"-";
                    
                }
                
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderCreatedByText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                else
                {
                    self.orderCreatedByText.text = @"-";
                    
                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"])
                {
                    if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderStartDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifStartDate;
                        notifStartDate = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Gstrp"];
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderStartDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                }
                else
                {
                    self.orderStartDateText.text = @"-";
                    
                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"])
                {
                    if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderEndDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifEndDate;
                        notifEndDate = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Gltrp"];
                        
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderEndDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                    
                }
                else
                {
                    self.orderEndDateText.text = @"-";
                    
                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
                {
                    self.orderFunLocationText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                    
                }
                else
                {
                    self.orderFunLocationText.text = @"-";
                    
                }
//                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
//                {
//                    self.notifBrkTitle.hidden = NO;
//                    
//                    if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
//                    }
//                    else
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
//                        
//                    }
//                    
//                }
//                else
//                {
//                    self.notifBrkTitle.hidden = YES;
//                }
                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Priok"])
                {
                    self.orderPriorityText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    
                }
                else
                {
                    self.orderPriorityText.text = @"-";
                    
                }
                
//                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Auswk"])
//                {
//                    self.sysConditionText.text = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Auswk"];
//                    
//                }
//                else
//                {
//                    self.sysConditionText.text = @"-";
//                    
//                }
//                
//                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
//                {
//                    if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysStartDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysStrtDate;
//                        sysStrtDate = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysStartDateText.text = stringFromDate;
//                        NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysStartDateText.text = @"-";
//                    
//                }
//                
//                if ([[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
//                {
//                    if ([[[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysEndDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysEndDate;
//                        sysEndDate = [[self.seachDescArray objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysEndDateText.text = stringFromDate;
//                        NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysEndDateText.text = @"-";
//                }
            }
            else
            {
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Aufnr"])
                {
                    self.orderNumText.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Aufnr"];
                    
                }
                else
                {
                    self.orderNumText.text = @"-";
                    
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderEquipNumText.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                    
                }
                
                else
                {
                    self.orderEquipNumText.text = @"-";
                    
                }
                
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ktext"])
                {
                    self.orderDescpnText.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ktext"];
                    
                }
                else
                {
                    self.orderDescpnText.text = @"-";
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"])
                {
                    self.orderEquipDescrpnText.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Eqktx"];
                    
                }
                else
                {
                    self.orderEquipDescrpnText.text = @"-";
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Swerk"])
                {
                    self.orderPlant.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Swerk"];
                    
                }
                else
                {
                    self.orderPlant.text = @"-";
                    
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Arbpl"])
                {
                    self.orderWorkCenter.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Arbpl"];
                    
                }
                else
                {
                    self.orderWorkCenter.text = @"-";
                    
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"])
                {
                    if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"0"])
                    {
                        self.orderPhase.text = @"Outstanding";
                    }
                    else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"2"])
                    {
                        self.orderPhase.text = @"In Progress";
                        
                    }
                    else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Phase"] isEqualToString:@"3"])
                    {
                        self.orderPhase.text = @"Completed";
                    }
                }
                else
                {
                    self.orderPhase.text = @"-";
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auart"])
                {
                    // self.notifDetailsHeaderText.text = titleString;
                    // NSString *tmp = [titleString s]
                    // self.notifTypeTxtDesc.text = self.notifDetailsHeaderText.text;
                    
                    self.orderTypeText.text = notifTypeTextString;
                    
                    //                 self.notifTypeTxtDesc.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Qmart"];
                }
                else
                {
                    self.orderTypeText.text = @"-";
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"])
                {
                    self.orderCreatedByText.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Equnr"];
                }
                else
                {
                    self.orderCreatedByText.text = @"-";
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gstrp"])
                {
                    if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gstrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderStartDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifStartDate;
                        notifStartDate = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gstrp"];
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifStartDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderStartDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                }
                else
                {
                    self.orderStartDateText.text = @"-";
                    
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gltrp"])
                {
                    if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gltrp"] isEqualToString:@"0000-00-00"])
                    {
                        self.orderEndDateText.text = @"-";
                    }
                    else
                    {
                        NSString *notifEndDate;
                        notifEndDate = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Gltrp"];
                        
                        
                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
                        
                        NSDate* myDate = [dateFormatter dateFromString:notifEndDate];
                        
                        [formatter setDateFormat:@"dd MMMM yyyy"];
                        NSString *stringFromDate = [formatter stringFromDate:myDate];
                        self.orderEndDateText.text = stringFromDate;
                        NSLog(@"%@",stringFromDate);
                    }
                    
                }
                else
                {
                    self.orderEndDateText.text = @"-";
                    
                }
                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Tplnr"])
                {
                    self.orderFunLocationText.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Tplnr"];
                    
                }
                else
                {
                    self.orderFunLocationText.text = @"-";
                    
                }
//                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Msaus"])
//                {
//                    self.notifBrkTitle.hidden = NO;
//                    
//                    if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Msaus"] isEqualToString:@"X"])
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_selected.png"];
//                    }
//                    else
//                    {
//                        self.notifBrkImage.image = [UIImage imageNamed:@"checkbox_unselected.png"];
//                        
//                    }
//                    
//                }
//                else
//                {
//                    self.notifBrkTitle.hidden = YES;
//                }
                if (![[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"-"])
                {
                    if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"1"])
                    {
                        notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"2"])
                    {
                        notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"3"])
                    {
                        notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    else if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"4"])
                    {
                        notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"] isEqualToString:@"5"])
                    {
                        notifPriorityString = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Priok"];
                    }
                    [permitPriorityArray addObjectsFromArray:[[DataBase sharedInstance]getPriorityDescForNotificationReport:notifPriorityString]];
                    if ([permitPriorityArray count])
                    {
                        self.orderPriorityText.text = [permitPriorityArray objectAtIndex:0];
                        
                    }
                    
                }
                else
                {
                    self.orderPriorityText.text = @"-";
                    
                }
                
//                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auswk"])
//                {
//                    self.sysConditionText.text = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Auswk"];
//                    
//                }
//                else
//                {
//                    self.sysConditionText.text = @"-";
//                    
//                }
//                
//                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"])
//                {
//                    if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysStartDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysStrtDate;
//                        sysStrtDate = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausvn"];
//                        
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysStrtDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysStartDateText.text = stringFromDate;
//                        //NSLog(@"%@",stringFromDate);
//                    }
//                    
//                }
//                else
//                {
//                    self.sysStartDateText.text = @"-";
//                    
//                }
//                
//                if ([[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"])
//                {
//                    if ([[[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"] isEqualToString:@"0000-00-00"])
//                    {
//                        self.sysEndDateText.text = @"-";
//                    }
//                    else
//                    {
//                        NSString *sysEndDate;
//                        sysEndDate = [[tempArrayDetails objectAtIndex:indexPath.row] objectForKey:@"Ausbs"];
//                        
//                        NSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];
//                        [dateFormatter setDateFormat:@"YYYY-MM-dd"];
//                        [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
//                        
//                        NSDate* myDate = [dateFormatter dateFromString:sysEndDate];
//                        
//                        [formatter setDateFormat:@"dd MMMM yyyy"];
//                        NSString *stringFromDate = [formatter stringFromDate:myDate];
//                        self.sysEndDateText.text = stringFromDate;
//                       // NSLog(@"%@",stringFromDate);
//                    }
//                }
//                else
//                {
//                    self.sysEndDateText.text = @"-";
//                }
            }
            [self.orderDescriptionView setFrame:CGRectMake(0, 0, 768, 1024)];
            [self.notifDescription addSubview:self.orderDescriptionView];
        }
    }
    else if (tableView == self.availabilityDetailTableView)
    {
        [self.availabilityDetailView addSubview:self.availabilityDescriptionView];
    }
    
}

-(NSIndexPath *) GetCellFromTableView: (UITableView *)tableView Sender:(id)sender
{
    CGPoint position = [sender convertPoint:CGPointZero toView:tableView];
    NSIndexPath *indexPath = [tableView indexPathForRowAtPoint:position];
    return indexPath;//[tableView cellForRowAtIndexPath:indexPath];
}

/*-(void)availabilityDetailButtonClicked:(id)sender
 {
 NSIndexPath *ip = [self GetCellFromTableView:funcLocationTableView Sender:sender];
 
 funLocation = [self.funcDropDownArray objectAtIndex:ip.row];
 if (AvailabilityfunctionDetails == nil)
 {
 AvailabilityfunctionDetails = [NSMutableArray new];
 
 }
 else
 {
 [AvailabilityfunctionDetails removeAllObjects];
 
 }
 
 [AvailabilityfunctionDetails addObject:[NSArray arrayWithObjects:funLocation.locationName,funLocation.locationid,funLocation.plantName,funLocation.workStation,funLocation.costCenter,funLocation.fltyp,funLocation.plannerGroup, nil]];
 
 funcLocationTableView.tag = 2;
 
 [funcLocationTableView reloadData];
 }*/


#pragma mark-
#pragma mark- Search Delegate Method

-(void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText{
    
    if (searchBar == self.availabilitySearch)
    {
        if (searchText.length)
        {
            NSPredicate *availabilityPredicate = [NSPredicate predicateWithFormat:@"Qmnum contains[cd] %@ or Equnr contains[cd] %@",searchText,searchText];
            
            self.availabilitySearchArray = [availabilitySummary filteredArrayUsingPredicate:availabilityPredicate];
            self.availabilityDetailTableView.tag = 1;
        }
        else
        {
            self.availabilityDetailTableView.tag = 0;
        }
        [self.availabilityDetailTableView reloadData];
    }
    else if (searchBar == self.permitSearchBar)
    {
        if (searchText.length)
        {
            NSPredicate *availabilityPredicate = [NSPredicate predicateWithFormat:@"Stxt contains[cd] %@",searchText];
            
            self.permitSearchArray = [permitDetailListArray filteredArrayUsingPredicate:availabilityPredicate];
            self.permitDetailTableView.tag = 1;
        }
        else
        {
            self.permitDetailTableView.tag = 0;
        }
        [self.permitDetailTableView reloadData];
        
    }
    else if (searchBar == self.brkdownSearchBar)
    {
        if (searchText.length)
        {
            NSPredicate *availabilityPredicate = [NSPredicate predicateWithFormat:@"Qmnum contains[cd] %@ or Equnr contains[cd] %@ or Eqktu contains[cd] %@",searchText,searchText,searchText];
            
            self.brkSearchArray = [brkdownDescriptionArray filteredArrayUsingPredicate:availabilityPredicate];
            self.brkdownTableView.tag = 1;
        }
        else
        {
            self.brkdownTableView.tag = 0;
        }
        [self.brkdownTableView reloadData];
    }
    
    else
    {
        if (searchText.length)
        {
            if ([selectedFlag isEqualToString:@"Notification"])
            {
                NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"Eqktx contains[cd] %@ or Qmtxt contains[cd] %@",searchText,searchText];
                
                if ([filteredTempArrayDetails count]) {
                    self.notifDescTableView.tag = 4;
                    self.seachDescArray = [filteredTempArrayDetails filteredArrayUsingPredicate:bPredicate];
                }
                else
                {
                    self.notifDescTableView.tag = 3;
                    self.searchInitialArray = [tempArrayDetails filteredArrayUsingPredicate:bPredicate];
                    
                }
            }
            else if ([selectedFlag isEqualToString:@"Order"])
            {
                NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"Aufnr contains[cd] %@ or Eqktx contains[cd] %@",searchText,searchText];
                
                if ([filteredTempArrayDetails count]) {
                    self.notifDescTableView.tag = 4;
                    self.seachDescArray = [filteredTempArrayDetails filteredArrayUsingPredicate:bPredicate];
                }
                else
                {
                    self.notifDescTableView.tag = 3;
                    self.searchInitialArray = [tempArrayDetails filteredArrayUsingPredicate:bPredicate];
                    
                }
            }
            
            //            if (self.notifDescTableView.tag == 1)
            //            {
            //            self.notifDescTableView.tag = 1;
            //
            //                 NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"Eqktx contains[cd] %@ or Qmtxt contains[cd] %@",
            //                                            searchText,searchText];
            //                 self.seachFilterArray = [tempArrayDetails filteredArrayUsingPredicate:bPredicate];
            //
            //        }
            //         else  if (self.notifDescTableView.tag == 2)
            //           {
            //               self.notifDescTableView.tag = 4;
            //
            //               NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"Eqktx contains[cd] %@ or Qmtxt contains[cd] %@",
            //                                          searchText,searchText];
            ////               self.seachDescArray = nil;
            //               self.seachDescArray = [self.filterdTableArray filteredArrayUsingPredicate:bPredicate];
            //           }
            ////         else  if (self.notifDescTableView.tag == 4)
            ////         {
            ////             self.notifDescTableView.tag = 1;
            ////             NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"Eqktx contains[cd] %@ or Qmtxt contains[cd] %@",
            ////                                        searchText,searchText];
            ////             //               self.seachDescArray = nil;
            ////             self.seachFilterArray = [self.seachDescArray filteredArrayUsingPredicate:bPredicate];
            ////
            ////         }
            //
            //            else
            //            {
            //                self.notifDescTableView.tag = 3;
            //
            //                NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"Eqktx contains[cd] %@ or Qmtxt contains[cd] %@",
            //                                           searchText,searchText];
            //                self.searchInitialArray = [tempArrayDetails filteredArrayUsingPredicate:bPredicate];
            //
            //            }
            //
        }
        
        else
        {
            if (self.notifDescTableView.tag == 1)
            {
                self.notifDescTableView.tag = 2;
                
            }
            else if (self.notifDescTableView.tag == 2)
            {
                self.notifDescTableView.tag = 2;
            }
            else if (self.notifDescTableView.tag == 3)
            {
                self.notifDescTableView.tag = 0;
            }
            else if (self.notifDescTableView.tag == 4)
            {
                self.notifDescTableView.tag = 1;
                
            }
            else
            {
                
                self.notifDescTableView.tag = 0;
            }
            //        NSPredicate *bPredicate = [NSPredicate predicateWithFormat:@"Eqktx contains[cd] %@ or Qmtxt contains[cd] %@",
            //                                   searchText,searchText];
            //        self.seachFilterArray = [tempArrayDetails filteredArrayUsingPredicate:bPredicate];
            //
        }
        // }
        [self.notifDescTableView reloadData];
    }
}


//#pragma mark-
//#pragma mark- UIAlertView Delegate Methods
//
//-(void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
//
//    if (alertView == availabilityAlert)
//    {
//        if (buttonIndex == 0)
//        {
//            [self.availabilityReportView removeFromSuperview];
//        }
//    }
//    else if (alertView == permitAlert)
//    {
//        if (buttonIndex == 0)
//        {
//            [self.permitView removeFromSuperview];
//        }
//    }
//
//    else if (alertView == financialYearAlert)
//    {
//        if (buttonIndex == 1)
//        {
//            breadkDownStr = @"PreviousFinantialYearData";
//
//            NSMutableDictionary *brkdownDict = [[NSMutableDictionary alloc]init];
//            [brkdownDict setObject:decryptedUserName forKey:@"USERNAME"];
//
//            [brkdownDict setObject:@"RD" forKey:@"ACTIVITY"];
//            [brkdownDict setObject:@"R1" forKey:@"DOCTYPE"];
//            [brkdownDict setObject:@"SOAP" forKey:@"ENDPOINT"];
//
//            NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:brkdownDict];
//            NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
//            [brkdownDict setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
//
//            [brkdownDict setObject:@"" forKey:@"SIGN"];
//            [brkdownDict setObject:@"" forKey:@"OPTION"];
//            [brkdownDict setObject:@"" forKey:@"STARTDATE"];
//            [brkdownDict setObject:@"" forKey:@"ENDDATE"];
//            [brkdownDict setObject:@"X" forKey:@"YEAR"];
//            [brkdownDict setObject:@"MISR" forKey:@"TRANSMITTYPE"];
//
////            NSMutableDictionary *endPointDictionary = [NSMutableDictionary new];
////            [endPointDictionary setObject:@"F4" forKey:@"ACTIVITY"];
////            [endPointDictionary setObject:@"D1" forKey:@"DOCTYPE"];
////            [endPointDictionary setObject:@"SOAP" forKey:@"ENDPOINT"];
////
////            NSArray *endPointArray = [[DataBase sharedInstance] getEndPointURL:endPointDictionary];
////            NSLog(@"endPoint :%@",[[endPointArray objectAtIndex:0] objectAtIndex:0]);
////            [brkdownDict setObject:[[endPointArray objectAtIndex:0] objectAtIndex:0] forKey:@"URL_ENDPOINT"];
//
//            [Request makeWebServiceRequest:BREAKDOWN_STATISTICS parameters:brkdownDict delegate:self];
//        }
//    }
//}

/*
 #pragma mark - Navigation
 
 // In a storyboard-based application, you will often want to do a little preparation before navigation
 - (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
 // Get the new view controller using [segue destinationViewController].
 // Pass the selected object to the new view controller.
 }
 */


- (void)userClickedOnBarAtIndex:(NSInteger)barIndex
{
    NSLog(@"%ld",(long)barIndex);

    months = brkDownMonthMainArray;
    _chartView.delegate = self;

    _chartView.chartDescription.enabled = NO;

    _chartView.drawGridBackgroundEnabled = NO;
    _chartView.drawBarShadowEnabled = NO;
    _chartView.highlightFullBarEnabled = NO;


    _chartView.drawOrder = @[
                             @(CombinedChartDrawOrderBar),
                             @(CombinedChartDrawOrderLine)
                             ];

    ChartLegend *l = _chartView.legend;
    l.wordWrapEnabled = YES;
    l.horizontalAlignment = ChartLegendHorizontalAlignmentCenter;
    l.verticalAlignment = ChartLegendVerticalAlignmentBottom;
    l.orientation = ChartLegendOrientationHorizontal;
    l.drawInside = NO;

    //        ChartYAxis *rightAxis = _chartView.rightAxis;
    //        rightAxis.drawGridLinesEnabled = NO;
    //        rightAxis.axisMinimum = 0.0; // this replaces startAtZero = YES

    ChartYAxis *leftAxis = _chartView.leftAxis;
    leftAxis.drawGridLinesEnabled = NO;
    leftAxis.axisMinimum = 0.0; // this replaces startAtZero = YES

    ChartXAxis *xAxis = _chartView.xAxis;
    //        xAxis.labelPosition = XAxisLabelPositionBothSided;
    xAxis.labelPosition = XAxisLabelPositionBottom;

    xAxis.axisMinimum = 0.0;
    xAxis.granularity = 1.0;
    xAxis.valueFormatter = self;

    [self updateChartData];

    [self.barchartView addSubview:brkDownView];

}

-(void)brkDownInitialMethod
{
        if ([brkPlantArray count])
        {
            NSMutableArray *coutArray;
            if (coutArray == nil)
            {
                coutArray = [NSMutableArray new];
            }
            else
            {
                [coutArray removeAllObjects];
            }
            if ([brkPlantArray count])
            {

            if ([brkPlantArray count]>1)
            {
                for (int i = 0; i<[brkPlantArray count]; i++)
                {
                    [coutArray addObject:[[brkPlantArray objectAtIndex:i] objectForKey:@"Count"]];
                }
            }
                else if ([brkPlantArray count] == 1)
                {
                    [coutArray addObject:[[brkPlantArray objectAtIndex:0] objectForKey:@"Count"]];

                }
            }
            int maxValue = 0;
            for (NSString * strMaxi in coutArray) {
                int currentValue=[strMaxi intValue];
                if (currentValue > maxValue) {
                    maxValue=currentValue;
                }
            }
            for (int i = 0; i<[brkPlantArray count]; i++)
            {
                if (maxValue == [[[brkPlantArray objectAtIndex:i] objectForKey:@"Count"] intValue])
                {
                    MaxPlantString = [[brkPlantArray objectAtIndex:i] objectForKey:@"Iwerk"];
                    NSLog(@"plant=%@",MaxPlantString);
                    _brkDownPlantText.text = [[brkPlantArray objectAtIndex:i] objectForKey:@"Name"];

                }
            }



            //                        int miniValue = 0;
            //                        for (NSString * strMini in coutArray) {
            //                            int currentValue=[strMini intValue];
            //                            if (currentValue < miniValue) {
            //                                miniValue=currentValue;
            //                            }
            //                        }


            NSLog(@"Maxi:%d",maxValue);

            //                        else
            //                        {
            //                            [coutArray addObject:[[brkPlantArray objectAtIndex:0] objectForKey:@"Count"]];
            //                        }
        }
        //  }
        //  {
        self.calenderButton.hidden = NO;
        NSDateComponents *components = [[NSCalendar currentCalendar] components:NSCalendarUnitDay | NSCalendarUnitMonth | NSCalendarUnitYear fromDate:[NSDate date]];
        NSInteger month = [components month];
        NSInteger year = [components year];

        if ([components month]>= 4)
        {
            bYear =[NSString stringWithFormat:@"%ld",(long)[components year]];
            [components setYear:[components year]+1];
            self.monthlyTrendText.text = [NSString stringWithFormat:@"MTTR Monthly Trend -FY%ld",(long)[components year]];
        }
        else if ([components month]<4)
        {
            bYear =[NSString stringWithFormat:@"%ld",(long)[components year]];
            [components setYear:[components year]];
            self.monthlyTrendText.text = [NSString stringWithFormat:@"MTTR Monthly Trend -FY%ld",(long)[components year]];
        }

        currentMonth = [NSString stringWithFormat:@"%ld0%ld",(long)year,(long)month];

        for (int j = 0; j<[breakdownMonthMainArray count]; j++)
        {
            if ([MaxPlantString isEqualToString:[[breakdownMonthMainArray objectAtIndex:j] objectForKey:@"Iwerk"]])
            {

               // if ([currentMonth isEqualToString:[[breakdownMonthMainArray objectAtIndex:j] objectForKey:@"Spmon"]])
               // {
                    [brkDownArray addObject:[breakdownMonthMainArray objectAtIndex:j]];
               // }
            }
        }
        NSString *mttrPlantString;
        int z = 0;
        for (int i = 0; i<[brkDownArray count]; i ++)
        {
            if (mttrPlantString.length)
            {
                if ([mttrPlantString isEqualToString:[[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"]])
                {
                    int x = 0;
                    x = [[mttrMainArray lastObject] intValue];
                    int y = 0;
                    y = [[[brkDownArray objectAtIndex:i] objectForKey:@"MttrHours"] intValue];
                    [mttrMainArray replaceObjectAtIndex:z withObject:[NSNumber numberWithUnsignedInteger:x+y]];
                }
                else
                {
                    [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
                    z = z+1;
                    mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
                }
            }
            else
            {
                [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
                mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
            }

        }

        for (int i = 0; i<[breakdownBarGraphMonthArray count]; i++)
        {
            if ([MaxPlantString isEqualToString:[[breakdownMonthMainArray objectAtIndex:i] objectForKey:@"Iwerk"]])
            {

                if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Count"])
                {
                    [brkDownCountArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Count"]];
                }
                if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"MttrHours"])
                {
                    [brkDownMttrArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"MttrHours"]];
                }
                if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"TotM2"])
                {
                    [brkDownHoursArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"TotM2"]];
                }
                if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Spmon"])
                {
                    [brkDownMonthArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Spmon"]];
                }
            }

        }

        for (int i = 0; i<[brkDownMonthArray count]; i++)
        {
            NSString *validFromString = [brkDownMonthArray objectAtIndex:i];
            NSDateFormatter *df= [NSDateFormatter new];
            [df setDateFormat:@"yyyyMM"];
            NSDate *targetDate=[df dateFromString:validFromString];
            [df setDateFormat:@"MMM yyyy"];
            NSString *dateFrom=[df stringFromDate:targetDate];
            [brkDownMonthMainArray addObject:dateFrom];

        }

        if([brkPlantArray count] == 1)
        {
            self.brkDownPlantText.text =[[brkPlantArray objectAtIndex:0] objectForKey:@"Name"];
        }

        //                    if ([mttrMainArray count]>1)
        //                    {
        //                        PNBarChart * barChart = [[PNBarChart alloc] initWithFrame:CGRectMake(0, 50, SCREEN_WIDTH, 600.0)];
        //
        //                        //                    if ([brkPlantArray count])
        //                        //                    {
        //                        //                        for (int p = 0; p<[brkPlantArray  count]; p++)
        //                        //                        {
        //                        // [barChartPlantArray addObject:[[brkPlantArray objectAtIndex:p] objectForKey:@"Name"]];
        //
        //                        [barChart setXLabels:@[@"SMELTER-I JHARSUGUDA"]];
        //
        //                        //                        }
        //                        //                    }
        //
        //                        //     [barChart setYValues:@[@73, @80, @2, @6, @3]];
        //
        //                        [barChart setYValues:mttrMainArray];
        //
        //                        [barChart setLabelTextColor:[UIColor redColor]];
        //                        [barChart setBarColorGradientStart:[UIColor blueColor]];
        //
        //                        [barChart strokeChart];
        //                        barChart.delegate=self;
        //
        //                        [self.barchartView addSubview:barChart];
        //                       // [self.view addSubview:brkDownView];
        //
        //
        //                    }
        if ([mttrMainArray count] >= 1)
        {
            NSLog(@"chartValueSelected");
            months = nil;
            months = brkDownMonthMainArray;

            dispatch_async(dispatch_get_main_queue(), ^{
                [self updateChartData];
                [self.view addSubview:brkDownView];
            });
        }
        else
        {
            
            [self showAlertMessageWithTitle:@"" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
            
        }
}
-(void)previousBrkDownData
{

    NSDateComponents *components = [[NSCalendar currentCalendar] components:NSCalendarUnitDay | NSCalendarUnitMonth | NSCalendarUnitYear fromDate:[NSDate date]];
    // NSInteger day = [components day];
    //                   NSInteger month = [components month];
    //                    NSInteger year = [components year];

    if ([components month]>= 4)
    {
        bYear =[NSString stringWithFormat:@"%ld",(long)[components year]];
        [components setYear:[components year]];
        self.monthlyTrendText.text = [NSString stringWithFormat:@"MTTR Monthly Trend -FY%ld",(long)[components year]];
    }

    // NSString *currentMonth = [NSString stringWithFormat:@"%ld0%ld",(long)year,(long)month];

    for (int j = 0; j<[breakdownMonthMainArray count]; j++)
    {
        //                        if ([currentMonth isEqualToString:[[breakdownMonthMainArray objectAtIndex:j] objectForKey:@"Spmon"]])
        //                        {
        [brkDownArray addObject:[breakdownMonthMainArray objectAtIndex:j]];
        //}
    }
    NSString *mttrPlantString;
    int z = 0;
    for (int i = 0; i<[brkDownArray count]; i ++)
    {
        if (mttrPlantString.length)
        {
            if ([mttrPlantString isEqualToString:[[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"]])
            {
                int x = 0;
                x = [[mttrMainArray lastObject] intValue];
                int y = 0;
                y = [[[brkDownArray objectAtIndex:i] objectForKey:@"MttrHours"] intValue];
                [mttrMainArray replaceObjectAtIndex:z withObject:[NSNumber numberWithUnsignedInteger:x+y]];
            }
            else
            {
                [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
                z = z+1;
                mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
            }
        }
        else
        {
            [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
            mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
        }

    }

    for (int i = 0; i<[breakdownBarGraphMonthArray count]; i++)
    {
        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Count"])
        {
            [brkDownCountArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Count"]];
        }
        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"MttrHours"])
        {
            [brkDownMttrArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"MttrHours"]];
        }
        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"TotM2"])
        {
            [brkDownHoursArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"TotM2"]];
        }
        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Spmon"])
        {
            [brkDownMonthArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Spmon"]];
        }

    }

    for (int i = 0; i<[brkDownMonthArray count]; i++)
    {
        NSString *validFromString = [brkDownMonthArray objectAtIndex:i];
        NSDateFormatter *df= [NSDateFormatter new];
        [df setDateFormat:@"yyyyMM"];
        NSDate *targetDate=[df dateFromString:validFromString];
        [df setDateFormat:@"MMM yyyy"];
        NSString *dateFrom=[df stringFromDate:targetDate];
        [brkDownMonthMainArray addObject:dateFrom];

    }

    if([brkPlantArray count] == 1)
    {
        self.brkDownPlantText.text =[[brkPlantArray objectAtIndex:0] objectForKey:@"Name"];
    }
    //                    if ([mttrMainArray count]>1)
    //                    {
    //                        PNBarChart * barChart = [[PNBarChart alloc] initWithFrame:CGRectMake(0, 50, SCREEN_WIDTH, 600.0)];
    //
    //                        //                    if ([brkPlantArray count])
    //                        //                    {
    //                        //                        for (int p = 0; p<[brkPlantArray  count]; p++)
    //                        //                        {
    //                        // [barChartPlantArray addObject:[[brkPlantArray objectAtIndex:p] objectForKey:@"Name"]];
    //
    //                        [barChart setXLabels:@[@"SMELTER-I JHARSUGUDA"]];
    //
    //                        //                        }
    //                        //                    }
    //
    //                        //     [barChart setYValues:@[@73, @80, @2, @6, @3]];
    //
    //                        [barChart setYValues:mttrMainArray];
    //
    //                        [barChart setLabelTextColor:[UIColor redColor]];
    //                        [barChart setBarColorGradientStart:[UIColor blueColor]];
    //
    //                        [barChart strokeChart];
    //                        barChart.delegate=self;
    //
    //                        [self.barchartView addSubview:barChart];
    //
    //                    }
    if ([mttrMainArray count] >= 1)
    {
        months = nil;
        months = brkDownMonthMainArray;

        dispatch_async(dispatch_get_main_queue(), ^{
            [self updateChartData];
            self.calenderButton.hidden = YES;
            [self.view addSubview:brkDownView];
        });
    }
}

#pragma mark- request Delegate

- (void)resultData:(NSDictionary *)resultData withErrorDescription:(NSString *)errorDescription requestID:(WebServiceRequest)requestID :(int)statusCode
{
    if (parsedDictionary == nil) {
        parsedDictionary = [NSMutableDictionary new];
    }
    else{
        
        [parsedDictionary removeAllObjects];
    }
    
    switch (requestID) {
            
        case BREAKDOWN_STATISTICS:
            
            if (!errorDescription.length) {
                
                parsedDictionary = [[Response sharedInstance] parseForBreakDownData:resultData];
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];

                if (brkPlantArray == nil || barchartArray == nil || brkdownDescriptionArray == nil || breakdownMonthMainArray == nil || breakdownBarGraphMonthArray == nil || brkdownMainArray == nil || brkdownTempArray == nil || brkDownArray == nil || mttrMainArray == nil || brkdownDescArray == nil || brkdownDescPlantArray == nil || brkDownMttrArray == nil || brkDownHoursArray == nil || brkDownCountArray == nil || brkDownMonthArray == nil || brkDownMonthMainArray == nil || barChartPlantArray == nil || brkDownAreaArray == nil)
                {
                    brkPlantArray = [NSMutableArray new];
                    barchartArray = [NSMutableArray new];
                    brkdownDescriptionArray = [NSMutableArray new];
                    breakdownMonthMainArray = [NSMutableArray new];
                    breakdownBarGraphMonthArray = [NSMutableArray new];
                    brkdownMainArray = [NSMutableArray new];
                    brkdownTempArray = [NSMutableArray new];
                    brkDownArray = [NSMutableArray new];
                    mttrMainArray = [NSMutableArray new];
                    brkdownDescArray = [NSMutableArray new];
                    brkdownDescPlantArray = [NSMutableArray new];
                    brkDownMttrArray = [NSMutableArray new];
                    brkDownHoursArray = [NSMutableArray new];
                    brkDownCountArray = [NSMutableArray new];
                    brkDownMonthArray = [NSMutableArray new];
                    brkDownMonthMainArray = [NSMutableArray new];
                    barChartPlantArray = [NSMutableArray new];
                    brkDownAreaArray = [NSMutableArray new];
                    
                }
                else
                {
                    [brkPlantArray removeAllObjects];
                    [barchartArray removeAllObjects];
                    [brkdownDescriptionArray removeAllObjects];
                    [breakdownMonthMainArray removeAllObjects];
                    [breakdownBarGraphMonthArray removeAllObjects];
                    [brkdownMainArray removeAllObjects];
                    [brkdownTempArray removeAllObjects];
                    [brkDownArray removeAllObjects];
                    [mttrMainArray removeAllObjects];
                    [brkdownDescArray removeAllObjects];
                    [brkdownDescPlantArray removeAllObjects];
                    [brkDownMttrArray removeAllObjects];
                    [brkDownHoursArray removeAllObjects];
                    [brkDownCountArray removeAllObjects];
                    [brkDownMonthArray removeAllObjects];
                    [brkDownMonthMainArray removeAllObjects];
                    [barChartPlantArray removeAllObjects];
                    [brkDownAreaArray removeAllObjects];
                    
                }
                
                brkdownDescriptionArray = [parsedDictionary objectForKey:@"Description"];
                //              brkPlantArray = [parsedDictionary objectForKey:@"Details"];
                barchartArray = [parsedDictionary objectForKey:@"BarChartDescription"];
                
                brkPlantArray = [parsedDictionary objectForKey:@"BreakDownPlants"];
                
                breakdownMonthMainArray = [parsedDictionary objectForKey:@"CurrentMonth"];
                breakdownBarGraphMonthArray = [parsedDictionary objectForKey:@"BreakDownBarGraphMonthTotal"];
                brkDownAreaArray = [parsedDictionary objectForKey:@"BreakDownAreaTotal"];
                
                _chartView.delegate = self;
                
                _chartView.chartDescription.enabled = NO;
                
                _chartView.drawGridBackgroundEnabled = NO;
                _chartView.drawBarShadowEnabled = NO;
                _chartView.highlightFullBarEnabled = NO;
                
                _chartView.drawOrder = @[
                                         @(CombinedChartDrawOrderBar),
                                         @(CombinedChartDrawOrderLine)
                                         ];
                
                ChartLegend *l = _chartView.legend;
                l.wordWrapEnabled = YES;
                l.horizontalAlignment = ChartLegendHorizontalAlignmentCenter;
                l.verticalAlignment = ChartLegendVerticalAlignmentBottom;
                //                    l.orientation = ChartLegendOrientationHorizontal;
                l.drawInside = NO;
                
                ChartYAxis *rightAxis = _chartView.rightAxis;
                rightAxis.drawGridLinesEnabled = NO;
                rightAxis.axisMinimum = 0.0; // this replaces startAtZero = YES
                
                ChartYAxis *leftAxis = _chartView.leftAxis;
                leftAxis.drawGridLinesEnabled = NO;
                leftAxis.axisMinimum = 0.0; // this replaces startAtZero = YES
                
                ChartXAxis *xAxis = _chartView.xAxis;
                xAxis.labelPosition = XAxisLabelPositionBottom;
                xAxis.axisMinimum = 0.0;
                xAxis.granularity = 1.0;
                xAxis.valueFormatter = self;
                
                
                if ([breadkDownStr isEqualToString:@"PreviousFinantialYearData"])
                {
                    [self previousBrkDownData];
                }
//                {
//                    
//                    NSDateComponents *components = [[NSCalendar currentCalendar] components:NSCalendarUnitDay | NSCalendarUnitMonth | NSCalendarUnitYear fromDate:[NSDate date]];
//                    // NSInteger day = [components day];
//                    //                   NSInteger month = [components month];
//                    //                    NSInteger year = [components year];
//                    
//                    if ([components month]>= 4)
//                    {
//                        bYear =[NSString stringWithFormat:@"%ld",(long)[components year]];
//                        [components setYear:[components year]];
//                        self.monthlyTrendText.text = [NSString stringWithFormat:@"MTTR Monthly Trend -FY%ld",(long)[components year]];
//                    }
//                    
//                    // NSString *currentMonth = [NSString stringWithFormat:@"%ld0%ld",(long)year,(long)month];
//                    
//                    for (int j = 0; j<[breakdownMonthMainArray count]; j++)
//                    {
//                        //                        if ([currentMonth isEqualToString:[[breakdownMonthMainArray objectAtIndex:j] objectForKey:@"Spmon"]])
//                        //                        {
//                        [brkDownArray addObject:[breakdownMonthMainArray objectAtIndex:j]];
//                        //}
//                    }
//                    NSString *mttrPlantString;
//                    int z = 0;
//                    for (int i = 0; i<[brkDownArray count]; i ++)
//                    {
//                        if (mttrPlantString.length)
//                        {
//                            if ([mttrPlantString isEqualToString:[[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"]])
//                            {
//                                int x = 0;
//                                x = [[mttrMainArray lastObject] intValue];
//                                int y = 0;
//                                y = [[[brkDownArray objectAtIndex:i] objectForKey:@"MttrHours"] intValue];
//                                [mttrMainArray replaceObjectAtIndex:z withObject:[NSNumber numberWithUnsignedInteger:x+y]];
//                            }
//                            else
//                            {
//                                [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
//                                z = z+1;
//                                mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
//                            }
//                        }
//                        else
//                        {
//                            [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
//                            mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
//                        }
//                        
//                    }
//                    
//                    for (int i = 0; i<[breakdownBarGraphMonthArray count]; i++)
//                    {
//                        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Count"])
//                        {
//                            [brkDownCountArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Count"]];
//                        }
//                        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"MttrHours"])
//                        {
//                            [brkDownMttrArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"MttrHours"]];
//                        }
//                        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"TotM2"])
//                        {
//                            [brkDownHoursArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"TotM2"]];
//                        }
//                        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Spmon"])
//                        {
//                            [brkDownMonthArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Spmon"]];
//                        }
//                        
//                    }
//                    
//                    for (int i = 0; i<[brkDownMonthArray count]; i++)
//                    {
//                        NSString *validFromString = [brkDownMonthArray objectAtIndex:i];
//                        NSDateFormatter *df= [NSDateFormatter new];
//                        [df setDateFormat:@"yyyyMM"];
//                        NSDate *targetDate=[df dateFromString:validFromString];
//                        [df setDateFormat:@"MMM yyyy"];
//                        NSString *dateFrom=[df stringFromDate:targetDate];
//                        [brkDownMonthMainArray addObject:dateFrom];
//                        
//                    }
//                    
//                    if([brkPlantArray count] == 1)
//                    {
//                        self.brkDownPlantText.text =[[brkPlantArray objectAtIndex:0] objectForKey:@"Name"];
//                    }
////                    if ([mttrMainArray count]>1)
////                    {
////                        PNBarChart * barChart = [[PNBarChart alloc] initWithFrame:CGRectMake(0, 50, SCREEN_WIDTH, 600.0)];
////                        
////                        //                    if ([brkPlantArray count])
////                        //                    {
////                        //                        for (int p = 0; p<[brkPlantArray  count]; p++)
////                        //                        {
////                        // [barChartPlantArray addObject:[[brkPlantArray objectAtIndex:p] objectForKey:@"Name"]];
////                        
////                        [barChart setXLabels:@[@"SMELTER-I JHARSUGUDA"]];
////                        
////                        //                        }
////                        //                    }
////                        
////                        //     [barChart setYValues:@[@73, @80, @2, @6, @3]];
////                        
////                        [barChart setYValues:mttrMainArray];
////                        
////                        [barChart setLabelTextColor:[UIColor redColor]];
////                        [barChart setBarColorGradientStart:[UIColor blueColor]];
////                        
////                        [barChart strokeChart];
////                        barChart.delegate=self;
////                        
////                        [self.barchartView addSubview:barChart];
////                        
////                    }
//                   if ([mttrMainArray count] >= 1)
//                    {
//                        months = nil;
//                        months = brkDownMonthMainArray;
//                        
//                        dispatch_async(dispatch_get_main_queue(), ^{
//                            [self updateChartData];
//                            self.calenderButton.hidden = YES;
//                            [self.view addSubview:brkDownView];
//                        });
//                    }
//                }
                else
                {
                    [self brkDownInitialMethod];
                }
//                {
//                    if ([brkPlantArray count])
//                    {
//                        NSMutableArray *coutArray;
//                        if (coutArray == nil)
//                        {
//                            coutArray = [NSMutableArray new];
//                        }
//                        else
//                        {
//                            [coutArray removeAllObjects];
//                        }
//
//                        if ([brkPlantArray count]>1)
//                        {
//                            for (int i = 0; i<[brkPlantArray count]; i++)
//                            {
//                                [coutArray addObject:[[brkPlantArray objectAtIndex:i] objectForKey:@"Count"]];
//                            }
//                        }
//                        int maxValue = 0;
//                        for (NSString * strMaxi in coutArray) {
//                            int currentValue=[strMaxi intValue];
//                            if (currentValue > maxValue) {
//                                maxValue=currentValue;
//                            }
//                        }
//                        for (int i = 0; i<[brkPlantArray count]; i++)
//                        {
//                        if (maxValue == [[[brkPlantArray objectAtIndex:i] objectForKey:@"Count"] intValue])
//                        {
//                            MaxPlantString = [[brkPlantArray objectAtIndex:i] objectForKey:@"Iwerk"];
//                            NSLog(@"plant=%@",MaxPlantString);
//                            _brkDownPlantText.text = [[brkPlantArray objectAtIndex:i] objectForKey:@"Name"];
//                        }
//                        }
//                        
//                        
////                        int miniValue = 0;
////                        for (NSString * strMini in coutArray) {
////                            int currentValue=[strMini intValue];
////                            if (currentValue < miniValue) {
////                                miniValue=currentValue;
////                            }
////                        }
//                        
//                        
//                        NSLog(@"Maxi:%d",maxValue);
//                       
////                        else
////                        {
////                            [coutArray addObject:[[brkPlantArray objectAtIndex:0] objectForKey:@"Count"]];
////                        }
//                    }
//              //  }
//              //  {
//                    self.calenderButton.hidden = NO;
//                    NSDateComponents *components = [[NSCalendar currentCalendar] components:NSCalendarUnitDay | NSCalendarUnitMonth | NSCalendarUnitYear fromDate:[NSDate date]];
//                    NSInteger month = [components month];
//                    NSInteger year = [components year];
//                    
//                    if ([components month]>= 4)
//                    {
//                        bYear =[NSString stringWithFormat:@"%ld",(long)[components year]];
//                        [components setYear:[components year]+1];
//                        self.monthlyTrendText.text = [NSString stringWithFormat:@"MTTR Monthly Trend -FY%ld",(long)[components year]];
//                    }
//                    else if ([components month]<4)
//                    {
//                        bYear =[NSString stringWithFormat:@"%ld",(long)[components year]];
//                        [components setYear:[components year]];
//                        self.monthlyTrendText.text = [NSString stringWithFormat:@"MTTR Monthly Trend -FY%ld",(long)[components year]];
//                    }
//                    
//                    currentMonth = [NSString stringWithFormat:@"%ld0%ld",(long)year,(long)month];
//                    
//                    for (int j = 0; j<[breakdownMonthMainArray count]; j++)
//                    {
//                        if ([MaxPlantString isEqualToString:[[breakdownMonthMainArray objectAtIndex:j] objectForKey:@"Iwerk"]])
//                        {
//                            
//                        if ([currentMonth isEqualToString:[[breakdownMonthMainArray objectAtIndex:j] objectForKey:@"Spmon"]])
//                        {
//                            [brkDownArray addObject:[breakdownMonthMainArray objectAtIndex:j]];
//                        }
//                        }
//                    }
//                    NSString *mttrPlantString;
//                    int z = 0;
//                    for (int i = 0; i<[brkDownArray count]; i ++)
//                    {
//                        if (mttrPlantString.length)
//                        {
//                            if ([mttrPlantString isEqualToString:[[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"]])
//                            {
//                                int x = 0;
//                                x = [[mttrMainArray lastObject] intValue];
//                                int y = 0;
//                                y = [[[brkDownArray objectAtIndex:i] objectForKey:@"MttrHours"] intValue];
//                                [mttrMainArray replaceObjectAtIndex:z withObject:[NSNumber numberWithUnsignedInteger:x+y]];
//                            }
//                            else
//                            {
//                                [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
//                                z = z+1;
//                                mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
//                            }
//                        }
//                        else
//                        {
//                            [mttrMainArray addObject:[NSNumber numberWithUnsignedInteger:[[[brkDownArray objectAtIndex:i]objectForKey:@"MttrHours"] intValue]]];
//                            mttrPlantString = [[brkDownArray objectAtIndex:i] objectForKey:@"Iwerk"];
//                        }
//                        
//                    }
//                    
//                    for (int i = 0; i<[breakdownBarGraphMonthArray count]; i++)
//                    {
//                        if ([MaxPlantString isEqualToString:[[breakdownMonthMainArray objectAtIndex:i] objectForKey:@"Iwerk"]])
//                        {
//
//                        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Count"])
//                        {
//                            [brkDownCountArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Count"]];
//                        }
//                        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"MttrHours"])
//                        {
//                            [brkDownMttrArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"MttrHours"]];
//                        }
//                        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"TotM2"])
//                        {
//                            [brkDownHoursArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"TotM2"]];
//                        }
//                        if ([[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Spmon"])
//                        {
//                            [brkDownMonthArray addObject:[[breakdownBarGraphMonthArray objectAtIndex:i] objectForKey:@"Spmon"]];
//                        }
//                        }
//                        
//                    }
//                    
//                    for (int i = 0; i<[brkDownMonthArray count]; i++)
//                    {
//                        NSString *validFromString = [brkDownMonthArray objectAtIndex:i];
//                        NSDateFormatter *df= [NSDateFormatter new];
//                        [df setDateFormat:@"yyyyMM"];
//                        NSDate *targetDate=[df dateFromString:validFromString];
//                        [df setDateFormat:@"MMM yyyy"];
//                        NSString *dateFrom=[df stringFromDate:targetDate];
//                        [brkDownMonthMainArray addObject:dateFrom];
//                        
//                    }
//                    
//                    if([brkPlantArray count] == 1)
//                    {
//                        self.brkDownPlantText.text =[[brkPlantArray objectAtIndex:0] objectForKey:@"Name"];
//                    }
//                    
////                    if ([mttrMainArray count]>1)
////                    {
////                        PNBarChart * barChart = [[PNBarChart alloc] initWithFrame:CGRectMake(0, 50, SCREEN_WIDTH, 600.0)];
////                        
////                        //                    if ([brkPlantArray count])
////                        //                    {
////                        //                        for (int p = 0; p<[brkPlantArray  count]; p++)
////                        //                        {
////                        // [barChartPlantArray addObject:[[brkPlantArray objectAtIndex:p] objectForKey:@"Name"]];
////                        
////                        [barChart setXLabels:@[@"SMELTER-I JHARSUGUDA"]];
////                        
////                        //                        }
////                        //                    }
////                        
////                        //     [barChart setYValues:@[@73, @80, @2, @6, @3]];
////                        
////                        [barChart setYValues:mttrMainArray];
////                        
////                        [barChart setLabelTextColor:[UIColor redColor]];
////                        [barChart setBarColorGradientStart:[UIColor blueColor]];
////                        
////                        [barChart strokeChart];
////                        barChart.delegate=self;
////                        
////                        [self.barchartView addSubview:barChart];
////                       // [self.view addSubview:brkDownView];
////
////                        
////                    }
//                    if ([mttrMainArray count] >= 1)
//                    {
//                        NSLog(@"chartValueSelected");
//                        months = nil;
//                        months = brkDownMonthMainArray;
//                        
//                        dispatch_async(dispatch_get_main_queue(), ^{
//                            [self updateChartData];
//                            [self.view addSubview:brkDownView];
//                        });
//                    }
//                    else
//                    {
//                      UIAlertView *brkDownAlert = [[UIAlertView alloc] initWithTitle:@"" message:@"No Data Found" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
//                        [brkDownAlert show];
//                    }
//                }
            }
            
            break;
            
        case NOTIFICATION_ANALYSIS:
            
            if (!errorDescription.length) {
                
                parsedDictionary = [[Response sharedInstance] parseForNotificationData:resultData];
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];

                res_obj.misDictionary = [parsedDictionary copy];
                
                if (notifPlantMainArray == nil || notifWorkCenterMainArray == nil || notifFilterStructuredArray == nil || array == nil || notifComlianceMainArray == nil)
                {
                    notifPlantMainArray = [NSMutableArray new];
                    notifWorkCenterMainArray = [NSMutableArray new];
                    notifFilterStructuredArray = [NSMutableArray new];
                    array = [NSMutableArray new];
                    notifComlianceMainArray = [NSMutableArray new];

                    
                }
                else
                {
                    [notifPlantMainArray removeAllObjects];
                    [notifWorkCenterMainArray removeAllObjects];
                    [notifFilterStructuredArray removeAllObjects];
                    [array removeAllObjects];
                    [notifComlianceMainArray removeAllObjects];

                    
                }
                notifComlianceMainArray = [ res_obj.misDictionary objectForKey:@"Details"];
                notifPlantMainArray = [res_obj.misDictionary objectForKey:@"NotifPlants"];
                notifWorkCenterMainArray = [res_obj.misDictionary objectForKey:@"NotifWorkCenter"];
                [notifFilterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:notifPlantMainArray,notifWorkCenterMainArray, nil]];
                
                if ([res_obj.misDictionary count]) {
                    notifSegmentedControl.selectedSegmentIndex = 0;
                    if ([res_obj.misDictionary objectForKey:@"result"])
                    {
                        if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"]];
                            
                        }
                        else
                        {
                            [array addObject:@"0"];
                            
                        }
                        
                        if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"]];
                            
                        }
                        else
                        {
                            [array addObject:@"0"];
                            
                        }
                        //                        if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Dele"])
                        //                        {
                        //                            [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Dele"]];
                        //
                        //                        }
                        //                        else
                        //                        {
                        //                            [array addObject:@"0"];
                        //                        }
                    }
                }
                else
                {
                    
                     [self showAlertMessageWithTitle:@"Alert" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
 
                }
 
                [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:nil];
                
                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    if ([array count])
                    {
                        [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
                        
                        [self.analysisView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
                        
                        [self.notifSubView addSubview:self.analysisView];
                        [superview addSubview:self.analysisView];
                    }
                    [MBProgressHUD hideHUDForView:self.view animated:YES];

                });
            }
            
            break;
            
        case ORDER_ANALYSIS:
            
            if (!errorDescription.length) {
                
                parsedDictionary = [[Response sharedInstance] parseForOrderData:resultData];
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];

                res_obj.misDictionary = [parsedDictionary copy];
                
                if (notifPlantMainArray == nil || notifWorkCenterMainArray == nil || notifFilterStructuredArray == nil || array == nil|| notifComlianceMainArray == nil)
                {
                    notifPlantMainArray = [NSMutableArray new];
                    notifWorkCenterMainArray = [NSMutableArray new];
                    notifFilterStructuredArray = [NSMutableArray new];
                    array = [NSMutableArray new];
                    notifComlianceMainArray = [NSMutableArray new];

                }
                else
                {
                    [notifPlantMainArray removeAllObjects];
                    [notifWorkCenterMainArray removeAllObjects];
                    [notifFilterStructuredArray removeAllObjects];
                    [array removeAllObjects];
                    [notifComlianceMainArray removeAllObjects];

                }
                notifComlianceMainArray = [ res_obj.misDictionary objectForKey:@"Details"];
                notifPlantMainArray = [res_obj.misDictionary objectForKey:@"OrderPlants"];
                notifWorkCenterMainArray = [res_obj.misDictionary objectForKey:@"OrderWorkCenter"];
                [notifFilterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:notifPlantMainArray,notifWorkCenterMainArray, nil]];
                
                if ([res_obj.misDictionary count]) {
                    notifSegmentedControl.selectedSegmentIndex = 0;
                    if ([res_obj.misDictionary objectForKey:@"result"])
                    {
                        if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"]];
                            
                        }
                        else
                        {
                            [array addObject:@"0"];
                            
                        }
                        
                        if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"]];
                            
                        }
                        else
                        {
                            [array addObject:@"0"];
                            
                        }
                        //                        if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Dele"])
                        //                        {
                        //                            [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Dele"]];
                        //
                        //                        }
                        //                        else
                        //                        {
                        //                            [array addObject:@"0"];
                        //                        }
                    }
                }
                else
                {
 
                [self showAlertMessageWithTitle:@"Alert" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                }
                [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:nil];
                
                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    if ([array count]) {
                        [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
                        [self.notifSubView addSubview:self.analysisView];
                        [superview addSubview:self.analysisView];
                    }
                    
                    [MBProgressHUD hideHUDForView:self.view animated:YES];

                });
            }
            
            break;

            
        case PERMIT_REPORT:
            
            if (!errorDescription.length)
            {
                parsedDictionary = [[Response sharedInstance] parseForPermitData:resultData];
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];

                if (permitPlantArray == nil || permitTotalPlantsArray == nil || permitDescrpnArray == nil || permitDetailArray == nil || permitWorkCenterArray == nil || permitTotalWorkCenterArray == nil || permitDetailDescpnArray == nil)
                {
                    permitPlantArray = [NSMutableArray new];
                    permitTotalPlantsArray = [NSMutableArray new];
                    permitDescrpnArray = [NSMutableArray new];
                    permitDetailArray = [NSMutableArray new];
                    permitWorkCenterArray = [NSMutableArray new];
                    permitTotalWorkCenterArray = [NSMutableArray new];
                    permitDetailDescpnArray = [NSMutableArray new];
                    
                }
                else
                {
                    [permitPlantArray removeAllObjects];
                    [permitTotalPlantsArray removeAllObjects];
                    [permitDescrpnArray removeAllObjects];
                    [permitDetailArray removeAllObjects];
                    [permitWorkCenterArray removeAllObjects];
                    [permitTotalWorkCenterArray removeAllObjects];
                    [permitDetailDescpnArray removeAllObjects];
                    
                }
                
                if (filterStructuredArray == nil || copyFilteredArray == nil) {
                    filterStructuredArray = [NSMutableArray new];
                    copyFilteredArray = [NSMutableArray new];
                    
                }
                else{
                    
                    [filterStructuredArray removeAllObjects];
                    [copyFilteredArray removeAllObjects];
                    
                }
                
                //
                
                permitTotalPlantsArray = [parsedDictionary objectForKey:@"PermitTotalPlants"];
                permitPlantArray = [parsedDictionary objectForKey:@"PermitPlants"];
                permitWorkCenterArray  = [parsedDictionary objectForKey:@"WorkCenter"];
                
                //                [filterStructuredArray addObject:[NSMutableArray arrayWithObjects:[parsedDictionary objectForKey:@"PermitPlants"],[parsedDictionary objectForKey:@"WorkCenter"], nil]];
                [filterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:permitPlantArray,permitWorkCenterArray, nil]];
                if (wrkAppPlantMainArray == nil || wrkAppWorkCenterMainArray == nil || copyFilteredArray == nil)
                {
                    wrkAppPlantMainArray = [NSMutableArray new];
                    wrkAppWorkCenterMainArray = [NSMutableArray new];
                    copyFilteredArray = [NSMutableArray new];
                }
                else
                {
                    [wrkAppPlantMainArray removeAllObjects];
                    [wrkAppWorkCenterMainArray removeAllObjects];
                    [copyFilteredArray removeAllObjects];
                    
                }
                wrkAppPlantMainArray = [parsedDictionary objectForKey:@"PermitPlants"];
                wrkAppWorkCenterMainArray  = [parsedDictionary objectForKey:@"WorkCenter"];
                
                [copyFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:wrkAppPlantMainArray,wrkAppWorkCenterMainArray, nil]];
                
                permitTotalWorkCenterArray  = [parsedDictionary objectForKey:@"TotalWorkCenter"];
                permitDescrpnArray = [parsedDictionary objectForKey:@"PermitDescription"];
                permitDetailArray = [parsedDictionary objectForKey:@"PermitDetail"];
                permitDetailDescpnArray = [parsedDictionary objectForKey:@"PermitDetailDescription"];
                res_obj.misDictionary = [parsedDictionary copy];
                
                if ([res_obj.misDictionary count]) {
                    
                    if ([res_obj.misDictionary objectForKey:@"permit"])
                    {
                        segmentedControl.selectedSegmentIndex = 0;
                        
                        self.permitPiechartView.selectedIdentifier = @"FirstPieChart";
                        
                        if (array == nil) {
                            array = [NSMutableArray new];
                        }
                        else{
                            [array removeAllObjects];
                        }
                        
                        if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Crea"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Crea"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Prep"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Prep"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        
                        if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Clsd"])
                        {
                            [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Clsd"]];
                        }
                        else
                        {
                            [array addObject:@"0"];
                        }
                        //                        if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Reje"])
                        //                        {
                        //                            [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Reje"]];
                        //                        }
                        //                        else
                        //                        {
                        //                            [array addObject:@"0"];
                        //                        }
                        if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Total"])
                        {
                            self.permitCountLabel.text = [[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Total"];
                        }
                        else
                        {
                            self.permitCountLabel.text = @"0";
                        }
                    }
                }
                else
                {
 
                   [self showAlertMessageWithTitle:@"Alert" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:@"Permit"];
                    
                }
                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                
                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    if ([array count]) {
                        [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:array];
                    }
                });
            }
            
            break;
            
        case AVAILABILITY_REPORT:
            
            if (!errorDescription.length)
            {
                parsedDictionary = [[Response sharedInstance] parseForAvailabilityData:resultData];
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];
                
                if (array == nil) {
                    array = [NSMutableArray new];
                }
                else{
                    [array removeAllObjects];
                }
                
                double brkSum,availabilitySum,offlineSum;
                res_obj.misDictionary = [parsedDictionary copy];
                
                if (availabilityPlantArray == nil)
                {
                    availabilityPlantArray = [NSMutableArray new];
                }
                else
                {
                    [availabilityPlantArray removeAllObjects];
                }
                
                if ([parsedDictionary count])
                {
                    if (availabilitySummary == nil)
                    {
                        availabilitySummary = [NSMutableArray new];
                    }
                    else
                    {
                        [availabilitySummary removeAllObjects];
                    }
                    availabilitySummary = [res_obj.misDictionary objectForKey:@"Summary"];
                    if ([res_obj.misDictionary objectForKey:@"Summary"])
                    {
                        for (int i= 0; i<[[res_obj.misDictionary objectForKey:@"Summary"] count]; i++)
                        {
                            if ([[[res_obj.misDictionary objectForKey:@"Summary"] objectAtIndex:i] objectForKey:@"TotM2"])
                            {
                                brkSum += [[[[res_obj.misDictionary objectForKey:@"Summary"] objectAtIndex:i] objectForKey:@"TotM2"] doubleValue];
                                NSLog(@"brk %f",brkSum);
                            }
                            else
                            {
                                [array addObject:@"0"];
                                
                            }
                            if ([[[res_obj.misDictionary objectForKey:@"Summary"] objectAtIndex:i] objectForKey:@"Count"])
                            {
                                availabilitySum += [[[[res_obj.misDictionary objectForKey:@"Summary"] objectAtIndex:i] objectForKey:@"Count"] doubleValue];
                                NSLog(@"availabilitySum %f",availabilitySum);
                                
                            }
                            else
                            {
                                [array addObject:@"0"];
                                
                            }
                            if ([[[res_obj.misDictionary objectForKey:@"Summary"] objectAtIndex:i] objectForKey:@"TotM3"])
                            {
                                offlineSum += [[[[res_obj.misDictionary objectForKey:@"Summary"] objectAtIndex:i] objectForKey:@"TotM3"] doubleValue];
                                NSLog(@"offlineSum %f",offlineSum);
                                
                            }
                            else
                            {
                                [array addObject:@"0"];
                                
                            }
                            
                        }
                        [array addObject:[NSNumber numberWithDouble:brkSum]];
                        [array addObject:[NSNumber numberWithDouble:availabilitySum]];
                        [array addObject:[NSNumber numberWithDouble:offlineSum]];
                        
                    }
                }
                else
                {
 
                       [self showAlertMessageWithTitle:@"Alert" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:@"Availability Report"];
                    
                }
                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    if ([array count]) {
                        [self.availabilityPiechartView renderInLayer:self.availabilityPiechartView dataArray:array];
                    }
                    
                    [MBProgressHUD hideHUDForView:self.view animated:YES];

                });
            }
            break;
            
            
        default: break;
    }
}

- (IBAction)breakDownFilterClicked:(id)sender
{
    if (brkDownFilterStructuredArray == nil)
    {
        brkDownFilterStructuredArray = [NSMutableArray new];
    }
    else
    {
        [brkDownFilterStructuredArray removeAllObjects];
    }
    
    
    [brkDownFilterStructuredArray addObjectsFromArray:brkPlantArray];

    NSString *plantHeaderString = self.brkDownPlantText.text;
    for (int i = 0; i<[brkDownFilterStructuredArray count]; i++)
    {
        if ([plantHeaderString isEqualToString:[[brkDownFilterStructuredArray objectAtIndex:i] objectForKey:@"Name"]])
        {
            [[brkDownFilterStructuredArray objectAtIndex:i] setObject:@"X" forKey:@"BrkDownPlantStatus"];
 
        }
        else
        {
            [[brkDownFilterStructuredArray objectAtIndex:i] setObject:@"" forKey:@"BrkDownPlantStatus"];
 
        }
    }
    
        self.descNotifPieChartView.selectedIdentifier = nil;
        self.pieNotifChartView.selectedIdentifier = nil;
        notifPiechartString = @"BreakDownStatistics";
        
        self.misFilterByLabel.text=@"FilterBy:";
        self.misInfoFilterLabel.hidden=YES;
        
        if (isiPhone5) {
            
            [self.misFilterTableView setFrame:CGRectMake(0,45, 260, 480)];
        }
        else if (isiPhone6 || isiPhone7){
            
            [self.misFilterTableView setFrame:CGRectMake(0,45, 260, 582)];
        }
        else if (IS_IPHONE_6_PLUS || IS_IPHONE_7_PLUS){
            
            [self.misFilterTableView setFrame:CGRectMake(0,45, 260, 645)];
        }
      else if (IS_IPAD)
      {
          [self.misFilterTableView setFrame:CGRectMake(0,45, 320, 969)];

      }
        
        
        [self misFilterCall];
        self.brkDownFilterBackground.hidden = NO;
        self.misFilterTableView.tag = 7;
        [self.misFilterTableView reloadData];
    
        [self.misFilterView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    
        [self.view addSubview:self.misFilterView];
    
}
//{
//    if (brkDownFilterStructuredArray == nil)
//    {
//        brkDownFilterStructuredArray = [NSMutableArray new];
//    }
//    else
//    {
//        [brkDownFilterStructuredArray removeAllObjects];
//    }
//
//    [brkDownFilterStructuredArray addObjectsFromArray:brkPlantArray];
//
//    
//    notifPiechartString = @"BreakDownStatistics";
//    
//    self.misFilterByLabel.text=@"FilterBy:";
//    self.misInfoFilterLabel.hidden=YES;
//    
//    if (isiPhone5) {
//        
//        [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 470)];
//    }
//    else if (isiPhone6 || isiPhone7){
//        
//        [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 587)];
//    }
//    
//    [self misFilterCall];
//    self.brkDownFilterBackground.hidden=NO;
//    self.misFilterTableView.tag = 7;
//    [self.misFilterTableView reloadData];
//    
//    [self.view addSubview:self.misFilterView];
//    
//}


- (IBAction)plantFilterSelected:(id)sender
{
    //    if ((superview = [self.analysisView superview])) {
    //        [self.analysisView removeFromSuperview];
    //    }
    //    else if ((superview = [self.notifBarchartView superview])){
    
    // }
    
    self.permitPiechartView.selectedIdentifier = nil;
    
    if (notifSegmentedControl.selectedSegmentIndex == 0)
    {
        
//        [notifDescFilterStructuredArray removeAllObjects];
//        notifPlantMainArray = [NSMutableArray new];
//        notifWorkCenterMainArray = [NSMutableArray new];
//        notifFilterStructuredArray = [NSMutableArray new];
        
        if (notifDescFilterStructuredArray == nil || notifFilterStructuredArray == nil)
        {
            notifDescFilterStructuredArray = [NSMutableArray new];
//            notifPlantMainArray = [NSMutableArray new];
//            notifWorkCenterMainArray = [NSMutableArray new];
            notifFilterStructuredArray = [NSMutableArray new];

        }
        else
        {
            [notifDescFilterStructuredArray removeAllObjects];
//            [notifPlantMainArray removeAllObjects];
//            [notifWorkCenterMainArray removeAllObjects];
            [notifFilterStructuredArray removeAllObjects];

        }
        if ([selectedFlag isEqualToString:@"Notification"])
        {
//            notifPlantMainArray = [res_obj.misDictionary objectForKey:@"NotifPlants"];
//            notifWorkCenterMainArray = [res_obj.misDictionary objectForKey:@"NotifWorkCenter"];
            [notifFilterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:notifPlantMainArray,notifWorkCenterMainArray, nil]];
        }
        else if ([selectedFlag isEqualToString:@"Order"])
        {
           // notifPlantMainArray
//            notifPlantMainArray = [res_obj.misDictionary objectForKey:@"OrderPlants"];
//            notifWorkCenterMainArray = [res_obj.misDictionary objectForKey:@"OrderWorkCenter"];
            [notifFilterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:notifPlantMainArray,notifWorkCenterMainArray, nil]];
        }
        
        self.descNotifPieChartView.selectedIdentifier = nil;
        self.pieNotifChartView.selectedIdentifier = nil;
        notifPiechartString = @"Notif";
        
        self.misFilterByLabel.text=@"FilterBy:";
        self.misInfoFilterLabel.hidden=YES;
        
        blackView=[[UIView alloc] init];
         [blackView setBackgroundColor:[UIColor blackColor]];
         [blackView setAlpha:0.5];
          [blackView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
        [self.view addSubview:blackView];
        
        //260
        
         self.misFilterTableView.tag = 4;
        [self.misFilterTableView reloadData];
          [self.misFilterView setFrame:CGRectMake(self.view.frame.size.width-280, 0, 280, self.view.frame.size.height)];
        [self.view addSubview:self.misFilterView];
    }
    else if (notifSegmentedControl.selectedSegmentIndex == 1)
    {
        
         [notifDescFilterStructuredArray removeAllObjects];
        notifBarPlantMainArray = [NSMutableArray new];
        notifBarWorkcenterMainArray = [NSMutableArray new];
        notifBarFilterStructuredArray = [NSMutableArray new];
        
//        if (notifBarPlantMainArray == nil || notifBarWorkcenterMainArray == nil || notifBarFilterStructuredArray == nil)
//        {
//            notifBarPlantMainArray = [NSMutableArray new];
//            notifBarWorkcenterMainArray = [NSMutableArray new];
//            notifBarFilterStructuredArray = [NSMutableArray new];
//        }
//        else
//        {
//            [notifBarPlantMainArray removeAllObjects];
//            [notifBarWorkcenterMainArray removeAllObjects];
//            [notifBarFilterStructuredArray removeAllObjects];
//
//        }
        if ([selectedFlag isEqualToString:@"Notification"])
        {
            notifBarPlantMainArray = [res_obj.misDictionary objectForKey:@"NotifPlants"];
            notifBarWorkcenterMainArray = [res_obj.misDictionary objectForKey:@"NotifWorkCenter"];
            [notifBarFilterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:notifBarPlantMainArray,notifBarWorkcenterMainArray, nil]];
  
        }
        else if ([selectedFlag isEqualToString:@"Order"])
        {
            notifBarPlantMainArray = [res_obj.misDictionary objectForKey:@"OrderPlants"];
            notifBarWorkcenterMainArray = [res_obj.misDictionary objectForKey:@"OrderWorkCenter"];
            [notifBarFilterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:notifBarPlantMainArray,notifBarWorkcenterMainArray, nil]];
  
        }

        
        self.descNotifPieChartView.selectedIdentifier = nil;
        self.pieNotifChartView.selectedIdentifier = nil;
        notifPiechartString = @"NotifBar";
        
        self.misFilterByLabel.text=@"FilterBy:";
        self.misInfoFilterLabel.hidden=YES;
        
        if (isiPhone5) {
            
            [self.misFilterTableView setFrame:CGRectMake(0,45, 260, 480)];
        }
        else if (isiPhone6 || isiPhone7){
            
            [self.misFilterTableView setFrame:CGRectMake(0,45, 260, 582)];
        }
        else if (IS_IPHONE_6_PLUS || IS_IPHONE_7_PLUS){
            
            [self.misFilterTableView setFrame:CGRectMake(0,45, 260, 645)];
        }
        else if (IS_IPAD)
        {
            [self.misFilterTableView setFrame:CGRectMake(0,45, 320, 969)];

        }
        
        
        [self misFilterCall];
        // self.notifBarBackground.hidden = NO;
        self.notifFilterBackGround.hidden = NO;
        // [self.notifBarchartView addSubview:self.backgroundView];
        self.misFilterTableView.tag = 8;
        [self.misFilterTableView reloadData];
          [self.misFilterView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
        [self.view addSubview:self.misFilterView];
        //[notificationView addSubview:self.misFilterView];
        
    }
    
}
- (IBAction)clearFilterClicked:(id)sender
{
    self.filterdTableArray = nil;
    if (self.filterTableView.tag == 1)
    {
        for (int i=0; i<[plantArray count]; i++)
        {
            [[plantArray objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
        }
        
        [self.filterTableView reloadData];
        notifDetailFilter = NO;
        self.notifDescPlantLabelText.hidden = YES;
        self.descPlantHeader.hidden = YES;
        self.scFilteredArray = nil;
        [self secondPiechart];
        [self.filterView removeFromSuperview];
        
    }
    else if (self.filterTableView.tag == 2)
    {
        for (int i=0; i<[plantArray count]; i++)
        {
            [[plantArray objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
        }
        
        [self.filterTableView reloadData];
        self.detailSelectedPlantText.hidden = YES;
        self.detailPlantHeader.hidden = YES;
        self.detailSelectedPlantText.text = @"";
        self.notifDescTableView.tag = 0;
        [self.notifDescTableView reloadData];
        [self.filterView removeFromSuperview];
        
    }
    else if (self.filterTableView.tag == 3)
    {
        self.pieBrkDownChartView.selectedIdentifier = @"";
        
        for (int i=0; i<[brkPlantArray count]; i++)
        {
            [[brkPlantArray objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
        }
        
        [self.filterTableView reloadData];
        
        self.brkFilterdArray = nil;
        self.brkPlantTitle.hidden = YES;
        self.brkPlantText.hidden = YES;
        
        if (array == nil)
        {
            array = [NSMutableArray new];
        }
        else
        {
            [array removeAllObjects];
        }
        if ([parsedDictionary objectForKey:@"result"])
        {
            
            //           [array removeAllObjects];
            
            if ([[[parsedDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"TotM2"])
            {
                [array addObject:[[[parsedDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"TotM2"]];
            }
            else
            {
                [array addObject:@"0"];
                
            }
            
            if ([[[parsedDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Count"])
            {
                [array addObject:[[[parsedDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Count"]];
                
            }
            else
            {
                [array addObject:@"0"];
                
            }
            if ([[[parsedDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"TotM3"])
            {
                [array addObject:[[[parsedDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"TotM3"]];
                
            }
            else
            {
                [array addObject:@"0"];
                
            }
            dispatch_async(dispatch_get_main_queue(), ^{
                
                [self.pieBrkDownChartView renderInLayer:self.pieBrkDownChartView dataArray:array];
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];

            });
            
        }
        else
        {
           
            [self showAlertMessageWithTitle:@"Alert" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
         }
        
        [self.filterView removeFromSuperview];
        
    }
    else if (self.filterTableView.tag == 4)
    {
        self.permitFilteredArray = nil;
        self.permitPlantText.hidden = YES;
        self.permitPlantTitle.hidden = YES;
        
        for (int i=0; i<[permitPlantArray count]; i++)
        {
            [[permitPlantArray objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
        }
        
        [self.filterTableView reloadData];
        
        if ([res_obj.misDictionary objectForKey:@"permit"])
        {
            self.permitPiechartView.selectedIdentifier = @"FirstPieChart";
            
            if (array == nil) {
                array = [NSMutableArray new];
            }
            else{
                [array removeAllObjects];
            }
            
            if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Crea"])
            {
                [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Crea"]];
            }
            else
            {
                [array addObject:@"0"];
            }
            if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Prep"])
            {
                [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Prep"]];
            }
            else
            {
                [array addObject:@"0"];
            }
            
            if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Clsd"])
            {
                [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Clsd"]];
            }
            else
            {
                [array addObject:@"0"];
            }
            if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Reje"])
            {
                [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Reje"]];
            }
            else
            {
                [array addObject:@"0"];
            }
            
            
            dispatch_async(dispatch_get_main_queue(), ^{
                
                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:array];
                [self.filterView removeFromSuperview];
                
                [MBProgressHUD hideHUDForView:self.view animated:YES];

            });
            
        }
        
        
    }
    //  else if (self.filterTableView.tag == 5)
    //   {
    //       self.workApprovalFilteredArray = nil;
    //       self.wrkApprovalPlantText.hidden = YES;
    //       self.workApprovalPlantTitle.hidden = YES;
    //
    //
    //       for (int i=0; i<[workApprovalPlantArray count]; i++)
    //       {
    //           [[workApprovalPlantArray objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
    //       }
    //
    //       [self.filterTableView reloadData];
    //
    //       if ([res_obj.misDictionary objectForKey:@"WorkApproval"])
    //       {
    //           self.workApprovalPiechartView.selectedIdentifier = @"SecondPieChart";
    //           if (secondPieChartArray == nil) {
    //               secondPieChartArray = [NSMutableArray new];
    //           }
    //           else{
    //               [secondPieChartArray removeAllObjects];
    //           }
    //
    //           if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Red"])
    //           {
    //               [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Red"]];
    //           }
    //           else
    //           {
    //               [secondPieChartArray addObject:@"0"];
    //           }
    //           if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Yellow"])
    //           {
    //               [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Yellow"]];
    //           }
    //           else
    //           {
    //               [secondPieChartArray addObject:@"0"];
    //           }
    //
    //           if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Green"])
    //           {
    //               [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Green"]];
    //           }
    //           else
    //           {
    //               [secondPieChartArray addObject:@"0"];
    //           }
    //           dispatch_async(dispatch_get_main_queue(), ^{
    //
    //                   [self.workApprovalPiechartView renderInLayer:self.workApprovalPiechartView dataArray:secondPieChartArray];
    //               [self.filterView removeFromSuperview];
    //
    //               [ActivityView dismiss];
    //
    //           });
    //       }
    //
    //   }
    else if (self.filterTableView.tag == 6)
    {
        for (int i=0; i<[permitPlantArray count]; i++)
        {
            [[permitPlantArray objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
        }
        
        [self.filterTableView reloadData];
        
        if(firstObjectArray == nil || secondObjectArray == nil || thirdObjectArray == nil || fourthObjectArray == nil || fifthObjectArray == nil || sixthObjectArray == nil || seventhObjectArray == nil || tempArrayDetails == nil || permitApplicationTypeArray == nil || first == nil ||second == nil || third == nil || fourth == nil || fifth == nil || sixth == nil || seventh == nil || applicationTypeArray == nil || permitArray == nil || applnTextArray == nil)
        {
            firstObjectArray = [NSMutableArray new];
            secondObjectArray = [NSMutableArray new];
            thirdObjectArray = [NSMutableArray new];
            fourthObjectArray = [NSMutableArray new];
            fifthObjectArray = [NSMutableArray new];
            sixthObjectArray = [NSMutableArray new];
            seventhObjectArray = [NSMutableArray new];
            tempArrayDetails = [NSMutableArray new];
            permitApplicationTypeArray = [NSMutableArray new];
            first = [NSMutableArray new];
            second = [NSMutableArray new];
            third = [NSMutableArray new];
            fourth = [NSMutableArray new];
            fifth = [NSMutableArray new];
            sixth = [NSMutableArray new];
            seventh = [NSMutableArray new];
            applicationTypeArray = [NSMutableArray new];
            permitArray = [NSMutableArray new];
            applnTextArray = [NSMutableArray new];
            
            
        }
        else{
            [firstObjectArray removeAllObjects];
            [secondObjectArray removeAllObjects];
            [thirdObjectArray removeAllObjects];
            [fourthObjectArray removeAllObjects];
            [fifthObjectArray removeAllObjects];
            [sixthObjectArray removeAllObjects];
            [seventhObjectArray removeAllObjects];
            [tempArrayDetails removeAllObjects];
            [first removeAllObjects];
            [second removeAllObjects];
            [third removeAllObjects];
            [fourth removeAllObjects];
            [fifth removeAllObjects];
            [sixth removeAllObjects];
            [seventh removeAllObjects];
            [permitApplicationTypeArray removeAllObjects];
            [applicationTypeArray removeAllObjects];
            [permitArray removeAllObjects];
            [applnTextArray removeAllObjects];
            
        }
        
        if ([permitDescrpnArray count])
            
        {
            self.permitDetailPlantText.hidden = YES;
            self.permitDetailPlantTitle.hidden = YES;
            self.permitDetailFilter.hidden = NO;
            //                for (int i=0; i<[ self.permitFilteredArray count]; i++)
            //                {
            if ([permitStatusString isEqualToString:@"Closed"])
            {
                for (int i=0; i<[permitDescrpnArray count]; i++)
                {
                    //                    if ([[res_obj.permitTextArray objectAtIndex:2] isEqualToString:@"Clsd"])
                    
                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Clsd"] isEqualToString:@"X"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                        {
                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                        {
                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                        {
                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                        {
                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                        {
                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                        {
                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                        {
                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        //  [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                        
                    }
                }
                
            }
            //                    else if ([[res_obj.permitTextArray objectAtIndex:0] isEqualToString:@"Crea"])
            else if ([permitStatusString isEqualToString:@"Created"])
            {
                for (int i=0; i<[permitDescrpnArray count]; i++)
                {
                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Crea"] isEqualToString:@"X"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                        {
                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                        {
                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                        {
                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                        {
                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                        {
                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                        {
                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                        {
                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        
                    }
                    
                    //                            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                    
                    
                }
            }
            //                    else if ([[res_obj.permitTextArray objectAtIndex:1] isEqualToString:@"Prep"])
            else if ([permitStatusString isEqualToString:@"Prepared"])
                
            {
                for (int i=0; i<[permitDescrpnArray count]; i++)
                {
                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Prep"] isEqualToString:@"X"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                        {
                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                        {
                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                        {
                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                        {
                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                        {
                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                        {
                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                        {
                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        //                                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                        
                        
                    }
                }
            }
            //                    else if ([[res_obj.permitTextArray objectAtIndex:3] isEqualToString:@"Reje"])
            else if ([permitStatusString isEqualToString:@"Rejected"])
                
            {
                for (int i=0; i<[permitDescrpnArray count]; i++)
                {
                    if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Reje"] isEqualToString:@"X"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                        {
                            [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                        {
                            [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                        {
                            [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                        {
                            [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                        {
                            [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                        {
                            [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                        {
                            [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                        }
                        
                        
                    }
                }
            }
            // }
            
            int firstObjectLength = (int)firstObjectArray.count ;
            NSLog(@"length = %d",firstObjectLength);
            int secondObjectLength = (int)secondObjectArray.count ;
            NSLog(@"length = %d",secondObjectLength);
            int thirdObjectLength = (int)thirdObjectArray.count ;
            NSLog(@"length = %d",thirdObjectLength);
            int fourthObjectLength = (int)fourthObjectArray.count ;
            NSLog(@"length = %d",fourthObjectLength);
            int fifthObjectLength = (int)fifthObjectArray.count ;
            NSLog(@"length = %d",fifthObjectLength);
            int sixthObjectLength = (int)sixthObjectArray.count ;
            NSLog(@"length = %d",sixthObjectLength);
            int seventhObjectLength = (int)seventhObjectArray.count ;
            NSLog(@"length = %d",seventhObjectLength);
            if ([firstObjectArray count])
            {
                
                [first addObject:[firstObjectArray objectAtIndex:0]];
            }
            else
            {
                [first addObject:@"1"];
            }
            if ([secondObjectArray count])
            {
                [second addObject:[secondObjectArray objectAtIndex:0]];
            }
            else
            {
                [second addObject:@"2"];
            }
            if ([thirdObjectArray count])
            {
                [third addObject:[thirdObjectArray objectAtIndex:0]];
            }
            else
            {
                [third addObject:@"3"];
            }
            if ([fourthObjectArray count])
            {
                [fourth addObject:[fourthObjectArray objectAtIndex:0]];
            }
            else
            {
                [fourth addObject:@"4"];
            }
            if ([fifthObjectArray count])
            {
                [fifth addObject:[fifthObjectArray objectAtIndex:0]];
            }
            else
            {
                [fifth addObject:@"5"];
            }
            if ([sixthObjectArray count])
            {
                [sixth addObject:[sixthObjectArray objectAtIndex:0]];
            }
            else
            {
                [sixth addObject:@"6"];
            }
            if ([seventhObjectArray count])
            {
                [seventh addObject:[seventhObjectArray objectAtIndex:0]];
            }
            else
            {
                [seventh addObject:@"7"];
            }
            //                applicationTypeArray = [NSMutableArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil];
            
            [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
            
            for (int i =0; i<[applicationTypeArray count]; i ++)
            {
                // [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0]]];
                [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
            }
            
            [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:0] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:1] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:2] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:3] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:4] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:5] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:6] objectAtIndex:0], nil]];
            
            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
            
            
            [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
            
            //[self.permitView addSubview:self.permitDescriptionView];
            dispatch_async(dispatch_get_main_queue(), ^{
                [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
                [self.filterView removeFromSuperview];
            });
            
            
        }
        
        //       [self.permitView addSubview:self.permitDescriptionView];
        //       [self.permitPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
        
    }
    else if (self.filterTableView.tag == 7)
    {
        
    }
    
    else
    {
        self.detailsText.hidden = YES;
        self.notifCloseButton.hidden = YES;
        // self.descNotifPieChartView.hidden = YES;
        self.descPlantHeader.hidden = YES;
        self.notifDescPlantLabelText.hidden = YES;
        self.secondLevelNotifFilterImage.hidden = YES;
        
        self.filterButton.hidden = YES;
        notifFilter = NO;
        // [self filters];
        self.filteredArray = nil;
        self.plantLabelText.hidden = YES;
        self.plantHeader.hidden = YES;
        self.detailSelectedPlantText.hidden = YES;
        self.detailPlantHeader.hidden = YES;
        self.pieNotifChartView.selectedIdentifier = @"";
        
        //        newDict = [[NSMutableDictionary alloc] init];
        //        oldDict = (NSDictionary *)[plantArray objectAtIndex:0];
        //        [newDict addEntriesFromDictionary:oldDict];
        //        [newDict setObject:@"O" forKey:@"Swerk"];
        //        [plantArray replaceObjectAtIndex:0 withObject:newDict];
        
        for (int i=0; i<[plantArray count]; i++)
        {
            [[plantArray objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
        }
        
        [self.filterTableView reloadData];
        
        if ([res_obj.misDictionary count])
        {
            
            if ([res_obj.misDictionary objectForKey:@"result"])
            {
                [array removeAllObjects];
                if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"]];
                }
                else
                {
                    [array addObject:@"0"];
                    
                }
                if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"]];
                    
                }
                else
                {
                    [array addObject:@"0"];
                    
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"]];
                    
                }
                else
                {
                    [array addObject:@"0"];
                    
                }
            }
            dispatch_async(dispatch_get_main_queue(), ^{
                
                //            if ([array count]) {
                [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
                [self.filterView removeFromSuperview];
                // }
                // [ActivityView dismiss];
                
            });
        }
        
        else
        {
          
            [self showAlertMessageWithTitle:@"Alert" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        }
    }
    
}

- (IBAction)descriptionBackClicked:(id)sender
{
    [self.descriptionView removeFromSuperview];
}
- (IBAction)notifDetailsBackClicked:(id)sender
{
    self.filterdTableArray = nil;
    self.detailPlantHeader.hidden = YES;
    self.detailSelectedPlantText.hidden = YES;
    
    self.notifDescTableView.tag = 0;
    
    [self.notifDescTableView reloadData];
    [self.notifDescription removeFromSuperview];
    
}

- (IBAction)secondPiechartFielter:(id)sender
{
    notifDescPlantMainArray = [NSMutableArray new];
    notifDescWorkCenterMainArray = [NSMutableArray new];
    notifDescFilterStructuredArray = [NSMutableArray new];
    
    notifDescPlantMainArray = [res_obj.misDictionary objectForKey:@"NotifPlants"];
    notifDescWorkCenterMainArray = [res_obj.misDictionary objectForKey:@"NotifWorkCenter"];
    [notifDescFilterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:notifDescPlantMainArray,notifDescWorkCenterMainArray, nil]];
    
    self.workApprovalPiechartView.selectedIdentifier = @"";
    self.descNotifPieChartView.selectedIdentifier = @"DoubleClick";
    notifPiechartString = @"NotifDesc";
    self.misFilterByLabel.text=@"FilterBy:";
    self.misInfoFilterLabel.hidden=YES;
    
    if (isiPhone5) {
        
        [self.misFilterTableView setFrame:CGRectMake(0,45, 260, 465)];
    }
    else if (isiPhone6 || isiPhone7){
        
        [self.misFilterTableView setFrame:CGRectMake(0,45, 260, 582)];
    }
    else if (IS_IPAD)
    {
        [self.misFilterTableView setFrame:CGRectMake(0,45, 320, 969)];

    }
    
    [self misFilterCall];
    
    self.misFilterTableView.tag = 5;
    [self.misFilterTableView reloadData];
    
    [self.misFilterView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    [self.view addSubview:self.misFilterView];
    
    self.secondLevelNotifBackground.hidden=NO;
    
    // self.filterTableView.tag = 1;
    // [self.filterTableView reloadData];
    
    //[self.view addSubview:self.filterView];
    
}

- (IBAction)filterClicked:(id)sender
{
    notifDetailPlantMainArray = [NSMutableArray new];
    notifDetailWorkCenterArray = [NSMutableArray new];
    notifDetailFilterStructuredArray = [NSMutableArray new];
    
    notifDetailPlantMainArray = [res_obj.misDictionary objectForKey:@"NotifPlants"];
    notifDetailWorkCenterArray = [res_obj.misDictionary objectForKey:@"NotifWorkCenter"];
    [notifDetailFilterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:notifDetailPlantMainArray,notifDetailWorkCenterArray, nil]];
    
    
    notifPiechartString = @"NotifDetails";
    
    self.misFilterByLabel.text=@"FilterBy:";
    self.misInfoFilterLabel.hidden=YES;
    
    if (isiPhone5) {
        
        [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 470)];
    }
    else if (isiPhone6 || isiPhone7){
        
        [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 587)];
    }
    else if (IS_IPAD)
    {
        [self.misFilterTableView setFrame:CGRectMake(0,40, 320, 969)];

    }
    
    [self misFilterCall];
    self.descNotifPieChartView.selectedIdentifier = nil;
    self.pieNotifChartView.selectedIdentifier = nil;
    self.notifDetailBackground.hidden=NO;
    self.misFilterTableView.tag = 6;
    [self.misFilterTableView reloadData];
    
      [self.misFilterView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    [self.view addSubview:self.misFilterView];
    
    
}

- (IBAction)detailsButtonClicked:(id)sender
{
    [self.availabilityReportView addSubview:self.availabilityDetailView];
}

- (IBAction)breakdownFilterClicked:(id)sender
{
    self.filterTableView.tag = 3;
    [self.filterTableView reloadData];
    
    [self.filterView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    [self.view addSubview:self.filterView];
}
- (IBAction)brkdownDescBackClicked:(id)sender
{
    [self.brkdownDescriptionView removeFromSuperview];
}

- (IBAction)brkdownDetailsSelected:(id)sender
{
    [_chart removeFromSuperview];
      [self.brkdownDetailsView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    [self.view addSubview:self.brkdownDetailsView];
}
- (IBAction)brkDetailBackClicked:(id)sender
{
    
    [self.view addSubview:_chart];
    //    [_chart reloadData];
    
    [self.brkdownDetailsView removeFromSuperview];
}
- (IBAction)permitFilterClicked:(id)sender
{
    self.pieNotifChartView.selectedIdentifier = nil;
    self.descNotifPieChartView.selectedIdentifier = nil;
    self.permitPiechartView.selectedIdentifier = @"";
    notifPiechartString = nil;
    
    blackView=[[UIView alloc] init];
    [blackView setBackgroundColor:[UIColor blackColor]];
    [blackView setAlpha:0.5];
    [blackView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
    [self.view addSubview:blackView];
    
    if (segmentedControl.selectedSegmentIndex == 0)
    {
        permitPlantArray = [NSMutableArray new];
        permitWorkCenterArray = [NSMutableArray new];
        
        permitPlantArray =  [parsedDictionary objectForKey:@"PermitPlants"];
        permitWorkCenterArray  = [parsedDictionary objectForKey:@"WorkCenter"];
        
        if (permitPlantArray!=nil||permitWorkCenterArray!=nil)
        {
            filterStructuredArray = [NSMutableArray new];

            [filterStructuredArray addObjectsFromArray:[NSArray arrayWithObjects:permitPlantArray,permitWorkCenterArray, nil]];
            
        }
       
        self.permitPiechartView.selectedIdentifier = @"FirstPieChart";
        self.misFilterByLabel.text=@"FilterBy:";
        self.misInfoFilterLabel.hidden=YES;
        
        if (permitPlantArray!=nil&&permitWorkCenterArray!=nil)
        {
             self.misFilterTableView.tag = 0;
            [self.misFilterTableView reloadData];
            [self.misFilterView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
            [self.view addSubview:self.misFilterView];
        }
        
         else{
            
             [self showAlertMessageWithTitle:@"Info" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
         }
        

      }
    else if (segmentedControl.selectedSegmentIndex == 1)
    {
        wrkAppPlantMainArray = [NSMutableArray new];
        wrkAppWorkCenterMainArray = [NSMutableArray new];
        copyFilteredArray = [NSMutableArray new];
        
        wrkAppPlantMainArray = [parsedDictionary objectForKey:@"PermitPlants"];
        wrkAppWorkCenterMainArray  = [parsedDictionary objectForKey:@"WorkCenter"];
        
        [copyFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:wrkAppPlantMainArray,wrkAppWorkCenterMainArray, nil]];
        
        self.permitPiechartView.selectedIdentifier = @"SecondPieChart";
        self.misFilterByLabel.text=@"FilterBy:";
        self.misInfoFilterLabel.hidden=YES;
        
        
        if (wrkAppPlantMainArray!=nil&&wrkAppWorkCenterMainArray!=nil)
        {
            self.misFilterTableView.tag = 1;
            [self.misFilterTableView reloadData];
             [self.misFilterView setFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];
            [self.view addSubview:self.misFilterView];
            
        }
        else{
            
            [self showAlertMessageWithTitle:@"Info" message:@"No Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
        }
 
 
        self.misFilterBackground.hidden=NO;
    }
}

-(void)misFilterCall
{
    // searchBarView.hidden=YES;
    
    if (isiPhone5)
    {
        [self.misFilterView setFrame:CGRectMake(60,45, 260,523)];
        
        // [headerView_iPhone setFrame:CGRectMake(0,51, 320, 446)];
        // [myNotificationsTableView setFrame:CGRectMake(0,41, 320, 405)];
    }
    else if (isiPhone6 || isiPhone7)
    {
        [self.misFilterView setFrame:CGRectMake(115,45, 260,623)];
        
        //        [headerView_iPhone setFrame:CGRectMake(0,50, 375, 545)];
        //        [myNotificationsTableView setFrame:CGRectMake(0,41, 375, 499)];
    }
    else if (IS_IPHONE_6_PLUS || IS_IPHONE_7_PLUS)
    {
        [self.misFilterView setFrame:CGRectMake(160,45, 260,691)];
        //        [self.misFilterTableView setFrame:CGRectMake(0,50, 255, 641)];
        
        //        [headerView_iPhone setFrame:CGRectMake(0,49, 414, 608)];
        //        [myNotificationsTableView setFrame:CGRectMake(0,41, 414, 562)];
    }
    else if (IS_IPAD)
    {
        [self.misFilterView setFrame:CGRectMake(448,55, 320,969)];

    }
    else
    {
        [self.misFilterView setFrame:CGRectMake(93,40, 225,458)];
        [self.misFilterTableView setFrame:CGRectMake(0,48, 225, 410)];
        
        //        [headerView_iPhone setFrame:CGRectMake(0,51, 320, 359)];
        //        [myNotificationsTableView setFrame:CGRectMake(0,41, 320, 318)];
    }
}

- (IBAction)wrkApprovalFilterClicked:(id)sender
{
    wrkAppPlantMainArray = [NSMutableArray new];
    wrkAppWorkCenterMainArray = [NSMutableArray new];
    copyFilteredArray = [NSMutableArray new];
    
    wrkAppPlantMainArray = [parsedDictionary objectForKey:@"PermitPlants"];
    wrkAppWorkCenterMainArray  = [parsedDictionary objectForKey:@"WorkCenter"];
    
    [copyFilteredArray addObjectsFromArray:[NSArray arrayWithObjects:wrkAppPlantMainArray,wrkAppWorkCenterMainArray, nil]];
    
    self.permitPiechartView.selectedIdentifier = @"";
    self.workApprovalPiechartView.selectedIdentifier = @"SecondPieChart";
    self.misFilterByLabel.text=@"FilterBy:";
    self.misInfoFilterLabel.hidden=YES;
    
    if (isiPhone5) {
        
        [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 470)];
    }
    else if (isiPhone6 || isiPhone7){
        
        [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 587)];
    }
    else if (IS_IPAD)
    {
        [self.misFilterTableView setFrame:CGRectMake(0,45, 320, 969)];

    }
    
    [self misFilterCall];
    
    self.misFilterTableView.tag = 1;
    [self.misFilterTableView reloadData];
    
    [self.view addSubview:self.misFilterView];
    
    self.misFilterBackground.hidden=NO;
}
- (IBAction)permitDescBackClicked:(id)sender
{
    if ([self.permitDescriptionPiechartView.selectedIdentifier isEqualToString:@"PermitApplications"])
    {
        if ([applicationString isEqualToString:@"PermitStatus"])
        {
            
            for (int i=0; i<[[applicationFilterArray objectAtIndex:0] count]; i++)
            {
                [[[applicationFilterArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"ApplicationPlantStatus"];
            }
            
            for (int i=0; i<[applicationPlantWrkCenterArray count]; i++)
            {
                [[applicationPlantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"ApplicationWorkCenterStatus"];
            }
            applicationPlantWrkCenterArray = nil;
            applicationFilterFlag = NO;
            self.misFilterTableView.tag = 2;
            [self.misFilterTableView reloadData];
        }
        else if ([applicationString isEqualToString:@"WorkApprovalStatus"])
        {
            for (int i=0; i<[[applnWrkAppFilterArray objectAtIndex:0] count]; i++)
            {
                [[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"ApplicationWrkAppPlantStatus"];
            }
            
            for (int i=0; i<[applnWrkAppPlantWorkCenterArray count]; i++)
            {
                [[applnWrkAppPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"ApplicationWorkAppWorkCenterStatus"];
            }
            applnWrkAppPlantWorkCenterArray = nil;
            applicationWorkAppFilterFlag = NO;
            self.misFilterTableView.tag = 3;
            [self.misFilterTableView reloadData];
        }
        
    }
    [self.permitDescriptionView removeFromSuperview];
}

- (IBAction)permitDetailFilterClicked:(id)sender
{
    if ([applicationString isEqualToString:@"PermitStatus"])
    {
        
        applicationPlantMainArray = [NSMutableArray new];
        applicationWorkCenterMainArray = [NSMutableArray new];
        applicationFilterArray = [NSMutableArray new];
        
        applicationPlantMainArray = [parsedDictionary objectForKey:@"PermitPlants"];
        applicationWorkCenterMainArray  = [parsedDictionary objectForKey:@"WorkCenter"];
        
        [applicationFilterArray addObjectsFromArray:[NSArray arrayWithObjects:applicationPlantMainArray,applicationWorkCenterMainArray, nil]];
        
        //    self.permitPiechartView.selectedIdentifier = @"";
        self.permitDescriptionPiechartView.selectedIdentifier = @"";
        self.permitDescriptionPiechartView.selectedIdentifier = @"PermitApplications";
        self.misFilterByLabel.text=@"FilterBy:";
        self.misInfoFilterLabel.hidden=YES;
        
        if (isiPhone5) {
            
            [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 470)];
        }
        else if (isiPhone6 || isiPhone7){
            
            [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 587)];
        }
        else if (IS_IPAD)
        {
            [self.misFilterTableView setFrame:CGRectMake(0,45, 320, 969)];

        }
        
        [self misFilterCall];
        
        self.misFilterTableView.tag = 2;
        [self.misFilterTableView reloadData];
        
        [self.view addSubview:self.misFilterView];
        
        // self.misFilterBackground.hidden=NO;
        self.applicationFilterBackground.hidden=NO;
    }
    else if ([applicationString isEqualToString:@"WorkApprovalStatus"])
    {
        
        applnWrkAppPlantMainArray = [NSMutableArray new];
        applnWrkAppWorkCenterMainArray = [NSMutableArray new];
        applnWrkAppFilterArray = [NSMutableArray new];
        
        applnWrkAppPlantMainArray = [parsedDictionary objectForKey:@"PermitPlants"];
        applnWrkAppWorkCenterMainArray  = [parsedDictionary objectForKey:@"WorkCenter"];
        
        [applnWrkAppFilterArray addObjectsFromArray:[NSArray arrayWithObjects:applnWrkAppPlantMainArray,applnWrkAppWorkCenterMainArray, nil]];
        
        //    self.permitPiechartView.selectedIdentifier = @"";
        self.permitDescriptionPiechartView.selectedIdentifier = @"";
        self.permitDescriptionPiechartView.selectedIdentifier = @"PermitApplications";
        self.misFilterByLabel.text=@"FilterBy:";
        self.misInfoFilterLabel.hidden=YES;
        
        if (isiPhone5) {
            
            [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 470)];
        }
        else if (isiPhone6 || isiPhone7){
            
            [self.misFilterTableView setFrame:CGRectMake(0,40, 260, 587)];
        }
        else if (IS_IPAD)
        {
            [self.misFilterTableView setFrame:CGRectMake(0,45,320, 969)];

        }
        
        [self misFilterCall];
        
        self.misFilterTableView.tag = 3;
        [self.misFilterTableView reloadData];
        
        [self.view addSubview:self.misFilterView];
        
        // self.misFilterBackground.hidden=NO;
        self.applicationFilterBackground.hidden=NO;
    }
}

- (IBAction)misFilterBackgroundClicked:(id)sender
{
    if ([self.permitDescriptionPiechartView.selectedIdentifier isEqualToString:@"ApplicationPieChart"])
    {
        self.applicationFilterBackground.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    
    else if ([self.pieNotifChartView.selectedIdentifier isEqualToString:@""])
    {
        self.notifFilterBackGround.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    else if ([self.descNotifPieChartView.selectedIdentifier isEqualToString:@"DoubleClick"])
    {
        self.secondLevelNotifBackground.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    else if ([notifPiechartString isEqualToString:@"NotifDetails"])
    {
        self.notifDetailBackground.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    else if ([notifPiechartString isEqualToString:@"NotifDesc"])
    {
        self.notifFilterBackGround.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    else if ([notifPiechartString isEqualToString:@"Notif"])
    {
        self.notifFilterBackGround.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    else if ([notifPiechartString isEqualToString:@"BreakDownStatistics"])
    {
        self.brkDownFilterBackground.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    else if ([notifPiechartString isEqualToString:@"NotifBar"])
    {
        self.notifFilterBackGround.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    
    else
    {
        // [self misFilterCall];
        
        self.misFilterBackground.hidden=YES;
        self.applicationFilterBackground.hidden = YES;
        [self.misFilterView removeFromSuperview];
    }
    //    if (self.misFilterTableView.tag==0)
    //    {
    //        [self filterBackGround];
    //    }
    //    else if (self.misFilterTableView.tag==1)
    //    {
    //        [self sortBackGround];
    //    }
}

- (IBAction)misClearAllFilterClicked:(id)sender
{
    if ([self.permitPiechartView.selectedIdentifier isEqualToString:@"FirstPieChart"])
    {
        workCenterFilteredArray = nil;
        filterFlag = NO;
        for (int i=0; i<[[filterStructuredArray objectAtIndex:0] count]; i++)
        {
            [[[filterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"PlantStatus"];
        }
        
        for (int i=0; i<[plantWrkCenterArray count]; i++)
        {
            [[plantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"WorkCenterStatus"];
        }
        plantWrkCenterArray = nil;
        
        self.misFilterBackground.hidden = YES;
        self.misFilterTableView.tag = 0;
        [self.misFilterTableView reloadData];
        if ([res_obj.misDictionary count]) {
            
            if ([res_obj.misDictionary objectForKey:@"permit"])
            {
                if (array == nil) {
                    array = [NSMutableArray new];
                }
                else{
                    [array removeAllObjects];
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Crea"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Crea"]];
                }
                else
                {
                    [array addObject:@"0"];
                }
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Prep"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Prep"]];
                }
                else
                {
                    [array addObject:@"0"];
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Clsd"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Clsd"]];
                }
                else
                {
                    [array addObject:@"0"];
                }
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Reje"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Reje"]];
                }
                else
                {
                    [array addObject:@"0"];
                }
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Total"])
                {
                    self.permitCountLabel.text = [[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Total"];
                }
                else
                {
                    self.permitCountLabel.text = @"0";
                }
                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                
                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:array];
                    [self.misFilterView removeFromSuperview];
                    
                    [MBProgressHUD hideHUDForView:self.view animated:YES];

                });
                
            }
        }
    }
    
    else  if ([self.permitPiechartView.selectedIdentifier isEqualToString:@"SecondPieChart"])
    {
        wrkAppFilteredArray = nil;
        workAppFilterFlag = NO;
        for (int i=0; i<[[copyFilteredArray objectAtIndex:0] count]; i++)
        {
            [[[copyFilteredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"WorkAppPlantStatus"];
        }
        
        for (int i=0; i<[wrkApprPlantWrkCenterArray count]; i++)
        {
            [[wrkApprPlantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"WrkAppWorkCenterStatus"];
        }
        wrkApprPlantWrkCenterArray = nil;
        
        self.misFilterBackground.hidden = YES;
        self.misFilterTableView.tag = 1;
        [self.misFilterTableView reloadData];
        if ([res_obj.misDictionary count])
        {
            if ([res_obj.misDictionary objectForKey:@"WorkApproval"])
            {
                if (secondPieChartArray == nil) {
                    secondPieChartArray = [NSMutableArray new];
                }
                else{
                    [secondPieChartArray removeAllObjects];
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Red"])
                {
                    [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Red"]];
                }
                else
                {
                    [secondPieChartArray addObject:@"0"];
                }
                if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Yellow"])
                {
                    [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Yellow"]];
                }
                else
                {
                    [secondPieChartArray addObject:@"0"];
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Green"])
                {
                    [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Green"]];
                }
                else
                {
                    [secondPieChartArray addObject:@"0"];
                }
                if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Total"])
                {
                    self.permitCountLabel.text = [[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Total"];
                }
                else
                {
                    self.permitCountLabel.text = @"0";
                }
                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                
                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:secondPieChartArray];
                    [self.misFilterView removeFromSuperview];
                    
                });
                
            }
        }
    }
    
    else if ([self.permitDescriptionPiechartView.selectedIdentifier isEqualToString:@"PermitApplications"])
    {
        if ([applicationString isEqualToString:@"PermitStatus"])
        {
            for (int i=0; i<[[applicationFilterArray objectAtIndex:0] count]; i++)
            {
                [[[applicationFilterArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"ApplicationPlantStatus"];
            }
            
            for (int i=0; i<[applicationPlantWrkCenterArray count]; i++)
            {
                [[applicationPlantWrkCenterArray objectAtIndex:i] setObject:@"" forKey:@"ApplicationWorkCenterStatus"];
            }
            //           self.misFilterBackground.hidden = YES;
            self.misFilterTableView.tag = 2;
            [self.misFilterTableView reloadData];
            
            if(firstObjectArray == nil || secondObjectArray == nil || thirdObjectArray == nil || fourthObjectArray == nil || fifthObjectArray == nil || sixthObjectArray == nil || seventhObjectArray == nil || tempArrayDetails == nil || permitApplicationTypeArray == nil || first == nil ||second == nil || third == nil || fourth == nil || fifth == nil || sixth == nil || seventh == nil || applicationTypeArray == nil || permitArray == nil || applnTextArray == nil)
            {
                firstObjectArray = [NSMutableArray new];
                secondObjectArray = [NSMutableArray new];
                thirdObjectArray = [NSMutableArray new];
                fourthObjectArray = [NSMutableArray new];
                fifthObjectArray = [NSMutableArray new];
                sixthObjectArray = [NSMutableArray new];
                seventhObjectArray = [NSMutableArray new];
                tempArrayDetails = [NSMutableArray new];
                permitApplicationTypeArray = [NSMutableArray new];
                first = [NSMutableArray new];
                second = [NSMutableArray new];
                third = [NSMutableArray new];
                fourth = [NSMutableArray new];
                fifth = [NSMutableArray new];
                sixth = [NSMutableArray new];
                seventh = [NSMutableArray new];
                applicationTypeArray = [NSMutableArray new];
                permitArray = [NSMutableArray new];
                applnTextArray = [NSMutableArray new];
                
            }
            else{
                [firstObjectArray removeAllObjects];
                [secondObjectArray removeAllObjects];
                [thirdObjectArray removeAllObjects];
                [fourthObjectArray removeAllObjects];
                [fifthObjectArray removeAllObjects];
                [sixthObjectArray removeAllObjects];
                [seventhObjectArray removeAllObjects];
                [tempArrayDetails removeAllObjects];
                [first removeAllObjects];
                [second removeAllObjects];
                [third removeAllObjects];
                [fourth removeAllObjects];
                [fifth removeAllObjects];
                [sixth removeAllObjects];
                [seventh removeAllObjects];
                [permitApplicationTypeArray removeAllObjects];
                [applicationTypeArray removeAllObjects];
                [permitArray removeAllObjects];
                [applnTextArray removeAllObjects];
                
            }
            
            if ([permitDescrpnArray count])
            {
                self.permitDetailPlantText.hidden = YES;
                self.permitDetailPlantTitle.hidden = YES;
                self.permitDetailFilter.hidden = NO;
                //                for (int i=0; i<[permitDescrpnArray count]; i++)
                // {
                //               if (index == 2)
                //               {
                for (int i=0; i<[permitDescrpnArray count]; i++)
                {
                    // permitStatusString = @"Closed";
                    
                    if ([permitStatusString isEqualToString:@"Closed"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Clsd"] isEqualToString:@"X"])
                        {
                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                            {
                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                            {
                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                            {
                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                            {
                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                            {
                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                            {
                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            //  [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                            
                        }
                        
                    }
                    // }
                    //  }
                    //               else if (index == 0)
                    //               {
                    //                   for (int i=0; i<[permitDescrpnArray count]; i++)
                    //                   {
                    //                       permitStatusString = @"Created";
                    
                    if ([permitStatusString isEqualToString:@"Created"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Crea"] isEqualToString:@"X"])
                        {
                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                            {
                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                            {
                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                            {
                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                            {
                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                            {
                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                            {
                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            
                        }
                        
                        //                            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                        
                        
                    }
                    //                   }
                    //               }
                    //               else if (index == 1)
                    //               {
                    //                   for (int i=0; i<[permitDescrpnArray count]; i++)
                    //                   {
                    //
                    //                       permitStatusString = @"Prepared";
                    
                    if ([permitStatusString isEqualToString:@"Prepared"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Prep"] isEqualToString:@"X"])
                        {
                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                            {
                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                            {
                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                            {
                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                            {
                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                            {
                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                            {
                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            //                                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                            
                            
                        }
                    }
                    //  }
                    // }
                    //               else if (index == 3)
                    //               {
                    //                   for (int i=0; i<[permitDescrpnArray count]; i++)
                    //                   {
                    
                    //    permitStatusString = @"Rejected";
                    if ([permitStatusString isEqualToString:@"Rejected"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Reje"] isEqualToString:@"X"])
                        {
                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                            {
                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                            {
                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                            {
                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                            {
                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                            {
                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                            {
                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            
                            
                        }
                    }
                    //  }
                }
                
            }
            int firstObjectLength = (int)firstObjectArray.count ;
            NSLog(@"length = %d",firstObjectLength);
            int secondObjectLength = (int)secondObjectArray.count ;
            NSLog(@"length = %d",secondObjectLength);
            int thirdObjectLength = (int)thirdObjectArray.count ;
            NSLog(@"length = %d",thirdObjectLength);
            int fourthObjectLength = (int)fourthObjectArray.count ;
            NSLog(@"length = %d",fourthObjectLength);
            int fifthObjectLength = (int)fifthObjectArray.count ;
            NSLog(@"length = %d",fifthObjectLength);
            int sixthObjectLength = (int)sixthObjectArray.count ;
            NSLog(@"length = %d",sixthObjectLength);
            int seventhObjectLength = (int)seventhObjectArray.count ;
            NSLog(@"length = %d",seventhObjectLength);
            if ([firstObjectArray count])
            {
                
                [first addObject:[firstObjectArray objectAtIndex:0]];
            }
            else
            {
                [first addObject:@"1"];
            }
            if ([secondObjectArray count])
            {
                [second addObject:[secondObjectArray objectAtIndex:0]];
            }
            else
            {
                [second addObject:@"2"];
            }
            if ([thirdObjectArray count])
            {
                [third addObject:[thirdObjectArray objectAtIndex:0]];
            }
            else
            {
                [third addObject:@"3"];
            }
            if ([fourthObjectArray count])
            {
                [fourth addObject:[fourthObjectArray objectAtIndex:0]];
            }
            else
            {
                [fourth addObject:@"4"];
            }
            if ([fifthObjectArray count])
            {
                [fifth addObject:[fifthObjectArray objectAtIndex:0]];
            }
            else
            {
                [fifth addObject:@"5"];
            }
            if ([sixthObjectArray count])
            {
                [sixth addObject:[sixthObjectArray objectAtIndex:0]];
            }
            else
            {
                [sixth addObject:@"6"];
            }
            if ([seventhObjectArray count])
            {
                [seventh addObject:[seventhObjectArray objectAtIndex:0]];
            }
            else
            {
                [seventh addObject:@"7"];
            }
            //                applicationTypeArray = [NSMutableArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil];
            
            [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
            
            for (int i =0; i<[applicationTypeArray count]; i ++)
            {
                // [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0]]];
                [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
            }
            
            [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:0] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:1] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:2] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:3] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:4] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:5] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:6] objectAtIndex:0], nil]];
            
            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
            
            
            [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
            
            [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
            dispatch_async(dispatch_get_main_queue(), ^{
                
                [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
                self.applicationFilterBackground.hidden = YES;
                [self.misFilterView removeFromSuperview];
                
                
            });
            
            
        }
        else if ([applicationString isEqualToString:@"WorkApprovalStatus"])
        {
            for (int i=0; i<[[applnWrkAppFilterArray objectAtIndex:0] count]; i++)
            {
                [[[applnWrkAppFilterArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"ApplicationWrkAppPlantStatus"];
            }
            
            for (int i=0; i<[applnWrkAppPlantWorkCenterArray count]; i++)
            {
                [[applnWrkAppPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"ApplicationWorkAppWorkCenterStatus"];
            }
            //           self.misFilterBackground.hidden = YES;
            self.misFilterTableView.tag = 3;
            [self.misFilterTableView reloadData];
            
            if(firstObjectArray == nil || secondObjectArray == nil || thirdObjectArray == nil || fourthObjectArray == nil || fifthObjectArray == nil || sixthObjectArray == nil || seventhObjectArray == nil || tempArrayDetails == nil || permitApplicationTypeArray == nil || first == nil ||second == nil || third == nil || fourth == nil || fifth == nil || sixth == nil || seventh == nil || applicationTypeArray == nil || permitArray == nil || applnTextArray == nil)
            {
                firstObjectArray = [NSMutableArray new];
                secondObjectArray = [NSMutableArray new];
                thirdObjectArray = [NSMutableArray new];
                fourthObjectArray = [NSMutableArray new];
                fifthObjectArray = [NSMutableArray new];
                sixthObjectArray = [NSMutableArray new];
                seventhObjectArray = [NSMutableArray new];
                tempArrayDetails = [NSMutableArray new];
                permitApplicationTypeArray = [NSMutableArray new];
                first = [NSMutableArray new];
                second = [NSMutableArray new];
                third = [NSMutableArray new];
                fourth = [NSMutableArray new];
                fifth = [NSMutableArray new];
                sixth = [NSMutableArray new];
                seventh = [NSMutableArray new];
                applicationTypeArray = [NSMutableArray new];
                permitArray = [NSMutableArray new];
                applnTextArray = [NSMutableArray new];
                
                
            }
            else{
                [firstObjectArray removeAllObjects];
                [secondObjectArray removeAllObjects];
                [thirdObjectArray removeAllObjects];
                [fourthObjectArray removeAllObjects];
                [fifthObjectArray removeAllObjects];
                [sixthObjectArray removeAllObjects];
                [seventhObjectArray removeAllObjects];
                [tempArrayDetails removeAllObjects];
                [first removeAllObjects];
                [second removeAllObjects];
                [third removeAllObjects];
                [fourth removeAllObjects];
                [fifth removeAllObjects];
                [sixth removeAllObjects];
                [seventh removeAllObjects];
                [permitApplicationTypeArray removeAllObjects];
                [applicationTypeArray removeAllObjects];
                [permitArray removeAllObjects];
                [applnTextArray removeAllObjects];
                
            }
            
            if ([permitDescrpnArray count])
            {
                self.permitDetailPlantText.hidden = YES;
                self.permitDetailPlantTitle.hidden = YES;
                self.permitDetailFilter.hidden = NO;
                //               if (index == 0)
                //               {
                
                //                   permitStatusString = @"Not Issued";
                for (int i=0; i<[permitDescrpnArray count]; i++)
                {
                    if ([permitStatusString isEqualToString:@"Not Issued"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Red"] isEqualToString:@"X"])
                        {
                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                            {
                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                            {
                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                            {
                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                            {
                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                            {
                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                            {
                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            //  [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                            
                        }
                        
                    }
                    //  }
                    //  }
                    //               else if (index == 1)
                    //               {
                    //                   permitStatusString = @"Partially Issued";
                    //                   for (int i=0; i<[permitDescrpnArray count]; i++)
                    //                   {
                    
                    if ([permitStatusString isEqualToString:@"Partially Issued"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Yellow"] isEqualToString:@"X"])
                        {
                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                            {
                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                            {
                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                            {
                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                            {
                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                            {
                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                            {
                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            
                        }
                        
                        //                            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                        
                        
                    }
                    // }
                    // }
                    //               else if (index == 2)
                    //               {
                    //                   permitStatusString = @"Issued";
                    //                   for (int i=0; i<[permitDescrpnArray count]; i++)
                    //                   {
                    
                    if ([permitStatusString isEqualToString:@"Issued"])
                    {
                        if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Green"] isEqualToString:@"X"])
                        {
                            if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"1"])
                            {
                                [firstObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"2"])
                            {
                                [secondObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"3"])
                            {
                                [thirdObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"4"])
                            {
                                [fourthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"5"])
                            {
                                [fifthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"6"])
                            {
                                [sixthObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            else if ([[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"] isEqualToString:@"7"])
                            {
                                [seventhObjectArray addObject:[[permitDescrpnArray objectAtIndex:i] objectForKey:@"Objtyp"]];
                            }
                            //                                [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:firstObjectArray,secondObjectArray,thirdObjectArray,fourthObjectArray,fifthObjectArray,sixthObjectArray,seventhObjectArray, nil]];
                            
                        }
                    }
                    // }
                    // }
                }
            }
            
            int firstObjectLength = (int)firstObjectArray.count ;
            NSLog(@"length = %d",firstObjectLength);
            int secondObjectLength = (int)secondObjectArray.count ;
            NSLog(@"length = %d",secondObjectLength);
            int thirdObjectLength = (int)thirdObjectArray.count ;
            NSLog(@"length = %d",thirdObjectLength);
            int fourthObjectLength = (int)fourthObjectArray.count ;
            NSLog(@"length = %d",fourthObjectLength);
            int fifthObjectLength = (int)fifthObjectArray.count ;
            NSLog(@"length = %d",fifthObjectLength);
            int sixthObjectLength = (int)sixthObjectArray.count ;
            NSLog(@"length = %d",sixthObjectLength);
            int seventhObjectLength = (int)seventhObjectArray.count ;
            NSLog(@"length = %d",seventhObjectLength);
            if ([firstObjectArray count])
            {
                
                [first addObject:[firstObjectArray objectAtIndex:0]];
            }
            else
            {
                [first addObject:@"1"];
            }
            if ([secondObjectArray count])
            {
                [second addObject:[secondObjectArray objectAtIndex:0]];
            }
            else
            {
                [second addObject:@"2"];
            }
            if ([thirdObjectArray count])
            {
                [third addObject:[thirdObjectArray objectAtIndex:0]];
            }
            else
            {
                [third addObject:@"3"];
            }
            if ([fourthObjectArray count])
            {
                [fourth addObject:[fourthObjectArray objectAtIndex:0]];
            }
            else
            {
                [fourth addObject:@"4"];
            }
            if ([fifthObjectArray count])
            {
                [fifth addObject:[fifthObjectArray objectAtIndex:0]];
            }
            else
            {
                [fifth addObject:@"5"];
            }
            if ([sixthObjectArray count])
            {
                [sixth addObject:[sixthObjectArray objectAtIndex:0]];
            }
            else
            {
                [sixth addObject:@"6"];
            }
            if ([seventhObjectArray count])
            {
                [seventh addObject:[seventhObjectArray objectAtIndex:0]];
            }
            else
            {
                [seventh addObject:@"7"];
            }
            
            [applicationTypeArray addObjectsFromArray:[NSArray arrayWithObjects:first,second,third,fourth,fifth,sixth,seventh,nil]];
            
            for (int i =0; i<[applicationTypeArray count]; i ++)
            {
                // [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0]]];
                [permitApplicationTypeArray addObjectsFromArray:[[DataBase sharedInstance] fetchWCMTypesforPermitReport:[[applicationTypeArray objectAtIndex:i] objectAtIndex:0] forPlant:permitPlantApplnText]];
            }
            
            [applnTextArray addObjectsFromArray:[NSArray arrayWithObjects:[[permitApplicationTypeArray objectAtIndex:0] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:1] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:2] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:3] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:4] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:5] objectAtIndex:0],[[permitApplicationTypeArray objectAtIndex:6] objectAtIndex:0], nil]];
            
            [tempArrayDetails addObjectsFromArray:[NSArray arrayWithObjects:[NSNumber numberWithInteger:firstObjectLength],[NSNumber numberWithInteger:secondObjectLength],[NSNumber numberWithInteger:thirdObjectLength],[NSNumber numberWithInteger:fourthObjectLength],[NSNumber numberWithInteger:fifthObjectLength],[NSNumber numberWithInteger:sixthObjectLength],[NSNumber numberWithInteger:seventhObjectLength], nil]];
            
            [permitArray addObjectsFromArray:[NSArray arrayWithObjects:applnTextArray,tempArrayDetails, nil]];
            
            [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:nil];
            
            dispatch_async(dispatch_get_main_queue(), ^{
                
                [self.permitDescriptionPiechartView renderInLayer:self.permitDescriptionPiechartView dataArray:permitArray];
                self.applicationFilterBackground.hidden = YES;
                [self.misFilterView removeFromSuperview];
                
            });
            
        }
    }
    else if ([notifPiechartString isEqualToString:@"NotifDesc"])
    {
        [notifDescFilteredArray removeAllObjects];
        for (int i=0; i<[[notifDescFilterStructuredArray objectAtIndex:0] count]; i++)
        {
            [[[notifDescFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifDescPlantStatus"];
        }
        
        for (int i=0; i<[notifDescPlantWorkCenterArray count]; i++)
        {
            [[notifDescPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifDescWorkCenterStatus"];
        }
        [notifDescPlantWorkCenterArray removeAllObjects];
        notifDescFilterFlag = NO;
        self.misFilterTableView.tag = 5;
        [self.misFilterTableView reloadData];
        
        //        if(detailsArray == nil || month == nil || timeArr == nil || txtArray == nil || descArray == nil ||  arrays == nil){
        //            detailsArray = [NSMutableArray new];
        //            month = [NSMutableArray new];
        //            timeArr = [NSMutableArray new];
        //            txtArray = [NSMutableArray new];
        //            descArray = [NSMutableArray new];
        //            arrays = [NSMutableArray new];
        //
        //        }
        //        else{
        //            [detailsArray removeAllObjects];
        //            [month removeAllObjects];
        //            [timeArr removeAllObjects];
        //            [txtArray removeAllObjects];
        //            [descArray removeAllObjects];
        //            [arrays removeAllObjects];
        //
        //        }
        
        if(detailsArray == nil || month == nil || timeArr == nil || txtArray == nil || descArray == nil ||  arrays == nil || tempDetailsarrays == nil || notifMainArray == nil || notifTypeArray == nil || finalNotifDetailsArray == nil || totalCoutArray == nil || notifQmartArray == nil || notifQmartTextArray == nil || detailFilteredArray == nil){
            detailsArray = [NSMutableArray new];
            month = [NSMutableArray new];
            timeArr = [NSMutableArray new];
            txtArray = [NSMutableArray new];
            descArray = [NSMutableArray new];
            arrays = [NSMutableArray new];
            tempDetailsarrays = [NSMutableArray new];
            notifMainArray = [NSMutableArray new];
            notifTypeArray = [NSMutableArray new];
            finalNotifDetailsArray = [NSMutableArray new];
            totalCoutArray = [NSMutableArray new];
            notifQmartArray = [NSMutableArray new];
            notifQmartTextArray = [NSMutableArray new];
            detailFilteredArray = [NSMutableArray new];
            
        }
        else
        {
            [detailsArray removeAllObjects];
            [month removeAllObjects];
            [timeArr removeAllObjects];
            [txtArray removeAllObjects];
            [descArray removeAllObjects];
            [arrays removeAllObjects];
            [tempDetailsarrays removeAllObjects];
            [notifMainArray removeAllObjects];
            [notifTypeArray removeAllObjects];
            [finalNotifDetailsArray removeAllObjects];
            [totalCoutArray removeAllObjects];
            [notifQmartArray removeAllObjects];
            [notifQmartTextArray removeAllObjects];
            [detailFilteredArray removeAllObjects];
            
        }
        [tempDetailsarrays addObjectsFromArray:[parsedDictionary objectForKey:@"Details"]];
        tempDetailsCopyArray= [tempDetailsarrays copy];
        
        if ( [self.detailsText.text isEqualToString:@"Completed Notifications"])
        {
            if ([tempDetailsarrays count])
            {
                for (int i = 0; i<[tempDetailsarrays count]; i++)
                {
                    textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                    if ([finalNotifDetailsArray count])
                    {
                        for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                        {
                            if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                            {
                                notifPieChart = YES;
                            }
                        }
                        if (notifPieChart == YES)
                        {
                            notifPieChart = NO;
                        }
                        else
                        {
                            NSInteger sum = 0;
                            for (int j =0; j<[tempDetailsCopyArray count]; j++)
                            {
                                if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                {
                                    if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                    {
                                        
                                        sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                        
                                    }
                                }
                                
                            }
                            
                            
                            [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                            [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                            
                            if (finalNotifDetailsArray == nil)
                            {
                                finalNotifDetailsArray = [NSMutableArray new];
                            }
                            else
                            {
                                [finalNotifDetailsArray removeAllObjects];
                            }
                            
                            if ([notifMainArray count]) {
                                
                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                {
                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                    
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                    
                                    [finalNotifDetailsArray addObject:tempDictionary];
                                }
                            }
                            
                        }
                    }
                    
                    else
                    {
                        NSInteger sum = 0;
                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                        {
                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                            {
                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"])
                                {
                                    
                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                    
                                }
                            }
                            
                        }
                        
                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                        
                        
                        if ([notifMainArray count]) {
                            
                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                            {
                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Comp"];
                                
                                [finalNotifDetailsArray addObject:tempDictionary];
                            }
                        }
                    }
                }
                
                
                for (int z=0; z<[finalNotifDetailsArray count]; z++)
                {
                    if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                    {
                        [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Comp"]];
                        [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                        [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                        [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                        [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                    }
                    
                }
            }
        }
        else if ( [self.detailsText.text isEqualToString:@"In Progress Notifications"])
        {
            for (int i = 0; i<[tempDetailsarrays count]; i++)
            {
                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                if ([finalNotifDetailsArray count])
                {
                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                    {
                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                        {
                            notifPieChart = YES;
                        }
                    }
                    if (notifPieChart == YES)
                    {
                        notifPieChart = NO;
                    }
                    else
                    {
                        NSInteger sum = 0;
                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                        {
                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                            {
                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                                {
                                    
                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                    
                                }
                            }
                            
                        }
                        
                        
                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                        
                        if (finalNotifDetailsArray == nil)
                        {
                            finalNotifDetailsArray = [NSMutableArray new];
                        }
                        else
                        {
                            [finalNotifDetailsArray removeAllObjects];
                        }
                        
                        if ([notifMainArray count]) {
                            
                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                            {
                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                                
                                [finalNotifDetailsArray addObject:tempDictionary];
                            }
                        }
                        
                    }
                }
                
                else
                {
                    NSInteger sum = 0;
                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                    {
                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                        {
                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"])
                            {
                                
                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Inpr"] intValue];
                                
                            }
                        }
                        
                    }
                    
                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                    
                    
                    if ([notifMainArray count]) {
                        
                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                        {
                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                            
                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Inpr"];
                            
                            [finalNotifDetailsArray addObject:tempDictionary];
                        }
                    }
                }
            }
            
            
            for (int z=0; z<[finalNotifDetailsArray count]; z++)
            {
                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"] isEqualToString:@"0"])
                {
                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Inpr"]];
                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                }
                
            }
        }
        else if ( [self.detailsText.text isEqualToString:@"Outstanding Notifications"])
        {
            for (int i = 0; i<[tempDetailsarrays count]; i++)
            {
                textString = [[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmart"];
                if ([finalNotifDetailsArray count])
                {
                    for (int k = 0; k<[finalNotifDetailsArray count]; k++)
                    {
                        if ([textString isEqualToString:[[finalNotifDetailsArray objectAtIndex:k]objectForKey:@"Qmart"]])
                        {
                            notifPieChart = YES;
                        }
                    }
                    if (notifPieChart == YES)
                    {
                        notifPieChart = NO;
                    }
                    else
                    {
                        NSInteger sum = 0;
                        for (int j =0; j<[tempDetailsCopyArray count]; j++)
                        {
                            if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                            {
                                if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                                {
                                    
                                    sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                    
                                }
                            }
                            
                        }
                        
                        
                        [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                        [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                        
                        if (finalNotifDetailsArray == nil)
                        {
                            finalNotifDetailsArray = [NSMutableArray new];
                        }
                        else
                        {
                            [finalNotifDetailsArray removeAllObjects];
                        }
                        
                        if ([notifMainArray count]) {
                            
                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                            {
                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                                
                                [finalNotifDetailsArray addObject:tempDictionary];
                            }
                        }
                        
                    }
                }
                
                else
                {
                    NSInteger sum = 0;
                    for (int j =0; j<[tempDetailsCopyArray count]; j++)
                    {
                        if ([textString isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Qmart"]])
                        {
                            if ([[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"])
                            {
                                
                                sum += [[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Outs"] intValue];
                                
                            }
                        }
                        
                    }
                    
                    [month addObject:[[tempDetailsarrays objectAtIndex:i]objectForKey:@"Qmart"]];
                    [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,txtArray,notifTypeArray,nil]];
                    
                    
                    if ([notifMainArray count]) {
                        
                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                        {
                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                            
                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Outs"];
                            
                            [finalNotifDetailsArray addObject:tempDictionary];
                        }
                    }
                }
            }
            
            
            for (int z=0; z<[finalNotifDetailsArray count]; z++)
            {
                if (![[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"] isEqualToString:@"0"])
                {
                    [totalCoutArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Outs"]];
                    [notifQmartArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmart"]];
                    [notifQmartTextArray addObject:[[finalNotifDetailsArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                    [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                    [detailsArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,descArray, nil]];
                }
                
            }
        }
        [self.descNotifPieChartView renderInLayer:self.descNotifPieChartView dataArray:nil];
        
        dispatch_async(dispatch_get_main_queue(), ^{
            
            [self.descNotifPieChartView renderInLayer:self.descNotifPieChartView dataArray:detailsArray];
            [self.misFilterView removeFromSuperview];
            self.secondLevelNotifBackground.hidden = YES;
            
            [MBProgressHUD hideHUDForView:self.view animated:YES];

        });
        
    }
    else if ([notifPiechartString isEqualToString:@"NotifDetails"])
    {
        notifDetailFilteredArray = nil;
        notifDetailFilterFlag = NO;
        for (int i=0; i<[[notifDetailFilterStructuredArray objectAtIndex:0] count]; i++)
        {
            [[[notifDetailFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifDetailPlantStatus"];
        }
        
        for (int i=0; i<[notifDetailPlantWorkCenterArray count]; i++)
        {
            [[notifDetailPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifDetailWorkCenterStatus"];
        }
        notifDetailPlantWorkCenterArray = nil;
        
        self.misFilterTableView.tag = 6;
        [self.misFilterTableView reloadData];
        
        self.notifDescTableView.tag = 0;
        
        [self.notifDescTableView reloadData];
        self.notifDetailBackground.hidden = YES;
        [self.misFilterView removeFromSuperview];
        
    }
    
    else if ([notifPiechartString isEqualToString:@"BreakDownStatistics"])
    {
        if (brkDownArray == nil || mttrMainArray == nil || brkDownCountArray == nil || brkDownMttrArray == nil ||brkDownHoursArray == nil ||brkDownMonthArray == nil || brkDownMonthMainArray == nil)
        {
            brkDownArray = [NSMutableArray new];
            mttrMainArray = [NSMutableArray new];
            brkDownCountArray = [NSMutableArray new];
            brkDownMttrArray = [NSMutableArray new];
            brkDownHoursArray = [NSMutableArray new];
            brkDownMonthArray = [NSMutableArray new];
            brkDownMonthMainArray = [NSMutableArray new];
            
        }
        else
        {
            [brkDownArray removeAllObjects];
            [mttrMainArray removeAllObjects];
            [brkDownCountArray removeAllObjects];
            [brkDownMttrArray removeAllObjects];
            [brkDownHoursArray removeAllObjects];
            [brkDownMonthArray removeAllObjects];
            [brkDownMonthMainArray removeAllObjects];
            
        }
        brkDownFilteredArray = nil;
        // brkDownFilterFlag = NO;
        for (int i=0; i<[brkDownFilterStructuredArray count]; i++)
        {
            [[brkDownFilterStructuredArray objectAtIndex:i] setObject:@"" forKey:@"BrkDownPlantStatus"];
        }
        
        self.misFilterTableView.tag = 7;
        [self.misFilterTableView reloadData];
        
        //         self.notifDescTableView.tag = 0;
        //
        //         [self.notifDescTableView reloadData];
        self.brkDownFilterBackground.hidden = YES;
        [self.misFilterView removeFromSuperview];

        if ([breadkDownStr isEqualToString:@"PreviousFinantialYearData"])
        {
            [self previousBrkDownData];

        }
        else
        {
        
        [self brkDownInitialMethod];
        
     }
    }
    
    else
    {
        if (complianceArray == nil || notifBarchartText == nil || finalNotifBarchartArray == nil || month == nil || notifTypeArray == nil || notifMainArray ==nil || notifBarchartTextDescArray == nil || notifQmartArray == nil || totalCoutArray == nil || notifTotalArray == nil || notifTotalMainArray == nil)
        {
            complianceArray = [NSMutableArray new];
            notifBarchartText = [NSMutableArray new];
            finalNotifBarchartArray = [NSMutableArray new];
            month = [NSMutableArray new];
            notifTypeArray = [NSMutableArray new];
            notifMainArray = [NSMutableArray new];
            notifBarchartTextDescArray = [NSMutableArray new];
            notifQmartArray = [NSMutableArray new];
            totalCoutArray = [NSMutableArray new];
            notifTotalArray = [NSMutableArray new];
            notifTotalMainArray = [NSMutableArray new];
            
        }
        else
        {
            [complianceArray removeAllObjects];
            [notifBarchartText removeAllObjects];
            [finalNotifBarchartArray removeAllObjects];
            [month removeAllObjects];
            [notifTypeArray removeAllObjects];
            [notifMainArray removeAllObjects];
            [notifBarchartTextDescArray removeAllObjects];
            [notifQmartArray removeAllObjects];
            [totalCoutArray removeAllObjects];
            [notifTotalArray removeAllObjects];
            [notifTotalMainArray removeAllObjects];
            
            
        }
        
        //        if ((superview = [self.analysisView superview])) {
        //            [self.analysisView removeFromSuperview];
        //        }
        //        else if ((superview = [self.notifBarchartView superview])){
        [self.notifBarchartView removeFromSuperview];
        [_chart removeFromSuperview];
        // }
        
        if (notifSegmentedControl.selectedSegmentIndex == 0)
        {
            
            notifFilteredArray = nil;
            for (int i=0; i<[[notifFilterStructuredArray objectAtIndex:0] count]; i++)
            {
                [[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifPlantStatus"];
            }
            
            for (int i=0; i<[notifPlantWorkCenterArray count]; i++)
            {
                [[notifPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifWorkCenterStatus"];
            }
            notifPlantWorkCenterArray = nil;
            notifFilterFlag = NO;
            self.misFilterTableView.tag = 4;
            [self.misFilterTableView reloadData];
            if (array == nil)
            {
                array = [NSMutableArray new];
            }
            else
            {
                [array removeAllObjects];
            }
            
            if ([res_obj.misDictionary objectForKey:@"result"])
            {
                //[array removeAllObjects];
                if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"]];
                }
                else
                {
                    [array addObject:@"0"];
                }
                if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"]];
                    
                }
                else
                {
                    [array addObject:@"0"];
                    
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"]];
                    
                }
                else
                {
                    [array addObject:@"0"];
                    
                }
                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
                    
                    [self.notifSubView addSubview:self.analysisView];
                    [superview addSubview:self.analysisView];
                    
                    
                    [self.misFilterView removeFromSuperview];
                    self.notifFilterBackGround.hidden = YES;
                    [MBProgressHUD hideHUDForView:self.view animated:YES];

                });
                
            }
        }
        else if (notifSegmentedControl.selectedSegmentIndex == 1)
        {
            notifBarFilteredArray = nil;
            for (int i=0; i<[[notifBarFilterStructuredArray objectAtIndex:0] count]; i++)
            {
                [[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifBarPlantStatus"];
            }
            
            for (int i=0; i<[notifBarPlantWorkCenterArray count]; i++)
            {
                [[notifBarPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifBarWorkCenterStatus"];
            }
            notifBarPlantWorkCenterArray = nil;
            notifBarFilterFlag = NO;
            self.misFilterTableView.tag = 8;
            [self.misFilterTableView reloadData];
            
            notifComplianceSecondArray = [notifComlianceMainArray copy];
            if ([selectedFlag isEqualToString:@"Notification"])
            {
                
            if ([notifComlianceMainArray count])
            {
                for (int i = 0; i<[notifComlianceMainArray count]; i++)
                {
                    //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                    //                {
                    //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                    //                                        {
                    //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                    //                                                {
                    textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Qmart"];
                    if ([finalNotifBarchartArray count])
                    {
                        for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                        {
                            if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Qmart"]])
                            {
                                notifPieChart = YES;
                            }
                        }
                        if (notifPieChart == YES)
                        {
                            notifPieChart = NO;
                        }
                        else
                        {
                            NSInteger sum = 0;
                            NSInteger notifTotal = 0;
                            
                            for (int j =0; j<[notifComplianceSecondArray count]; j++)
                            {
                                //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                //                                {
                                
                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                {
                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                    {
                                        
                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                        
                                    }
                                }
                                // }
                                
                            }
                            
                            
                            [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                            // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                            [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                            
                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                            
                            if (finalNotifBarchartArray == nil)
                            {
                                finalNotifBarchartArray = [NSMutableArray new];
                            }
                            else
                            {
                                [finalNotifBarchartArray removeAllObjects];
                            }
                            
                            if ([notifMainArray count]) {
                                
                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                {
                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                    
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                    // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                    
                                    [finalNotifBarchartArray addObject:tempDictionary];
                                }
                            }
                            
                        }
                    }
                    
                    else
                    {
                        NSInteger sum = 0;
                        NSInteger notifTotal = 0;
                        for (int j =0; j<[notifComplianceSecondArray count]; j++)
                        {
                            //                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                            //                            {
                            if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                            {
                                if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                {
                                    
                                    sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                    notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                    
                                }
                            }
                            //}
                        }
                        
                        [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                        //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                        [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                        
                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                        
                        if ([notifMainArray count]) {
                            
                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                            {
                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                
                                [finalNotifBarchartArray addObject:tempDictionary];
                            }
                        }
                    }
                }
                if ([finalNotifBarchartArray count])
                {
                for (int z=0; z<[finalNotifBarchartArray count]; z++)
                {
                    if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                    {
                        [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                        [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmart"]];
                        [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                        // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                        // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                        [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                    }
                    
                }
                }
                if ([notifBarchartTextDescArray count])
                {
                for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                {
                    double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                    NSLog(@"%f",compValue);
                    double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                    NSLog(@"%f",totalValue);
                    double mulValue = compValue/totalValue;
                    NSLog(@"%f",mulValue);
                    float value = (mulValue * 100);
                    NSLog(@"%.f",value);
                    
                    NSString *symbol = @"%";
                    [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                }
                    [self barchart];
                    [_chart reloadData];
                    // [self.notifSubView addSubview:self.notifBarchartView];
                    [superview addSubview:self.notifBarchartView];
                    [superview addSubview:_chart];
//                    self.notifFilterBackGround.hidden = YES;
//                    [self.misFilterView removeFromSuperview];
                }
//                else
//                {
//                    errorAlrt = [[UIAlertView alloc] initWithTitle:@"" message:@"No Data Found" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
//                    [errorAlrt show];
//                }
//                }
              }
            }
            else if ([selectedFlag isEqualToString:@"Order"])
            {
                
                if ([notifComlianceMainArray count])
                {
                    for (int i = 0; i<[notifComlianceMainArray count]; i++)
                    {
                        //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                        //                {
                        //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                        //                                        {
                        //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                        //                                                {
                        textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Auart"];
                        if ([finalNotifBarchartArray count])
                        {
                            for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                            {
                                if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Auart"]])
                                {
                                    notifPieChart = YES;
                                }
                            }
                            if (notifPieChart == YES)
                            {
                                notifPieChart = NO;
                            }
                            else
                            {
                                NSInteger sum = 0;
                                NSInteger notifTotal = 0;
                                
                                for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                {
                                    //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    //                                {
                                    
                                    if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                    {
                                        if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                        {
                                            
                                            sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                            notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                            
                                        }
                                    }
                                    // }
                                    
                                }
                                
                                
                                [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                
                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                
                                if (finalNotifBarchartArray == nil)
                                {
                                    finalNotifBarchartArray = [NSMutableArray new];
                                }
                                else
                                {
                                    [finalNotifBarchartArray removeAllObjects];
                                }
                                
                                if ([notifMainArray count]) {
                                    
                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                    {
                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                        
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                        // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                        
                                        [finalNotifBarchartArray addObject:tempDictionary];
                                    }
                                }
                                
                            }
                        }
                        
                        else
                        {
                            NSInteger sum = 0;
                            NSInteger notifTotal = 0;
                            for (int j =0; j<[notifComplianceSecondArray count]; j++)
                            {
                                //                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                //                            {
                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                {
                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                    {
                                        
                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                        
                                    }
                                }
                                //}
                            }
                            
                            [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                            //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                            [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                            
                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                            
                            if ([notifMainArray count]) {
                                
                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                {
                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                    
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                    // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                    
                                    [finalNotifBarchartArray addObject:tempDictionary];
                                }
                            }
                        }
                    }
                    if ([finalNotifBarchartArray count])
                    {
                    for (int z=0; z<[finalNotifBarchartArray count]; z++)
                    {
                        if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                        {
                            [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                            [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Auart"]];
                            [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                            // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                            // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                            [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                        }
                        
                    }
                    }
                    if ([notifBarchartTextDescArray count])
                    {
                    for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                    {
                        double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                        NSLog(@"%f",compValue);
                        double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                        NSLog(@"%f",totalValue);
                        double mulValue = compValue/totalValue;
                        NSLog(@"%f",mulValue);
                        float value = (mulValue * 100);
                        NSLog(@"%.f",value);
                        
                        NSString *symbol = @"%";
                        [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                    }
                        [self barchart];
                        [_chart reloadData];
                        // [self.notifSubView addSubview:self.notifBarchartView];
                        [superview addSubview:self.notifBarchartView];
                        [superview addSubview:_chart];
//                        self.notifFilterBackGround.hidden = YES;
//                        [self.misFilterView removeFromSuperview];
                    }
//                    else
//                    {
//                        errorAlrt = [[UIAlertView alloc] initWithTitle:@"" message:@"No Data Found" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
//                        [errorAlrt show];
//                    }
                }
            }
            
//            [self barchart];
//            [_chart reloadData];
//            // [self.notifSubView addSubview:self.notifBarchartView];
//            [superview addSubview:self.notifBarchartView];
//            [superview addSubview:_chart];
//            self.notifFilterBackGround.hidden = YES;
            self.notifFilterBackGround.hidden = YES;
            [self.misFilterView removeFromSuperview];
            
            
            //                [self barchart];
            //                [_chart reloadData];
            //            [self.notifFilterBackGround removeFromSuperview];
            //            [self.misFilterView removeFromSuperview];
            //                self.notifBarchartView.hidden = NO;
            //                [notificationView addSubview:self.notifBarchartView];
        }
    }
}
- (IBAction)permitDetailDescBackClicked:(id)sender
{
    [self.permitDetailDescView removeFromSuperview];
}
- (IBAction)secondLevelNotifBackClicked:(id)sender
{
    [self.pieNotifChartView setSliceDeselectedAtIndex:0];
    [self.pieNotifChartView setSliceDeselectedAtIndex:1];
    [self.pieNotifChartView setSliceDeselectedAtIndex:2];
    
    [self.secondLevelNotifView removeFromSuperview];
    
}
- (IBAction)segmentedControlClicked:(id)sender
{
    
    if (segmentedControl.selectedSegmentIndex == 0)
    {
        if (array == nil) {
            array = [NSMutableArray new];
        }
        else{
            [array removeAllObjects];
        }
        self.permitPiechartView.selectedIdentifier = nil;
        
        self.permitPiechartView.selectedIdentifier = @"FirstPieChart";
        
        
        if ([workCenterFilteredArray count])
        {
            if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Crea"])
            {
                [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Crea"]];
            }
            else
            {
                [array addObject:@"0"];
            }
            if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Prep"])
            {
                [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Prep"]];
            }
            else
            {
                [array addObject:@"0"];
            }
            
            if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Clsd"])
            {
                [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Clsd"]];
            }
            else
            {
                [array addObject:@"0"];
            }
            //                        if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Reje"])
            //                        {
            //                            [array addObject:[[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Reje"]];
            //                        }
            //                        else
            //                        {
            //                            [array addObject:@"0"];
            //                        }
            if ([[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Total"])
            {
                self.permitCountLabel.text = [[workCenterFilteredArray objectAtIndex:0] objectForKey:@"Total"];
            }
            else
            {
                self.permitCountLabel.text = @"0";
            }
            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];

            dispatch_async(dispatch_get_main_queue(), ^{
//                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:array];
            });
            
        }
        else
        {
            
            if ([res_obj.misDictionary objectForKey:@"permit"])
                
            {
                //            self.permitPiechartView.selectedIdentifier = @"FirstPieChart";
                
                
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Crea"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Crea"]];
                }
                else
                {
                    [array addObject:@"0"];
                }
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Prep"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Prep"]];
                }
                else
                {
                    [array addObject:@"0"];
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Clsd"])
                {
                    [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Clsd"]];
                }
                else
                {
                    [array addObject:@"0"];
                }
                //            if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Reje"])
                //            {
                //                [array addObject:[[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Reje"]];
                //            }
                //            else
                //            {
                //                [array addObject:@"0"];
                //            }
                if ([[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Total"])
                {
                    self.permitCountLabel.text = [[[res_obj.misDictionary objectForKey:@"permit"] objectAtIndex:0] objectForKey:@"Total"];
                }
                else
                {
                    self.permitCountLabel.text = @"0";
                }
                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];

                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    if ([array count]) {
//                        [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                        
                        [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:array];
                    }
                    
                    [MBProgressHUD hideHUDForView:self.notifSubView animated:YES];
                });
            }
        }
    }
    else if (segmentedControl.selectedSegmentIndex == 1)
    {
        if (secondPieChartArray == nil) {
            secondPieChartArray = [NSMutableArray new];
        }
        else{
            [secondPieChartArray removeAllObjects];
        }
        self.permitPiechartView.selectedIdentifier = nil;
        
        self.permitPiechartView.selectedIdentifier = @"SecondPieChart";
        
        
        if ([wrkAppFilteredArray count])
        {
            if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Red"])
            {
                [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Red"]];
            }
            else
            {
                [secondPieChartArray addObject:@"0"];
            }
            if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Yellow"])
            {
                [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Yellow"]];
            }
            else
            {
                [secondPieChartArray addObject:@"0"];
            }
            
            if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Green"])
            {
                [secondPieChartArray addObject:[[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Green"]];
            }
            else
            {
                [secondPieChartArray addObject:@"0"];
            }
            if ([[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Total"])
            {
                self.permitCountLabel.text = [[wrkAppFilteredArray objectAtIndex:0] objectForKey:@"Total"];
            }
            else
            {
                self.permitCountLabel.text = @"0";
            }
            [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];

            dispatch_async(dispatch_get_main_queue(), ^{
 
                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:secondPieChartArray];
            });
            
        }
        else
        {
            
            if (wrkApprovalDescArray == nil || piechartColorsArray == nil)
            {
                wrkApprovalDescArray = [NSMutableArray new];
                piechartColorsArray = [NSMutableArray new];
                
            }
            else
            {
                [wrkApprovalDescArray removeAllObjects];
                [piechartColorsArray removeAllObjects];
                
            }
            if ([res_obj.misDictionary objectForKey:@"WorkApproval"])
            {
                if (secondPieChartArray == nil || array == nil) {
                    secondPieChartArray = [NSMutableArray new];
                    array = [NSMutableArray new];
                }
                else{
                    [secondPieChartArray removeAllObjects];
                    [array removeAllObjects];
                    
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Red"])
                {
                    [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Red"]];
                    //                [wrkApprovalDescArray addObject:@"Not Issued"];
                    //                [piechartColorsArray addObject:[UIColor colorWithRed:255.0/255 green:0/255 blue:0/255 alpha:1.0]];
                    //
                }
                else
                {
                    [secondPieChartArray addObject:@"0"];
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Yellow"])
                {
                    [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Yellow"]];
                    //                [wrkApprovalDescArray addObject:@"Partially Issued"];
                    //                [piechartColorsArray addObject:[UIColor colorWithRed:255.0/255 green:255.0/255 blue:0/255 alpha:1.0]];
                    //
                }
                else
                {
                    [secondPieChartArray addObject:@"0"];
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Green"])
                {
                    [secondPieChartArray addObject:[[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Green"]];
                    //                [wrkApprovalDescArray addObject:@"Issued"];
                    //                [piechartColorsArray addObject:[UIColor colorWithRed:0/255 green:128.0/255 blue:0/255 alpha:1.0]];
                    
                }
                else
                {
                    [secondPieChartArray addObject:@"0"];
                }
                
                if ([[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Total"])
                {
                    self.permitCountLabel.text = [[[res_obj.misDictionary objectForKey:@"WorkApproval"] objectAtIndex:0] objectForKey:@"Total"];
                }
                else
                {
                    self.permitCountLabel.text = @"0";
                }
                
                //            NSMutableArray *permitWrkAppDescMainArray = [NSMutableArray new];
                //            [permitWrkAppDescMainArray addObject:[NSArray arrayWithObjects:secondPieChartArray,wrkApprovalDescArray,piechartColorsArray, nil]];
                
                
                [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];

                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    if ([secondPieChartArray count]) {
                        
//                        [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:nil];
                        [self.permitPiechartView renderInLayer:self.permitPiechartView dataArray:secondPieChartArray];
                    }
                    
                    [MBProgressHUD hideHUDForView:self.view animated:YES];
                });
                
            }
        }
        
    }
    
}

- (IBAction)calenderClicked:(id)sender
{
    NSDateComponents *components = [[NSCalendar currentCalendar] components:NSCalendarUnitDay | NSCalendarUnitMonth | NSCalendarUnitYear fromDate:[NSDate date]];
    // NSInteger day = [components day];
    //                   NSInteger month = [components month];
    //                    NSInteger year = [components year];
    
    if ([components month]>= 4)
    {
        bYear =[NSString stringWithFormat:@"%ld",(long)[components year]];
        [components setYear:[components year]];
        //        self.monthlyTrendText.text = [NSString stringWithFormat:@"MTTR Monthly Trend -FY%ld",(long)[components year]];
        alertString = [NSString stringWithFormat:@"Do you want to see FY%ld data?",(long)[components year]];
    }
    
 
    [self showAlertMessageWithTitle:@"Alert" message:alertString cancelButtonTitle:@"No" withactionType:@"Multiple" forMethod:@"Financial Alert"];
    
    //    breadkDownStr = @"PreviousFinantialYearData";
    //
    //    NSMutableDictionary *brkdownDict = [[NSMutableDictionary alloc]init];
    //    [brkdownDict setObject:decryptedUserName forKey:@"USERNAME"];
    //    [brkdownDict setObject:@"" forKey:@"SIGN"];
    //    [brkdownDict setObject:@"" forKey:@"OPTION"];
    //    [brkdownDict setObject:@"" forKey:@"STARTDATE"];
    //    [brkdownDict setObject:@"" forKey:@"ENDDATE"];
    //    [brkdownDict setObject:@"X" forKey:@"YEAR"];
    //    [brkdownDict setObject:@"MISR" forKey:@"TRANSMITTYPE"];
    //    
    //    [Request makeWebServiceRequest:BREAKDOWN_STATISTICS parameters:brkdownDict delegate:self];
    
}
- (IBAction)notifSegmentedControlClicked:(id)sender
{
    //    [UIView beginAnimations:nil context:NULL];
    //    [UIView setAnimationDuration:0.75];
    
    
    if ((superview = [self.analysisView superview])) {
        [self.analysisView removeFromSuperview];
    }
    else if ((superview = [self.notifBarchartView superview])){
        [self.notifBarchartView removeFromSuperview];
        [_chart removeFromSuperview];
    }
    
    if (complianceArray == nil || notifBarchartText == nil || finalNotifBarchartArray == nil || month == nil || notifTypeArray == nil || notifMainArray ==nil || notifBarchartTextDescArray == nil || notifQmartArray == nil || totalCoutArray == nil || notifTotalArray == nil || notifTotalMainArray == nil || array == nil)
    {
        complianceArray = [NSMutableArray new];
        notifBarchartText = [NSMutableArray new];
        finalNotifBarchartArray = [NSMutableArray new];
        month = [NSMutableArray new];
        notifTypeArray = [NSMutableArray new];
        notifMainArray = [NSMutableArray new];
        notifBarchartTextDescArray = [NSMutableArray new];
        notifQmartArray = [NSMutableArray new];
        totalCoutArray = [NSMutableArray new];
        notifTotalArray = [NSMutableArray new];
        notifTotalMainArray = [NSMutableArray new];
        array = [NSMutableArray new];
        
        
    }
    else
    {
        [complianceArray removeAllObjects];
        [notifBarchartText removeAllObjects];
        [finalNotifBarchartArray removeAllObjects];
        [month removeAllObjects];
        [notifTypeArray removeAllObjects];
        [notifMainArray removeAllObjects];
        [notifBarchartTextDescArray removeAllObjects];
        [notifQmartArray removeAllObjects];
        [totalCoutArray removeAllObjects];
        [notifTotalArray removeAllObjects];
        [notifTotalMainArray removeAllObjects];
        [array removeAllObjects];
        
    }
    
    if (notifSegmentedControl.selectedSegmentIndex == 0)
    {
        //        if (array == nil)
        //        {
        //            array = [NSMutableArray new];
        //        }
        //        else
        //        {
        //            [array removeAllObjects];
        //        }
        if ([notifFilteredArray count])
        {
            //                         [array removeAllObjects];
            if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Comp"])
            {
                [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Comp"]];
            }
            else
            {
                [array addObject:@"0"];
            }
            if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Inpr"])
            {
                [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Inpr"]];
                
            }
            else
            {
                [array addObject:@"0"];
                
            }
            
            if ([[notifFilteredArray objectAtIndex:0] objectForKey:@"Outs"])
            {
                [array addObject:[[notifFilteredArray objectAtIndex:0] objectForKey:@"Outs"]];
                
            }
            else
            {
                [array addObject:@"0"];
                
            }
            [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:nil];
            
            dispatch_async(dispatch_get_main_queue(), ^{
                [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
                [self.notifSubView addSubview:self.analysisView];
                [superview addSubview:self.analysisView];
                [MBProgressHUD hideHUDForView:self.view animated:YES];
            });
            
        }
        else
        {
            notifFilteredArray = nil;
            for (int i=0; i<[[notifFilterStructuredArray objectAtIndex:0] count]; i++)
            {
                [[[notifFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifPlantStatus"];
            }
            
            for (int i=0; i<[notifPlantWorkCenterArray count]; i++)
            {
                [[notifPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifWorkCenterStatus"];
            }
            notifPlantWorkCenterArray = nil;
            notifFilterFlag = NO;
            self.misFilterTableView.tag = 4;
            [self.misFilterTableView reloadData];
            
            if ([res_obj.misDictionary count]) {
                
                if ([res_obj.misDictionary objectForKey:@"result"])
                {
                    if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"])
                    {
                        [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Comp"]];
                    }
                    else
                    {
                        [array addObject:@"0"];
                    }
                    if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"])
                    {
                        [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Inpr"]];
                        
                    }
                    else
                    {
                        [array addObject:@"0"];
                        
                    }
                    
                    if ([[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"])
                    {
                        [array addObject:[[[res_obj.misDictionary objectForKey:@"result"] objectAtIndex:0] objectForKey:@"Outs"]];
                        
                    }
                    else
                    {
                        [array addObject:@"0"];
                    }
                }
                else
                {
                
                     [self showAlertMessageWithTitle:@"Alert" message:@"No Data Found" cancelButtonTitle:@"No" withactionType:@"Single" forMethod:nil];
                    
                }
                [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:nil];
                
                dispatch_async(dispatch_get_main_queue(), ^{
                    
                    if ([array count]) {
                        [self.pieNotifChartView renderInLayer:self.pieNotifChartView dataArray:array];
                        [self.notifSubView addSubview:self.analysisView];
                        [superview addSubview:self.analysisView];
                        
                        // [self.view addSubview:notificationView];
                    }
                    [MBProgressHUD hideHUDForView:self.view animated:YES];
                });
            }
        }
    }
    
    else if (notifSegmentedControl.selectedSegmentIndex == 1)
    {
        
        [self.notifBarchartView removeFromSuperview];
        [_chart removeFromSuperview];
        
        if ([selectedFlag isEqualToString:@"Notification"])
        {
            
        if ([notifBarFilteredArray count])
        {
            notifComplianceSecondArray = [notifComlianceMainArray copy];
            
            if ([[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
            {
                
                // notifComplianceSecondArray = [notifComlianceMainArray copy];
                if ([notifComlianceMainArray count])
                {
                    for (int i = 0; i<[notifComlianceMainArray count]; i++)
                    {
                        if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                        {
                            
                            
                            //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                            //                {
                            //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                            //                                        {
                            //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                            //                                                {
                            textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Qmart"];
                            // }
                            if ([finalNotifBarchartArray count])
                            {
                                for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                                {
                                    if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                    {
                                        notifPieChart = YES;
                                    }
                                }
                                if (notifPieChart == YES)
                                {
                                    notifPieChart = NO;
                                }
                                else
                                {
                                    NSInteger sum = 0;
                                    NSInteger notifTotal = 0;
                                    
                                    for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                    {
                                        if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                        {
                                            
                                            //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            //                                {
                                            
                                            if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    
                                                    sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                    
                                                }
                                                //                                            else
                                                //                                            {
                                                //
                                                //                                            }
                                            }
                                        }
                                        
                                    }
                                    
                                    
                                    [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                                    // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                    
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                    
                                    if (finalNotifBarchartArray == nil)
                                    {
                                        finalNotifBarchartArray = [NSMutableArray new];
                                    }
                                    else
                                    {
                                        [finalNotifBarchartArray removeAllObjects];
                                    }
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                            
                                            [finalNotifBarchartArray addObject:tempDictionary];
                                        }
                                    }
                                    
                                }
                            }
                            
                            
                            else
                            {
                                NSInteger sum = 0;
                                NSInteger notifTotal = 0;
                                for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                    
                                {
                                    if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    {
                                        if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                        {
                                            if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                            {
                                                sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                            }
                                            //                                        else
                                            //                                        {
                                            //
                                            //                                        }
                                        }
                                    }
                                }
                                
                                [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                                //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                
                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                
                                if ([notifMainArray count]) {
                                    
                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                    {
                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                        
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                        // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                        
                                        [finalNotifBarchartArray addObject:tempDictionary];
                                    }
                                }
                            }
                        }
                    }
                    
                    for (int z=0; z<[finalNotifBarchartArray count]; z++)
                    {
                        if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                        {
                            [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                            [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmart"]];
                            [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                            // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                            // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                            [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                        }
                    }
                    if ([notifBarchartTextDescArray count])
                    {
                        for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                        {
                            double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                            NSLog(@"%f",compValue);
                            double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                            NSLog(@"%f",totalValue);
                            double mulValue = compValue/totalValue;
                            NSLog(@"%f",mulValue);
                            float value = (mulValue * 100);
                            NSLog(@"%.f",value);
                            NSString *symbol = @"%";
                            [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                        }
                    }
                }
            }
            else
            {
                if ([notifComlianceMainArray count])
                {
                    for (int i = 0; i<[notifComlianceMainArray count]; i++)
                    {
                        if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Swerk"]])
                        {
                            
                            //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                            //                {
                            //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                            //                                        {
                            //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                            //                                                {
                            textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Qmart"];
                            // }
                            if ([finalNotifBarchartArray count])
                            {
                                for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                                {
                                    if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Qmart"]])
                                    {
                                        notifPieChart = YES;
                                    }
                                }
                                if (notifPieChart == YES)
                                {
                                    notifPieChart = NO;
                                }
                                else
                                {
                                    NSInteger sum = 0;
                                    NSInteger notifTotal = 0;
                                    
                                    for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                    {
                                        if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                        {
                                            
                                            //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            //                                {
                                            
                                            if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                            {
                                                if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    
                                                    sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                    
                                                }
                                            }
                                        }
                                        
                                    }
                                    
                                    
                                    [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                                    // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                    
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                    
                                    if (finalNotifBarchartArray == nil)
                                    {
                                        finalNotifBarchartArray = [NSMutableArray new];
                                    }
                                    else
                                    {
                                        [finalNotifBarchartArray removeAllObjects];
                                    }
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                            // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                            
                                            [finalNotifBarchartArray addObject:tempDictionary];
                                        }
                                    }
                                    
                                }
                            }
                            
                            else
                            {
                                NSInteger sum = 0;
                                NSInteger notifTotal = 0;
                                for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                    
                                {
                                    if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                    {
                                        
                                        //                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                        //                            {
                                        if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                        {
                                            if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                            {
                                                
                                                sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                
                                            }
                                        }
                                    }
                                }
                                
                                [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                                //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                
                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                
                                if ([notifMainArray count]) {
                                    
                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                    {
                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                        
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                        // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                        
                                        [finalNotifBarchartArray addObject:tempDictionary];
                                    }
                                }
                            }
                        }
                    }
                    
                    for (int z=0; z<[finalNotifBarchartArray count]; z++)
                    {
                        if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                        {
                            [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                            [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmart"]];
                            [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                            // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                            // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                            [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                        }
                        
                    }
                    for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                    {
                        double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                        NSLog(@"%f",compValue);
                        double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                        NSLog(@"%f",totalValue);
                        double mulValue = compValue/totalValue;
                        NSLog(@"%f",mulValue);
                        float value = (mulValue * 100);
                        NSLog(@"%.f",value);
                        
                        NSString *symbol = @"%";
                        [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                    }
                }
            }
            //  [_chart removeFromSuperview];
            //                    [self.view addSubview:_barchartView];
            if ([complianceArray count])
            {
//                _chartView.delegate = self;
//                
//                _chartView.chartDescription.enabled = NO;
//                
//                _chartView.drawGridBackgroundEnabled = NO;
//                _chartView.drawBarShadowEnabled = NO;
//                _chartView.highlightFullBarEnabled = NO;
//                
////                _chartView.drawOrder = @[
////                                         @(CombinedChartDrawOrderBar)
////                                                                                ];
//                ChartLegend *l = _chartView.legend;
//                l.wordWrapEnabled = YES;
//                l.horizontalAlignment = ChartLegendHorizontalAlignmentCenter;
//                l.verticalAlignment = ChartLegendVerticalAlignmentBottom;
//                //                    l.orientation = ChartLegendOrientationHorizontal;
//                l.drawInside = NO;
//                
//                ChartYAxis *rightAxis = _chartView.rightAxis;
//                rightAxis.drawGridLinesEnabled = NO;
//                rightAxis.axisMinimum = 0.0; // this replaces startAtZero = YES
//                
//                ChartYAxis *leftAxis = _chartView.leftAxis;
//                leftAxis.drawGridLinesEnabled = NO;
//                leftAxis.axisMinimum = 0.0; // this replaces startAtZero = YES
//                
//                ChartXAxis *xAxis = _chartView.xAxis;
//                xAxis.labelPosition = XAxisLabelPositionBottom;
//                xAxis.axisMinimum = 0.0;
//                xAxis.granularity = 1.0;
//                xAxis.valueFormatter = self;

                [self barchart];
                [_chart reloadData];
                
                [self.notifBarchartView setFrame:CGRectMake(0, 0, self.notifSubView.frame.size.width, self.notifSubView.frame.size.height)];
                [superview addSubview:self.notifBarchartView];
                [superview addSubview:_chart];
            }
            
        }
        else
        {
            
            [self.notifBarchartView removeFromSuperview];
            [_chart removeFromSuperview];
            
            notifBarFilteredArray = nil;
            if ([notifBarFilterStructuredArray count])
            {
                
            for (int i=0; i<[[notifBarFilterStructuredArray objectAtIndex:0] count]; i++)
            {
                [[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifBarPlantStatus"];
            }
            if ([notifBarPlantWorkCenterArray count]) {
                
            for (int i=0; i<[notifBarPlantWorkCenterArray count]; i++)
            {
                [[notifBarPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifBarWorkCenterStatus"];
            }
            }

            notifBarPlantWorkCenterArray = nil;
            notifBarFilterFlag = NO;
            self.misFilterTableView.tag = 8;
            [self.misFilterTableView reloadData];
            }
            
            //        currentDate = [NSDate date];
            //        // Convert string to date object
            //        newString = [[NSString stringWithFormat:@"%@",currentDate] substringToIndex:7];
            //        formatter = [[NSDateFormatter alloc] init];
            //        [formatter setDateStyle:NSDateFormatterFullStyle];
            //        [formatter setDateFormat:@"YYYY-MM"];
            //        timeZone = [NSTimeZone timeZoneWithName:@"UTC"];
            //        [formatter setTimeZone:timeZone];
            //        [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
            //        dateString = [formatter stringFromDate:currentDate];
            //        
            //        date=[formatter dateFromString:dateString];
            //        [formatter setDateFormat:@"MMM YYYY"];
            //        convertedStartDateString = [formatter stringFromDate:date];
            // self.notifBarchartTimePeriod.text = convertedStartDateString;
            
            // self.pieNotifChartView.hidden = YES;
            //        [self.pieNotifChartView removeFromSuperview];
            //        [superview addSubview:self.notifSubView];
            //        [self.notifSubView addSubview:self.notifBarchartView];
            //        [superview addSubview:self.notifBarchartView];
            
            notifComplianceSecondArray = [notifComlianceMainArray copy];
            if ([notifComlianceMainArray count])
            {
                for (int i = 0; i<[notifComlianceMainArray count]; i++)
                {
                    //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                    //                {
                    //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                    //                                        {
                    //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                    //                                                {
                    textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Qmart"];
                    if ([finalNotifBarchartArray count])
                    {
                        for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                        {
                            if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Qmart"]])
                            {
                                notifPieChart = YES;
                            }
                        }
                        if (notifPieChart == YES)
                        {
                            notifPieChart = NO;
                        }
                        else
                        {
                            NSInteger sum = 0;
                            NSInteger notifTotal = 0;
                            
                            for (int j =0; j<[notifComplianceSecondArray count]; j++)
                            {
                                //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                //                                {
                                
                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                                {
                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                    {
                                        
                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                        
                                    }
                                }
                                // }
                                
                            }
                            
                            
                            [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                            // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                            [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                            
                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                            
                            if (finalNotifBarchartArray == nil)
                            {
                                finalNotifBarchartArray = [NSMutableArray new];
                            }
                            else
                            {
                                [finalNotifBarchartArray removeAllObjects];
                            }
                            
                            if ([notifMainArray count]) {
                                
                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                {
                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                    
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                    // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                    
                                    [finalNotifBarchartArray addObject:tempDictionary];
                                }
                            }
                            
                        }
                    }
                    
                    else
                    {
                        NSInteger sum = 0;
                        NSInteger notifTotal = 0;
                        for (int j =0; j<[notifComplianceSecondArray count]; j++)
                        {
                            //                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                            //                            {
                            if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Qmart"]])
                            {
                                if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                {
                                    
                                    sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                    notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                    
                                }
                            }
                            //}
                        }
                        
                        [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Qmart"]];
                        //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                        [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                        
                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                        
                        if ([notifMainArray count]) {
                            
                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                            {
                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Qmart"];
                                // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                
                                [finalNotifBarchartArray addObject:tempDictionary];
                            }
                        }
                    }
                }
                if ([finalNotifBarchartArray count])
                {
                for (int z=0; z<[finalNotifBarchartArray count]; z++)
                {
                    if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                    {
                        [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                        [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmart"]];
                        [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                        // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                        // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                        [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                    }
                    
                }
                }
                if ([notifBarchartTextDescArray count])
                {
                for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                {
                    double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                    NSLog(@"%f",compValue);
                    double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                    NSLog(@"%f",totalValue);
                    double mulValue = compValue/totalValue;
                    NSLog(@"%f",mulValue);
                    float value = (mulValue * 100);
                    NSLog(@"%.f",value);
                    
                    NSString *symbol = @"%";
                    [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                    
                }
                    [self barchart];
                    [_chart reloadData];
                    
                    [self.notifBarchartView setFrame:CGRectMake(0, 0, superview.frame.size.width, superview.frame.size.height)];
                    
                    [superview addSubview:self.notifBarchartView];
                    [superview addSubview:_chart];
                    
                }
                else
                {
                       [self showAlertMessageWithTitle:@"" message:@"No Chart Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                }
            }
            
//            [self barchart];
//            [_chart reloadData];
//            [superview addSubview:self.notifBarchartView];
//            [superview addSubview:_chart];
            
            
            
        }
      }
        else if ([selectedFlag isEqualToString:@"Order"])
        {
            if ([notifBarFilteredArray count])
            {
                notifComplianceSecondArray = [notifComlianceMainArray copy];
                
                if ([[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"])
                {
                    
                    // notifComplianceSecondArray = [notifComlianceMainArray copy];
                    if ([notifComlianceMainArray count])
                    {
                        for (int i = 0; i<[notifComlianceMainArray count]; i++)
                        {
                            if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Arbpl"]])
                            {
                                
                                
                                //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                //                {
                                //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                //                                        {
                                //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                //                                                {
                                textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Auart"];
                                // }
                                if ([finalNotifBarchartArray count])
                                {
                                    for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Auart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        NSInteger notifTotal = 0;
                                        
                                        for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                        {
                                            if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            {
                                                
                                                //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                //                                {
                                                
                                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                {
                                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                        
                                                    }
                                                    //                                            else
                                                    //                                            {
                                                    //
                                                    //                                            }
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                        // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                        
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                        
                                        if (finalNotifBarchartArray == nil)
                                        {
                                            finalNotifBarchartArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifBarchartArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                
                                                [finalNotifBarchartArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    NSInteger notifTotal = 0;
                                    for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                        
                                    {
                                        if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                        {
                                            if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                            {
                                                if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                }
                                                //                                        else
                                                //                                        {
                                                //
                                                //                                        }
                                            }
                                        }
                                    }
                                    
                                    [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                    //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                    
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                            // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                            
                                            [finalNotifBarchartArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                        }
                        
                        for (int z=0; z<[finalNotifBarchartArray count]; z++)
                        {
                            if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                                [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Auart"]];
                                [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                                // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                            }
                            
                        }
                        if ([notifBarchartTextDescArray count])
                        {
                            
                            for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                            {
                                double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                                NSLog(@"%f",compValue);
                                double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                                NSLog(@"%f",totalValue);
                                double mulValue = compValue/totalValue;
                                NSLog(@"%f",mulValue);
                                float value = (mulValue * 100);
                                NSLog(@"%.f",value);
                                
                                NSString *symbol = @"%";
                                [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                            }
                        }
                    }
                }
                else
                {
                    if ([notifComlianceMainArray count])
                    {
                        for (int i = 0; i<[notifComlianceMainArray count]; i++)
                        {
                            if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Swerk"]])
                            {
                                
                                //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                //                {
                                //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                                //                                        {
                                //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                                //                                                {
                                textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Auart"];
                                // }
                                if ([finalNotifBarchartArray count])
                                {
                                    for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                                    {
                                        if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Auart"]])
                                        {
                                            notifPieChart = YES;
                                        }
                                    }
                                    if (notifPieChart == YES)
                                    {
                                        notifPieChart = NO;
                                    }
                                    else
                                    {
                                        NSInteger sum = 0;
                                        NSInteger notifTotal = 0;
                                        
                                        for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                        {
                                            if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                            {
                                                
                                                //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                                //                                {
                                                
                                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                                {
                                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                    {
                                                        
                                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                        
                                                    }
                                                }
                                            }
                                            
                                        }
                                        
                                        
                                        [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                        // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                        [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                        [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                        
                                        [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                        
                                        if (finalNotifBarchartArray == nil)
                                        {
                                            finalNotifBarchartArray = [NSMutableArray new];
                                        }
                                        else
                                        {
                                            [finalNotifBarchartArray removeAllObjects];
                                        }
                                        
                                        if ([notifMainArray count]) {
                                            
                                            for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                            {
                                                NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                                
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                                // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                                [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                                
                                                [finalNotifBarchartArray addObject:tempDictionary];
                                            }
                                        }
                                        
                                    }
                                }
                                
                                else
                                {
                                    NSInteger sum = 0;
                                    NSInteger notifTotal = 0;
                                    for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                        
                                    {
                                        if ([[[notifBarFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Swerk"]])
                                        {
                                            
                                            //                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                            //                            {
                                            if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                            {
                                                if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                                {
                                                    
                                                    sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                                    notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                                    
                                                }
                                            }
                                        }
                                    }
                                    
                                    [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                    //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                    [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                    [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                    
                                    [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                    
                                    if ([notifMainArray count]) {
                                        
                                        for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                        {
                                            NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                            
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                            // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                            [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                            
                                            [finalNotifBarchartArray addObject:tempDictionary];
                                        }
                                    }
                                }
                            }
                        }
                        
                        for (int z=0; z<[finalNotifBarchartArray count]; z++)
                        {
                            if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                            {
                                [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                                [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Auart"]];
                                [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                                // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                                // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                                [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                            }
                            
                        }
                        for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                        {
                            double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                            NSLog(@"%f",compValue);
                            double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                            NSLog(@"%f",totalValue);
                            double mulValue = compValue/totalValue;
                            NSLog(@"%f",mulValue);
                            float value = (mulValue * 100);
                            NSLog(@"%.f",value);
                            
                            NSString *symbol = @"%";
                            [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                        }
                    }
                }
                //  [_chart removeFromSuperview];
                //                    [self.view addSubview:_barchartView];
                if ([complianceArray count])
                {
                    [self barchart];
                    [_chart reloadData];
                    [superview addSubview:self.notifBarchartView];
                    [superview addSubview:_chart];
                }
                
            }
            else
            {
                
                [self.notifBarchartView removeFromSuperview];
                [_chart removeFromSuperview];
                
                notifBarFilteredArray = nil;
                for (int i=0; i<[[notifBarFilterStructuredArray objectAtIndex:0] count]; i++)
                {
                    [[[notifBarFilterStructuredArray objectAtIndex:0] objectAtIndex:i] setObject:@"" forKey:@"NotifBarPlantStatus"];
                }
                
                for (int i=0; i<[notifBarPlantWorkCenterArray count]; i++)
                {
                    [[notifBarPlantWorkCenterArray objectAtIndex:i] setObject:@"" forKey:@"NotifBarWorkCenterStatus"];
                }
                notifBarPlantWorkCenterArray = nil;
                notifBarFilterFlag = NO;
                self.misFilterTableView.tag = 8;
                [self.misFilterTableView reloadData];
                
                
                notifComplianceSecondArray = [notifComlianceMainArray copy];
                if ([notifComlianceMainArray count])
                {
                    for (int i = 0; i<[notifComlianceMainArray count]; i++)
                    {
                        //                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                        //                {
                        //                                        if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Arbpl"]])
                        //                                        {
                        //                                                for (int i = 0; i<[tempDetailsarrays count]; i++)
                        //                                                {
                        textString = [[notifComlianceMainArray objectAtIndex:i] objectForKey:@"Auart"];
                        if ([finalNotifBarchartArray count])
                        {
                            for (int k = 0; k<[finalNotifBarchartArray count]; k++)
                            {
                                if ([textString isEqualToString:[[finalNotifBarchartArray objectAtIndex:k]objectForKey:@"Auart"]])
                                {
                                    notifPieChart = YES;
                                }
                            }
                            if (notifPieChart == YES)
                            {
                                notifPieChart = NO;
                            }
                            else
                            {
                                NSInteger sum = 0;
                                NSInteger notifTotal = 0;
                                
                                for (int j =0; j<[notifComplianceSecondArray count]; j++)
                                {
                                    //                                if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                    //                                {
                                    
                                    if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                    {
                                        if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                        {
                                            
                                            sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                            notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                            
                                        }
                                    }
                                    // }
                                    
                                }
                                
                                
                                [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                                // [txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                                [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                                [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                                
                                [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                                
                                if (finalNotifBarchartArray == nil)
                                {
                                    finalNotifBarchartArray = [NSMutableArray new];
                                }
                                else
                                {
                                    [finalNotifBarchartArray removeAllObjects];
                                }
                                
                                if ([notifMainArray count]) {
                                    
                                    for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                    {
                                        NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                        
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                        // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                        [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                        
                                        [finalNotifBarchartArray addObject:tempDictionary];
                                    }
                                }
                                
                            }
                        }
                        
                        else
                        {
                            NSInteger sum = 0;
                            NSInteger notifTotal = 0;
                            for (int j =0; j<[notifComplianceSecondArray count]; j++)
                            {
                                //                            if ([[[notifFilteredArray objectAtIndex:0] objectForKey:@"Swerk"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Swerk"]] && [[[notifFilteredArray objectAtIndex:0] objectForKey:@"Arbpl"] isEqualToString:[[tempDetailsCopyArray objectAtIndex:j] objectForKey:@"Arbpl"]])
                                //                            {
                                if ([textString isEqualToString:[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Auart"]])
                                {
                                    if ([[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"])
                                    {
                                        
                                        sum += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Comp"] intValue];
                                        notifTotal += [[[notifComplianceSecondArray objectAtIndex:j] objectForKey:@"Total"] intValue];
                                        
                                    }
                                }
                                //}
                            }
                            
                            [month addObject:[[notifComlianceMainArray objectAtIndex:i]objectForKey:@"Auart"]];
                            //[txtArray addObject:[[tempDetailsarrays objectAtIndex:i] objectForKey:@"Qmartx"]];
                            [notifTypeArray addObject:[[NSNumber numberWithUnsignedInteger:sum] stringValue]];
                            [notifTotalArray addObject:[[NSNumber numberWithUnsignedInteger:notifTotal] stringValue]];
                            
                            [notifMainArray addObjectsFromArray:[NSArray arrayWithObjects:month,notifTypeArray,notifTotalArray,nil]];
                            
                            if ([notifMainArray count]) {
                                
                                for (int m=0; m<[[notifMainArray objectAtIndex:0]count]; m++)
                                {
                                    NSMutableDictionary *tempDictionary=[NSMutableDictionary new];
                                    
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:0] objectAtIndex:m] forKey:@"Auart"];
                                    // [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Qmartx"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:1] objectAtIndex:m] forKey:@"Comp"];
                                    [tempDictionary setObject:[[notifMainArray objectAtIndex:2] objectAtIndex:m] forKey:@"Total"];
                                    
                                    [finalNotifBarchartArray addObject:tempDictionary];
                                }
                            }
                        }
                    }
                    if ([finalNotifBarchartArray count])
                    {
                    for (int z=0; z<[finalNotifBarchartArray count]; z++)
                    {
                        if (![[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"] isEqualToString:@"0"])
                        {
                            [totalCoutArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Comp"]];
                            [notifQmartArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Auart"]];
                            [notifTotalMainArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Total"]];
                            // [notifQmartTextArray addObject:[[finalNotifBarchartArray objectAtIndex:z] objectForKey:@"Qmartx"]];
                            // [descArray addObject:[NSArray arrayWithObjects:notifQmartArray,notifQmartTextArray, nil]];
                            [notifBarchartTextDescArray addObjectsFromArray:[NSArray arrayWithObjects:totalCoutArray,notifQmartArray,notifTotalMainArray, nil]];
                        }
                        
                    }
                    }
                    if ([notifBarchartTextDescArray count])
                    {
                    for (int i = 0; i<[[notifBarchartTextDescArray objectAtIndex:0] count]; i++)
                    {
                        double compValue = [[[notifBarchartTextDescArray objectAtIndex:0] objectAtIndex:i] doubleValue];
                        NSLog(@"%f",compValue);
                        double totalValue = [[[notifBarchartTextDescArray objectAtIndex:2] objectAtIndex:i] doubleValue];
                        NSLog(@"%f",totalValue);
                        double mulValue = compValue/totalValue;
                        NSLog(@"%f",mulValue);
                        float value = (mulValue * 100);
                        NSLog(@"%.f",value);
                        NSString *symbol = @"%";
                        [complianceArray addObject:[NSString stringWithFormat:@"%.f%@",[[NSNumber numberWithFloat:value] floatValue],symbol]];
                    }
                        [self barchart];
                        [_chart reloadData];
                        [superview addSubview:self.notifBarchartView];
                        [superview addSubview:_chart];
                    }
                    else
                    {
                            [self showAlertMessageWithTitle:@"" message:@"No Chart Data Found" cancelButtonTitle:@"Ok" withactionType:@"Single" forMethod:nil];
                     }
                }
                
//                [self barchart];
//                [_chart reloadData];
//                [superview addSubview:self.notifBarchartView];
//                [superview addSubview:_chart];
            }
        }
    }
}
- (IBAction)orderReportClicked:(id)sender
{
    
}
- (IBAction)orderBackClicked:(id)sender
{
    [self.orderDescriptionView removeFromSuperview];
}

@end
